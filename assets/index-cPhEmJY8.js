(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function E3(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var Wp={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function w3(){if(Vv)return Ec;Vv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ec.Fragment=e,Ec.jsx=t,Ec.jsxs=t,Ec}var Uv;function A3(){return Uv||(Uv=1,Wp.exports=w3()),Wp.exports}var g=A3(),Yp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function T3(){if(zv)return ke;zv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function k(q,G,X){this.props=q,this.context=G,this.refs=B,this.updater=X||D}k.prototype.isReactComponent={},k.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=k.prototype;function w(q,G,X){this.props=q,this.context=G,this.refs=B,this.updater=X||D}var S=w.prototype=new L;S.constructor=w,N(S,k.prototype),S.isPureReactComponent=!0;var V=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function I(q,G,X,Q,te,_e){return X=_e.ref,{$$typeof:n,type:q,key:G,ref:X!==void 0?X:null,props:_e}}function T(q,G){return I(q.type,G,void 0,void 0,void 0,q.props)}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function A(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return G[X]})}var P=/\/+/g;function F(q,G){return typeof q=="object"&&q!==null&&q.key!=null?A(""+q.key):G.toString(36)}function O(){}function he(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(O,O):(q.status="pending",q.then(function(G){q.status==="pending"&&(q.status="fulfilled",q.value=G)},function(G){q.status==="pending"&&(q.status="rejected",q.reason=G)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function de(q,G,X,Q,te){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var me=!1;if(q===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(q.$$typeof){case n:case e:me=!0;break;case x:return me=q._init,de(me(q._payload),G,X,Q,te)}}if(me)return te=te(q),me=Q===""?"."+F(q,0):Q,V(te)?(X="",me!=null&&(X=me.replace(P,"$&/")+"/"),de(te,G,X,"",function(sn){return sn})):te!=null&&(E(te)&&(te=T(te,X+(te.key==null||q&&q.key===te.key?"":(""+te.key).replace(P,"$&/")+"/")+me)),G.push(te)),1;me=0;var We=Q===""?".":Q+":";if(V(q))for(var ve=0;ve<q.length;ve++)Q=q[ve],_e=We+F(Q,ve),me+=de(Q,G,X,_e,te);else if(ve=b(q),typeof ve=="function")for(q=ve.call(q),ve=0;!(Q=q.next()).done;)Q=Q.value,_e=We+F(Q,ve++),me+=de(Q,G,X,_e,te);else if(_e==="object"){if(typeof q.then=="function")return de(he(q),G,X,Q,te);throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(q,G,X){if(q==null)return q;var Q=[],te=0;return de(q,Q,"","",function(_e){return G.call(X,_e,te++)}),Q}function le(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var fe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Ee(){}return ke.Children={map:Y,forEach:function(q,G,X){Y(q,function(){G.apply(this,arguments)},X)},count:function(q){var G=0;return Y(q,function(){G++}),G},toArray:function(q){return Y(q,function(G){return G})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ke.Component=k,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=w,ke.StrictMode=i,ke.Suspense=m,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ke.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},ke.cache=function(q){return function(){return q.apply(null,arguments)}},ke.cloneElement=function(q,G,X){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Q=N({},q.props),te=q.key,_e=void 0;if(G!=null)for(me in G.ref!==void 0&&(_e=void 0),G.key!==void 0&&(te=""+G.key),G)!U.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(Q[me]=G[me]);var me=arguments.length-2;if(me===1)Q.children=X;else if(1<me){for(var We=Array(me),ve=0;ve<me;ve++)We[ve]=arguments[ve+2];Q.children=We}return I(q.type,te,void 0,void 0,_e,Q)},ke.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},ke.createElement=function(q,G,X){var Q,te={},_e=null;if(G!=null)for(Q in G.key!==void 0&&(_e=""+G.key),G)U.call(G,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=G[Q]);var me=arguments.length-2;if(me===1)te.children=X;else if(1<me){for(var We=Array(me),ve=0;ve<me;ve++)We[ve]=arguments[ve+2];te.children=We}if(q&&q.defaultProps)for(Q in me=q.defaultProps,me)te[Q]===void 0&&(te[Q]=me[Q]);return I(q,_e,void 0,void 0,null,te)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(q){return{$$typeof:d,render:q}},ke.isValidElement=E,ke.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:le}},ke.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},ke.startTransition=function(q){var G=z.T,X={};z.T=X;try{var Q=q(),te=z.S;te!==null&&te(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ee,fe)}catch(_e){fe(_e)}finally{z.T=G}},ke.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ke.use=function(q){return z.H.use(q)},ke.useActionState=function(q,G,X){return z.H.useActionState(q,G,X)},ke.useCallback=function(q,G){return z.H.useCallback(q,G)},ke.useContext=function(q){return z.H.useContext(q)},ke.useDebugValue=function(){},ke.useDeferredValue=function(q,G){return z.H.useDeferredValue(q,G)},ke.useEffect=function(q,G,X){var Q=z.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(q,G)},ke.useId=function(){return z.H.useId()},ke.useImperativeHandle=function(q,G,X){return z.H.useImperativeHandle(q,G,X)},ke.useInsertionEffect=function(q,G){return z.H.useInsertionEffect(q,G)},ke.useLayoutEffect=function(q,G){return z.H.useLayoutEffect(q,G)},ke.useMemo=function(q,G){return z.H.useMemo(q,G)},ke.useOptimistic=function(q,G){return z.H.useOptimistic(q,G)},ke.useReducer=function(q,G,X){return z.H.useReducer(q,G,X)},ke.useRef=function(q){return z.H.useRef(q)},ke.useState=function(q){return z.H.useState(q)},ke.useSyncExternalStore=function(q,G,X){return z.H.useSyncExternalStore(q,G,X)},ke.useTransition=function(){return z.H.useTransition()},ke.version="19.1.1",ke}var qv;function hg(){return qv||(qv=1,Yp.exports=T3()),Yp.exports}var $=hg();const Kr=K_($);var Xp={exports:{}},wc={},Zp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function C3(){return Hv||(Hv=1,function(n){function e(Y,le){var fe=Y.length;Y.push(le);e:for(;0<fe;){var Ee=fe-1>>>1,q=Y[Ee];if(0<a(q,le))Y[Ee]=le,Y[fe]=q,fe=Ee;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],fe=Y.pop();if(fe!==le){Y[0]=fe;e:for(var Ee=0,q=Y.length,G=q>>>1;Ee<G;){var X=2*(Ee+1)-1,Q=Y[X],te=X+1,_e=Y[te];if(0>a(Q,fe))te<q&&0>a(_e,Q)?(Y[Ee]=_e,Y[te]=fe,Ee=te):(Y[Ee]=Q,Y[X]=fe,Ee=X);else if(te<q&&0>a(_e,fe))Y[Ee]=_e,Y[te]=fe,Ee=te;else break e}}return le}function a(Y,le){var fe=Y.sortIndex-le.sortIndex;return fe!==0?fe:Y.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],f=[],x=1,_=null,b=3,D=!1,N=!1,B=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var le=t(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=Y)i(f),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(f)}}function z(Y){if(B=!1,V(Y),!N)if(t(m)!==null)N=!0,U||(U=!0,F());else{var le=t(f);le!==null&&de(z,le.startTime-Y)}}var U=!1,I=-1,T=5,E=-1;function A(){return k?!0:!(n.unstable_now()-E<T)}function P(){if(k=!1,U){var Y=n.unstable_now();E=Y;var le=!0;try{e:{N=!1,B&&(B=!1,w(I),I=-1),D=!0;var fe=b;try{t:{for(V(Y),_=t(m);_!==null&&!(_.expirationTime>Y&&A());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,b=_.priorityLevel;var q=Ee(_.expirationTime<=Y);if(Y=n.unstable_now(),typeof q=="function"){_.callback=q,V(Y),le=!0;break t}_===t(m)&&i(m),V(Y)}else i(m);_=t(m)}if(_!==null)le=!0;else{var G=t(f);G!==null&&de(z,G.startTime-Y),le=!1}}break e}finally{_=null,b=fe,D=!1}le=void 0}}finally{le?F():U=!1}}}var F;if(typeof S=="function")F=function(){S(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,he=O.port2;O.port1.onmessage=P,F=function(){he.postMessage(null)}}else F=function(){L(P,0)};function de(Y,le){I=L(function(){Y(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var fe=b;b=le;try{return Y()}finally{b=fe}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=b;b=Y;try{return le()}finally{b=fe}},n.unstable_scheduleCallback=function(Y,le,fe){var Ee=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=fe+q,Y={id:x++,callback:le,priorityLevel:Y,startTime:fe,expirationTime:q,sortIndex:-1},fe>Ee?(Y.sortIndex=fe,e(f,Y),t(m)===null&&Y===t(f)&&(B?(w(I),I=-1):B=!0,de(z,fe-Ee))):(Y.sortIndex=q,e(m,Y),N||D||(N=!0,U||(U=!0,F()))),Y},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(Y){var le=b;return function(){var fe=b;b=le;try{return Y.apply(this,arguments)}finally{b=fe}}}}(Jp)),Jp}var $v;function S3(){return $v||($v=1,Zp.exports=C3()),Zp.exports}var em={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function R3(){if(Gv)return ln;Gv=1;var n=hg();function e(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,f,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:f,implementation:x}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(m,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(m,f,null,x)},ln.flushSync=function(m){var f=u.T,x=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=f,i.p=x,i.d.f()}},ln.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(m,f))},ln.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},ln.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var x=f.as,_=d(x,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,D=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;x==="style"?i.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:D}):x==="script"&&i.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:D,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ln.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var x=d(f.as,f.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(m)},ln.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var x=f.as,_=d(x,f.crossOrigin);i.d.L(m,x,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ln.preloadModule=function(m,f){if(typeof m=="string")if(f){var x=d(f.as,f.crossOrigin);i.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(m)},ln.requestFormReset=function(m){i.d.r(m)},ln.unstable_batchedUpdates=function(m,f){return m(f)},ln.useFormState=function(m,f,x){return u.H.useFormState(m,f,x)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var Kv;function D3(){if(Kv)return em.exports;Kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),em.exports=R3(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function I3(){if(Qv)return wc;Qv=1;var n=S3(),e=hg(),t=D3();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),r;if(y===c)return d(p),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=p,c=y;else{for(var R=!1,M=p.child;M;){if(M===o){R=!0,o=p,c=y;break}if(M===c){R=!0,c=p,o=y;break}M=M.sibling}if(!R){for(M=y.child;M;){if(M===o){R=!0,o=y,c=p;break}if(M===c){R=!0,c=y,o=p;break}M=M.sibling}if(!R)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function f(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=f(r),s!==null)return s;r=r.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function he(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case k:return"Profiler";case B:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList";case E:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case S:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:he(r.type)||"Memo";case T:s=r._payload,r=r._init;try{return he(r(s))}catch{}}return null}var de=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ee=[],q=-1;function G(r){return{current:r}}function X(r){0>q||(r.current=Ee[q],Ee[q]=null,q--)}function Q(r,s){q++,Ee[q]=r.current,r.current=s}var te=G(null),_e=G(null),me=G(null),We=G(null);function ve(r,s){switch(Q(me,s),Q(_e,r),Q(te,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?pv(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=pv(s),r=mv(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}X(te),Q(te,r)}function sn(){X(te),X(_e),X(me)}function fn(r){r.memoizedState!==null&&Q(We,r);var s=te.current,o=mv(s,r.type);s!==o&&(Q(_e,r),Q(te,o))}function In(r){_e.current===r&&(X(te),X(_e)),We.current===r&&(X(We),yc._currentValue=fe)}var Nn=Object.prototype.hasOwnProperty,Pt=n.unstable_scheduleCallback,vt=n.unstable_cancelCallback,Cr=n.unstable_shouldYield,Sr=n.unstable_requestPaint,Wt=n.unstable_now,si=n.unstable_getCurrentPriorityLevel,ai=n.unstable_ImmediatePriority,Hn=n.unstable_UserBlockingPriority,Ot=n.unstable_NormalPriority,an=n.unstable_LowPriority,pn=n.unstable_IdlePriority,Rr=n.log,Ys=n.unstable_setDisableYieldValue,tt=null,Ue=null;function mn(r){if(typeof Rr=="function"&&Ys(r),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(tt,r)}catch{}}var Bt=Math.clz32?Math.clz32:kn,Xs=Math.log,Dr=Math.LN2;function kn(r){return r>>>=0,r===0?32:31-(Xs(r)/Dr|0)|0}var oi=256,Ir=4194304;function En(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hi(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var M=c&134217727;return M!==0?(c=M&~y,c!==0?p=En(c):(R&=M,R!==0?p=En(R):o||(o=M&~r,o!==0&&(p=En(o))))):(M=c&~y,M!==0?p=En(M):R!==0?p=En(R):o||(o=c&~r,o!==0&&(p=En(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function li(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function $i(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var r=oi;return oi<<=1,(oi&4194048)===0&&(oi=256),r}function Gi(){var r=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),r}function cr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function $n(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Js(r,s,o,c,p,y){var R=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var M=r.entanglements,H=r.expirationTimes,ee=r.hiddenUpdates;for(o=R&~o;0<o;){var se=31-Bt(o),ce=1<<se;M[se]=0,H[se]=-1;var ne=ee[se];if(ne!==null)for(ee[se]=null,se=0;se<ne.length;se++){var re=ne[se];re!==null&&(re.lane&=-536870913)}o&=~ce}c!==0&&Gn(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(R&~s))}function Gn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Bt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function ea(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Bt(o),p=1<<c;p&s|r[c]&s&&(r[c]|=s),o&=~p}}function ur(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ki(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Nr(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Ov(r.type))}function ta(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var ct=Math.random().toString(36).slice(2),gt="__reactFiber$"+ct,He="__reactProps$"+ct,bt="__reactContainer$"+ct,Qi="__reactEvents$"+ct,El="__reactListeners$"+ct,Wi="__reactHandles$"+ct,du="__reactResources$"+ct,na="__reactMarker$"+ct;function Yi(r){delete r[gt],delete r[He],delete r[Qi],delete r[El],delete r[Wi]}function ci(r){var s=r[gt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[bt]||o[gt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=vv(r);r!==null;){if(o=r[gt])return o;r=vv(r)}return s}r=o,o=r.parentNode}return null}function kr(r){if(r=r[gt]||r[bt]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Pr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function gn(r){var s=r[du];return s||(s=r[du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(r){r[na]=!0}var wl=new Set,no={};function hr(r,s){ui(r,s),ui(r+"Capture",s)}function ui(r,s){for(no[r]=s,r=0;r<s.length;r++)wl.add(s[r])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},ra={};function mu(r){return Nn.call(ra,r)?!0:Nn.call(pu,r)?!1:fu.test(r)?ra[r]=!0:(pu[r]=!0,!1)}function Xi(r,s,o){if(mu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Or(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Yt(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var ia,gu;function hi(r){if(ia===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ia=s&&s[1]||"",gu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+r+gu}var ro=!1;function io(r,s){if(!r||ro)return"";ro=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ne=re}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(re){ne=re}r.call(ce.prototype)}}else{try{throw Error()}catch(re){ne=re}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),R=y[0],M=y[1];if(R&&M){var H=R.split(`
`),ee=M.split(`
`);for(p=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(c===H.length||p===ee.length)for(c=H.length-1,p=ee.length-1;1<=c&&0<=p&&H[c]!==ee[p];)p--;for(;1<=c&&0<=p;c--,p--)if(H[c]!==ee[p]){if(c!==1||p!==1)do if(c--,p--,0>p||H[c]!==ee[p]){var se=`
`+H[c].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=c&&0<=p);break}}}finally{ro=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?hi(o):""}function Al(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return io(r.type,!1);case 11:return io(r.type.render,!1);case 1:return io(r.type,!0);case 31:return hi("Activity");default:return""}}function so(r){try{var s="";do s+=Al(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xd(r){var s=Tl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(R){c=""+R,y.call(this,R)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ao(r){r._valueTracker||(r._valueTracker=Xd(r))}function Cl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Tl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function sa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zd=/[\n"\\]/g;function Ct(r){return r.replace(Zd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pn(r,s,o,c,p,y,R,M){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),s!=null?R==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+yn(s)):r.value!==""+yn(s)&&(r.value=""+yn(s)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),s!=null?Zi(r,R,yn(s)):o!=null?Zi(r,R,yn(o)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+yn(M):r.removeAttribute("name")}function aa(r,s,o,c,p,y,R,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+yn(o):"",s=s!=null?""+yn(s):o,M||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=M?r.checked:!!c,r.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function Zi(r,s,o){s==="number"&&sa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function di(r,s,o,c){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&c&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function it(r,s,o){if(s!=null&&(s=""+yn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+yn(o):""}function oa(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=yn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Kn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||la.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Sl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&yu(r,p,c)}else for(var y in s)s.hasOwnProperty(y)&&yu(r,y,s[y])}function Rl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(r){return ef.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var fi=null;function Qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pi=null,mi=null;function Dl(r){var s=kr(r);if(s&&(r=s.stateNode)){var o=r[He]||null;e:switch(r=s.stateNode,s.type){case"input":if(Pn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var p=c[He]||null;if(!p)throw Error(i(90));Pn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Cl(c)}break e;case"textarea":it(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&di(r,!!o.multiple,s,!1)}}}var Br=!1;function xu(r,s,o){if(Br)return r(s,o);Br=!0;try{var c=r(s);return c}finally{if(Br=!1,(pi!==null||mi!==null)&&(h0(),pi&&(s=pi,r=mi,mi=pi=null,Dl(s),r)))for(s=0;s<r.length;s++)Dl(r[s])}}function ca(r,s){var o=r.stateNode;if(o===null)return null;var c=o[He]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(dr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Wn=!1}var Mr=null,Ji=null,gi=null;function Il(){if(gi)return gi;var r,s=Ji,o=s.length,c,p="value"in Mr?Mr.value:Mr.textContent,y=p.length;for(r=0;r<o&&s[r]===p[r];r++);var R=o-r;for(c=1;c<=R&&s[o-c]===p[y-c];c++);return gi=p.slice(r,1<c?1-c:void 0)}function Fr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function Nl(){return!1}function zt(r){function s(o,c,p,y,R){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(o=r[M],this[M]=o?o(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?jr:Nl,this.isPropagationStopped=Nl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=zt(Je),ha=x({},Je,{view:0,detail:0}),vu=zt(ha),co,uo,Lr,da=x({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(co=r.screenX-Lr.screenX,uo=r.screenY-Lr.screenY):uo=co=0,Lr=r),co)},movementY:function(r){return"movementY"in r?r.movementY:uo}}),Yn=zt(da),bu=x({},da,{dataTransfer:0}),tf=zt(bu),fa=x({},ha,{relatedTarget:0}),ho=zt(fa),kl=x({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=zt(kl),_u=x({},Je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),po=zt(_u),nf=x({},Je,{data:0}),Pl=zt(nf),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=wu[r])?!!s[r]:!1}function ma(){return Ol}var Au=x({},ha,{key:function(r){if(r.key){var s=pa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Eu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(r){return r.type==="keypress"?Fr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mo=zt(Au),Tu=x({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=zt(Tu),yi=x({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),Cu=zt(yi),Su=x({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=zt(Su),Du=x({},da,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),go=zt(Du),xn=x({},Je,{newState:0,oldState:0}),Iu=zt(xn),Nu=[9,13,27,32],Vr=dr&&"CompositionEvent"in window,h=null;dr&&"documentMode"in document&&(h=document.documentMode);var v=dr&&"TextEvent"in window&&!h,C=dr&&(!Vr||h&&8<h&&11>=h),j=" ",Z=!1;function ie(r,s){switch(r){case"keyup":return Nu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $e=!1;function Mt(r,s){switch(r){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(Z=!0,j);case"textInput":return r=s.data,r===j&&Z?null:r;default:return null}}function Ge(r,s){if($e)return r==="compositionend"||!Vr&&ie(r,s)?(r=Il(),gi=Ji=Mr=null,$e=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return C&&s.locale!=="ko"?null:s.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!qt[r.type]:s==="textarea"}function xi(r,s,o,c){pi?mi?mi.push(c):mi=[c]:pi=c,s=y0(s,"onChange"),0<s.length&&(o=new lo("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Xt=null,Ur=null;function Ml(r){cv(r,0)}function ku(r){var s=Pr(r);if(Cl(s))return r}function I1(r,s){if(r==="change")return s}var N1=!1;if(dr){var rf;if(dr){var sf="oninput"in document;if(!sf){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),sf=typeof k1.oninput=="function"}rf=sf}else rf=!1;N1=rf&&(!document.documentMode||9<document.documentMode)}function P1(){Xt&&(Xt.detachEvent("onpropertychange",O1),Ur=Xt=null)}function O1(r){if(r.propertyName==="value"&&ku(Ur)){var s=[];xi(s,Ur,r,Qn(r)),xu(Ml,s)}}function Zw(r,s,o){r==="focusin"?(P1(),Xt=s,Ur=o,Xt.attachEvent("onpropertychange",O1)):r==="focusout"&&P1()}function Jw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Ur)}function eA(r,s){if(r==="click")return ku(s)}function tA(r,s){if(r==="input"||r==="change")return ku(s)}function nA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var On=typeof Object.is=="function"?Object.is:nA;function Fl(r,s){if(On(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Nn.call(s,p)||!On(r[p],s[p]))return!1}return!0}function B1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function M1(r,s){var o=B1(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=B1(o)}}function F1(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?F1(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function j1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=sa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=sa(r.document)}return s}function af(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var rA=dr&&"documentMode"in document&&11>=document.documentMode,yo=null,of=null,jl=null,lf=!1;function L1(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lf||yo==null||yo!==sa(c)||(c=yo,"selectionStart"in c&&af(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),jl&&Fl(jl,c)||(jl=c,c=y0(of,"onSelect"),0<c.length&&(s=new lo("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=yo)))}function ga(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var xo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},cf={},V1={};dr&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function ya(r){if(cf[r])return cf[r];if(!xo[r])return r;var s=xo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in V1)return cf[r]=s[o];return r}var U1=ya("animationend"),z1=ya("animationiteration"),q1=ya("animationstart"),iA=ya("transitionrun"),sA=ya("transitionstart"),aA=ya("transitioncancel"),H1=ya("transitionend"),$1=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function fr(r,s){$1.set(r,s),hr(s,[r])}var G1=new WeakMap;function Xn(r,s){if(typeof r=="object"&&r!==null){var o=G1.get(r);return o!==void 0?o:(s={value:r,source:s,stack:so(s)},G1.set(r,s),s)}return{value:r,source:s,stack:so(s)}}var Zn=[],vo=0,hf=0;function Pu(){for(var r=vo,s=hf=vo=0;s<r;){var o=Zn[s];Zn[s++]=null;var c=Zn[s];Zn[s++]=null;var p=Zn[s];Zn[s++]=null;var y=Zn[s];if(Zn[s++]=null,c!==null&&p!==null){var R=c.pending;R===null?p.next=p:(p.next=R.next,R.next=p),c.pending=p}y!==0&&K1(o,p,y)}}function Ou(r,s,o,c){Zn[vo++]=r,Zn[vo++]=s,Zn[vo++]=o,Zn[vo++]=c,hf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function df(r,s,o,c){return Ou(r,s,o,c),Bu(r)}function bo(r,s){return Ou(r,null,null,s),Bu(r)}function K1(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-Bt(o),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=o|536870912),y):null}function Bu(r){if(50<cc)throw cc=0,xp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var _o={};function oA(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,o,c){return new oA(r,s,o,c)}function ff(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vi(r,s){var o=r.alternate;return o===null?(o=Bn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Q1(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Mu(r,s,o,c,p,y){var R=0;if(c=r,typeof r=="function")ff(r)&&(R=1);else if(typeof r=="string")R=c3(r,o,te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case E:return r=Bn(31,o,s,p),r.elementType=E,r.lanes=y,r;case N:return xa(o.children,p,y,s);case B:R=8,p|=24;break;case k:return r=Bn(12,o,s,p|2),r.elementType=k,r.lanes=y,r;case z:return r=Bn(13,o,s,p),r.elementType=z,r.lanes=y,r;case U:return r=Bn(19,o,s,p),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case S:R=10;break e;case w:R=9;break e;case V:R=11;break e;case I:R=14;break e;case T:R=16,c=null;break e}R=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Bn(R,o,s,p),s.elementType=r,s.type=c,s.lanes=y,s}function xa(r,s,o,c){return r=Bn(7,r,c,s),r.lanes=o,r}function pf(r,s,o){return r=Bn(6,r,null,s),r.lanes=o,r}function mf(r,s,o){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Eo=[],wo=0,Fu=null,ju=0,Jn=[],er=0,va=null,bi=1,_i="";function ba(r,s){Eo[wo++]=ju,Eo[wo++]=Fu,Fu=r,ju=s}function W1(r,s,o){Jn[er++]=bi,Jn[er++]=_i,Jn[er++]=va,va=r;var c=bi;r=_i;var p=32-Bt(c)-1;c&=~(1<<p),o+=1;var y=32-Bt(s)+p;if(30<y){var R=p-p%5;y=(c&(1<<R)-1).toString(32),c>>=R,p-=R,bi=1<<32-Bt(s)+p|o<<p|c,_i=y+r}else bi=1<<y|o<<p|c,_i=r}function gf(r){r.return!==null&&(ba(r,1),W1(r,1,0))}function yf(r){for(;r===Fu;)Fu=Eo[--wo],Eo[wo]=null,ju=Eo[--wo],Eo[wo]=null;for(;r===va;)va=Jn[--er],Jn[er]=null,_i=Jn[--er],Jn[er]=null,bi=Jn[--er],Jn[er]=null}var vn=null,yt=null,Xe=!1,_a=null,zr=!1,xf=Error(i(519));function Ea(r){var s=Error(i(418,""));throw Ul(Xn(s,r)),xf}function Y1(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[gt]=r,s[He]=c,o){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(o=0;o<hc.length;o++)Me(hc[o],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),aa(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ao(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),oa(s,c.value,c.defaultValue,c.children),ao(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||fv(s.textContent,o)?(c.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),c.onScroll!=null&&Me("scroll",s),c.onScrollEnd!=null&&Me("scrollend",s),c.onClick!=null&&(s.onclick=x0),s=!0):s=!1,s||Ea(r)}function X1(r){for(vn=r.return;vn;)switch(vn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:vn=vn.return}}function Ll(r){if(r!==vn)return!1;if(!Xe)return X1(r),Xe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Op(r.type,r.memoizedProps)),o=!o),o&&yt&&Ea(r),X1(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){yt=mr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}yt=null}}else s===27?(s=yt,ms(r.type)?(r=jp,jp=null,yt=r):yt=s):yt=vn?mr(r.stateNode.nextSibling):null;return!0}function Vl(){yt=vn=null,Xe=!1}function Z1(){var r=_a;return r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r),_a=null),r}function Ul(r){_a===null?_a=[r]:_a.push(r)}var vf=G(null),wa=null,Ei=null;function es(r,s,o){Q(vf,s._currentValue),s._currentValue=o}function wi(r){r._currentValue=vf.current,X(vf)}function bf(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function _f(r,s,o,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var R=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var H=0;H<s.length;H++)if(M.context===s[H]){y.lanes|=o,M=y.alternate,M!==null&&(M.lanes|=o),bf(y.return,o,r),c||(R=null);break e}y=M.next}}else if(p.tag===18){if(R=p.return,R===null)throw Error(i(341));R.lanes|=o,y=R.alternate,y!==null&&(y.lanes|=o),bf(R,o,r),R=null}else R=p.child;if(R!==null)R.return=p;else for(R=p;R!==null;){if(R===r){R=null;break}if(p=R.sibling,p!==null){p.return=R.return,R=p;break}R=R.return}p=R}}function zl(r,s,o,c){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var R=p.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var M=p.type;On(p.pendingProps.value,R.value)||(r!==null?r.push(M):r=[M])}}else if(p===We.current){if(R=p.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(yc):r=[yc])}p=p.return}r!==null&&_f(s,r,o,c),s.flags|=262144}function Lu(r){for(r=r.firstContext;r!==null;){if(!On(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Aa(r){wa=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function on(r){return J1(wa,r)}function Vu(r,s){return wa===null&&Aa(r),J1(r,s)}function J1(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ei===null){if(r===null)throw Error(i(308));Ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ei=Ei.next=s;return o}var lA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},cA=n.unstable_scheduleCallback,uA=n.unstable_NormalPriority,jt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new lA,data:new Map,refCount:0}}function ql(r){r.refCount--,r.refCount===0&&cA(uA,function(){r.controller.abort()})}var Hl=null,wf=0,Ao=0,To=null;function hA(r,s){if(Hl===null){var o=Hl=[];wf=0,Ao=Tp(),To={status:"pending",value:void 0,then:function(c){o.push(c)}}}return wf++,s.then(ey,ey),s}function ey(){if(--wf===0&&Hl!==null){To!==null&&(To.status="fulfilled");var r=Hl;Hl=null,Ao=0,To=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function dA(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var ty=Y.S;Y.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&hA(r,s),ty!==null&&ty(r,s)};var Ta=G(null);function Af(){var r=Ta.current;return r!==null?r:ut.pooledCache}function Uu(r,s){s===null?Q(Ta,Ta.current):Q(Ta,s.pool)}function ny(){var r=Af();return r===null?null:{parent:jt._currentValue,pool:r}}var $l=Error(i(460)),ry=Error(i(474)),zu=Error(i(542)),Tf={then:function(){}};function iy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qu(){}function sy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(qu,qu),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,oy(r),r;default:if(typeof s.status=="string")s.then(qu,qu);else{if(r=ut,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,oy(r),r}throw Gl=s,$l}}var Gl=null;function ay(){if(Gl===null)throw Error(i(459));var r=Gl;return Gl=null,r}function oy(r){if(r===$l||r===zu)throw Error(i(483))}var ts=!1;function Cf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ns(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function rs(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Bu(r),K1(r,null,o),s}return Ou(r,c,s,o),Bu(r)}function Kl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ea(r,o)}}function Rf(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var R={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=R:y=y.next=R,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Df=!1;function Ql(){if(Df){var r=To;if(r!==null)throw r}}function Wl(r,s,o,c){Df=!1;var p=r.updateQueue;ts=!1;var y=p.firstBaseUpdate,R=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var H=M,ee=H.next;H.next=null,R===null?y=ee:R.next=ee,R=H;var se=r.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==R&&(M===null?se.firstBaseUpdate=ee:M.next=ee,se.lastBaseUpdate=H))}if(y!==null){var ce=p.baseState;R=0,se=ee=H=null,M=y;do{var ne=M.lane&-536870913,re=ne!==M.lane;if(re?(Ke&ne)===ne:(c&ne)===ne){ne!==0&&ne===Ao&&(Df=!0),se!==null&&(se=se.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=r,Te=M;ne=s;var ot=o;switch(Te.tag){case 1:if(De=Te.payload,typeof De=="function"){ce=De.call(ot,ce,ne);break e}ce=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Te.payload,ne=typeof De=="function"?De.call(ot,ce,ne):De,ne==null)break e;ce=x({},ce,ne);break e;case 2:ts=!0}}ne=M.callback,ne!==null&&(r.flags|=64,re&&(r.flags|=8192),re=p.callbacks,re===null?p.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(ee=se=re,H=ce):se=se.next=re,R|=ne;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;re=M,M=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);se===null&&(H=ce),p.baseState=H,p.firstBaseUpdate=ee,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),hs|=R,r.lanes=R,r.memoizedState=ce}}function ly(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function cy(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ly(o[r],s)}var Co=G(null),Hu=G(0);function uy(r,s){r=Ii,Q(Hu,r),Q(Co,s),Ii=r|s.baseLanes}function If(){Q(Hu,Ii),Q(Co,Co.current)}function Nf(){Ii=Hu.current,X(Co),X(Hu)}var is=0,Pe=null,st=null,St=null,$u=!1,So=!1,Ca=!1,Gu=0,Yl=0,Ro=null,fA=0;function Et(){throw Error(i(321))}function kf(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!On(r[o],s[o]))return!1;return!0}function Pf(r,s,o,c,p,y){return is=y,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=r===null||r.memoizedState===null?Ky:Qy,Ca=!1,y=o(c,p),Ca=!1,So&&(y=dy(s,o,c,p)),hy(r),y}function hy(r){Y.H=Zu;var s=st!==null&&st.next!==null;if(is=0,St=st=Pe=null,$u=!1,Yl=0,Ro=null,s)throw Error(i(300));r===null||Ht||(r=r.dependencies,r!==null&&Lu(r)&&(Ht=!0))}function dy(r,s,o,c){Pe=r;var p=0;do{if(So&&(Ro=null),Yl=0,So=!1,25<=p)throw Error(i(301));if(p+=1,St=st=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=bA,y=s(o,c)}while(So);return y}function pA(){var r=Y.H,s=r.useState()[0];return s=typeof s.then=="function"?Xl(s):s,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(Pe.flags|=1024),s}function Of(){var r=Gu!==0;return Gu=0,r}function Bf(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Mf(r){if($u){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$u=!1}is=0,St=st=Pe=null,So=!1,Yl=Gu=0,Ro=null}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Pe.memoizedState=St=r:St=St.next=r,St}function Rt(){if(st===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var s=St===null?Pe.memoizedState:St.next;if(s!==null)St=s,st=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},St===null?Pe.memoizedState=St=r:St=St.next=r}return St}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(r){var s=Yl;return Yl+=1,Ro===null&&(Ro=[]),r=sy(Ro,r,s),s=Pe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?Ky:Qy),r}function Ku(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xl(r);if(r.$$typeof===S)return on(r)}throw Error(i(438,String(r)))}function jf(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ff(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=A;return s.index++,o}function Ai(r,s){return typeof s=="function"?s(r):s}function Qu(r){var s=Rt();return Lf(s,st,r)}function Lf(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var R=p.next;p.next=y.next,y.next=R}s.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var M=R=null,H=null,ee=s,se=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Ke&ce)===ce:(is&ce)===ce){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===Ao&&(se=!0);else if((is&ne)===ne){ee=ee.next,ne===Ao&&(se=!0);continue}else ce={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=ce,R=y):H=H.next=ce,Pe.lanes|=ne,hs|=ne;ce=ee.action,Ca&&o(y,ce),y=ee.hasEagerState?ee.eagerState:o(y,ce)}else ne={lane:ce,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=ne,R=y):H=H.next=ne,Pe.lanes|=ce,hs|=ce;ee=ee.next}while(ee!==null&&ee!==s);if(H===null?R=y:H.next=M,!On(y,r.memoizedState)&&(Ht=!0,se&&(o=To,o!==null)))throw o;r.memoizedState=y,r.baseState=R,r.baseQueue=H,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Vf(r){var s=Rt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var R=p=p.next;do y=r(y,R.action),R=R.next;while(R!==p);On(y,s.memoizedState)||(Ht=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function fy(r,s,o){var c=Pe,p=Rt(),y=Xe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var R=!On((st||p).memoizedState,o);R&&(p.memoizedState=o,Ht=!0),p=p.queue;var M=gy.bind(null,c,p,r);if(Zl(2048,8,M,[r]),p.getSnapshot!==s||R||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,Do(9,Wu(),my.bind(null,c,p,o,s),null),ut===null)throw Error(i(349));y||(is&124)!==0||py(c,s,o)}return o}function py(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=Ff(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function my(r,s,o,c){s.value=o,s.getSnapshot=c,yy(s)&&xy(r)}function gy(r,s,o){return o(function(){yy(s)&&xy(r)})}function yy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!On(r,o)}catch{return!0}}function xy(r){var s=bo(r,2);s!==null&&Vn(s,r,2)}function Uf(r){var s=wn();if(typeof r=="function"){var o=r;if(r=o(),Ca){mn(!0);try{o()}finally{mn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},s}function vy(r,s,o,c){return r.baseState=o,Lf(r,st,typeof c=="function"?c:Ai)}function mA(r,s,o,c,p){if(Xu(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};Y.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,by(s,y)):(y.next=o.next,s.pending=o.next=y)}}function by(r,s){var o=s.action,c=s.payload,p=r.state;if(s.isTransition){var y=Y.T,R={};Y.T=R;try{var M=o(p,c),H=Y.S;H!==null&&H(R,M),_y(r,s,M)}catch(ee){zf(r,s,ee)}finally{Y.T=y}}else try{y=o(p,c),_y(r,s,y)}catch(ee){zf(r,s,ee)}}function _y(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ey(r,s,c)},function(c){return zf(r,s,c)}):Ey(r,s,o)}function Ey(r,s,o){s.status="fulfilled",s.value=o,wy(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,by(r,o)))}function zf(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,wy(s),s=s.next;while(s!==c)}r.action=null}function wy(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Ay(r,s){return s}function Ty(r,s){if(Xe){var o=ut.formState;if(o!==null){e:{var c=Pe;if(Xe){if(yt){t:{for(var p=yt,y=zr;p.nodeType!==8;){if(!y){p=null;break t}if(p=mr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){yt=mr(p.nextSibling),c=p.data==="F!";break e}}Ea(c)}c=!1}c&&(s=o[0])}}return o=wn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:s},o.queue=c,o=Hy.bind(null,Pe,c),c.dispatch=o,c=Uf(!1),y=Kf.bind(null,Pe,!1,c.queue),c=wn(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,o=mA.bind(null,Pe,p,y,o),p.dispatch=o,c.memoizedState=r,[s,o,!1]}function Cy(r){var s=Rt();return Sy(s,st,r)}function Sy(r,s,o){if(s=Lf(r,s,Ay)[0],r=Qu(Ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Xl(s)}catch(R){throw R===$l?zu:R}else c=s;s=Rt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,Do(9,Wu(),gA.bind(null,p,o),null)),[c,y,r]}function gA(r,s){r.action=s}function Ry(r){var s=Rt(),o=st;if(o!==null)return Sy(s,o,r);Rt(),s=s.memoizedState,o=Rt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Do(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Ff(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Wu(){return{destroy:void 0,resource:void 0}}function Dy(){return Rt().memoizedState}function Yu(r,s,o,c){var p=wn();c=c===void 0?null:c,Pe.flags|=r,p.memoizedState=Do(1|s,Wu(),o,c)}function Zl(r,s,o,c){var p=Rt();c=c===void 0?null:c;var y=p.memoizedState.inst;st!==null&&c!==null&&kf(c,st.memoizedState.deps)?p.memoizedState=Do(s,y,o,c):(Pe.flags|=r,p.memoizedState=Do(1|s,y,o,c))}function Iy(r,s){Yu(8390656,8,r,s)}function Ny(r,s){Zl(2048,8,r,s)}function ky(r,s){return Zl(4,2,r,s)}function Py(r,s){return Zl(4,4,r,s)}function Oy(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function By(r,s,o){o=o!=null?o.concat([r]):null,Zl(4,4,Oy.bind(null,s,r),o)}function qf(){}function My(r,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&kf(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function Fy(r,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&kf(s,c[1]))return c[0];if(c=r(),Ca){mn(!0);try{r()}finally{mn(!1)}}return o.memoizedState=[c,s],c}function Hf(r,s,o){return o===void 0||(is&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Vx(),Pe.lanes|=r,hs|=r,o)}function jy(r,s,o,c){return On(o,s)?o:Co.current!==null?(r=Hf(r,o,c),On(r,s)||(Ht=!0),r):(is&42)===0?(Ht=!0,r.memoizedState=o):(r=Vx(),Pe.lanes|=r,hs|=r,s)}function Ly(r,s,o,c,p){var y=le.p;le.p=y!==0&&8>y?y:8;var R=Y.T,M={};Y.T=M,Kf(r,!1,s,o);try{var H=p(),ee=Y.S;if(ee!==null&&ee(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=dA(H,c);Jl(r,s,se,Ln(r))}else Jl(r,s,c,Ln(r))}catch(ce){Jl(r,s,{then:function(){},status:"rejected",reason:ce},Ln())}finally{le.p=y,Y.T=R}}function yA(){}function $f(r,s,o,c){if(r.tag!==5)throw Error(i(476));var p=Vy(r).queue;Ly(r,p,s,fe,o===null?yA:function(){return Uy(r),o(c)})}function Vy(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Uy(r){var s=Vy(r).next.queue;Jl(r,s,{},Ln())}function Gf(){return on(yc)}function zy(){return Rt().memoizedState}function qy(){return Rt().memoizedState}function xA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();r=ns(o);var c=rs(s,r,o);c!==null&&(Vn(c,s,o),Kl(c,s,o)),s={cache:Ef()},r.payload=s;return}s=s.return}}function vA(r,s,o){var c=Ln();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(r)?$y(s,o):(o=df(r,s,o,c),o!==null&&(Vn(o,r,c),Gy(o,s,c)))}function Hy(r,s,o){var c=Ln();Jl(r,s,o,c)}function Jl(r,s,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xu(r))$y(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var R=s.lastRenderedState,M=y(R,o);if(p.hasEagerState=!0,p.eagerState=M,On(M,R))return Ou(r,s,p,0),ut===null&&Pu(),!1}catch{}finally{}if(o=df(r,s,p,c),o!==null)return Vn(o,r,c),Gy(o,s,c),!0}return!1}function Kf(r,s,o,c){if(c={lane:2,revertLane:Tp(),action:c,hasEagerState:!1,eagerState:null,next:null},Xu(r)){if(s)throw Error(i(479))}else s=df(r,o,c,2),s!==null&&Vn(s,r,2)}function Xu(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function $y(r,s){So=$u=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Gy(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ea(r,o)}}var Zu={readContext:on,use:Ku,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},Ky={readContext:on,use:Ku,useCallback:function(r,s){return wn().memoizedState=[r,s===void 0?null:s],r},useContext:on,useEffect:Iy,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Yu(4194308,4,Oy.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Yu(4194308,4,r,s)},useInsertionEffect:function(r,s){Yu(4,2,r,s)},useMemo:function(r,s){var o=wn();s=s===void 0?null:s;var c=r();if(Ca){mn(!0);try{r()}finally{mn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=wn();if(o!==void 0){var p=o(s);if(Ca){mn(!0);try{o(s)}finally{mn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=vA.bind(null,Pe,r),[c.memoizedState,r]},useRef:function(r){var s=wn();return r={current:r},s.memoizedState=r},useState:function(r){r=Uf(r);var s=r.queue,o=Hy.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:qf,useDeferredValue:function(r,s){var o=wn();return Hf(o,r,s)},useTransition:function(){var r=Uf(!1);return r=Ly.bind(null,Pe,r.queue,!0,!1),wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Pe,p=wn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ut===null)throw Error(i(349));(Ke&124)!==0||py(c,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,Iy(gy.bind(null,c,y,r),[r]),c.flags|=2048,Do(9,Wu(),my.bind(null,c,y,o,s),null),o},useId:function(){var r=wn(),s=ut.identifierPrefix;if(Xe){var o=_i,c=bi;o=(c&~(1<<32-Bt(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Gu++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=fA++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Gf,useFormState:Ty,useActionState:Ty,useOptimistic:function(r){var s=wn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Kf.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:jf,useCacheRefresh:function(){return wn().memoizedState=xA.bind(null,Pe)}},Qy={readContext:on,use:Ku,useCallback:My,useContext:on,useEffect:Ny,useImperativeHandle:By,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:Fy,useReducer:Qu,useRef:Dy,useState:function(){return Qu(Ai)},useDebugValue:qf,useDeferredValue:function(r,s){var o=Rt();return jy(o,st.memoizedState,r,s)},useTransition:function(){var r=Qu(Ai)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Xl(r),s]},useSyncExternalStore:fy,useId:zy,useHostTransitionStatus:Gf,useFormState:Cy,useActionState:Cy,useOptimistic:function(r,s){var o=Rt();return vy(o,st,r,s)},useMemoCache:jf,useCacheRefresh:qy},bA={readContext:on,use:Ku,useCallback:My,useContext:on,useEffect:Ny,useImperativeHandle:By,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:Fy,useReducer:Vf,useRef:Dy,useState:function(){return Vf(Ai)},useDebugValue:qf,useDeferredValue:function(r,s){var o=Rt();return st===null?Hf(o,r,s):jy(o,st.memoizedState,r,s)},useTransition:function(){var r=Vf(Ai)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Xl(r),s]},useSyncExternalStore:fy,useId:zy,useHostTransitionStatus:Gf,useFormState:Ry,useActionState:Ry,useOptimistic:function(r,s){var o=Rt();return st!==null?vy(o,st,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:jf,useCacheRefresh:qy},Io=null,ec=0;function Ju(r){var s=ec;return ec+=1,Io===null&&(Io=[]),sy(Io,r,s)}function tc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function e0(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Wy(r){var s=r._init;return s(r._payload)}function Yy(r){function s(W,K){if(r){var J=W.deletions;J===null?(W.deletions=[K],W.flags|=16):J.push(K)}}function o(W,K){if(!r)return null;for(;K!==null;)s(W,K),K=K.sibling;return null}function c(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function p(W,K){return W=vi(W,K),W.index=0,W.sibling=null,W}function y(W,K,J){return W.index=J,r?(J=W.alternate,J!==null?(J=J.index,J<K?(W.flags|=67108866,K):J):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function R(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function M(W,K,J,ae){return K===null||K.tag!==6?(K=pf(J,W.mode,ae),K.return=W,K):(K=p(K,J),K.return=W,K)}function H(W,K,J,ae){var be=J.type;return be===N?se(W,K,J.props.children,ae,J.key):K!==null&&(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===T&&Wy(be)===K.type)?(K=p(K,J.props),tc(K,J),K.return=W,K):(K=Mu(J.type,J.key,J.props,null,W.mode,ae),tc(K,J),K.return=W,K)}function ee(W,K,J,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=mf(J,W.mode,ae),K.return=W,K):(K=p(K,J.children||[]),K.return=W,K)}function se(W,K,J,ae,be){return K===null||K.tag!==7?(K=xa(J,W.mode,ae,be),K.return=W,K):(K=p(K,J),K.return=W,K)}function ce(W,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=pf(""+K,W.mode,J),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return J=Mu(K.type,K.key,K.props,null,W.mode,J),tc(J,K),J.return=W,J;case D:return K=mf(K,W.mode,J),K.return=W,K;case T:var ae=K._init;return K=ae(K._payload),ce(W,K,J)}if(de(K)||F(K))return K=xa(K,W.mode,J,null),K.return=W,K;if(typeof K.then=="function")return ce(W,Ju(K),J);if(K.$$typeof===S)return ce(W,Vu(W,K),J);e0(W,K)}return null}function ne(W,K,J,ae){var be=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return be!==null?null:M(W,K,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===be?H(W,K,J,ae):null;case D:return J.key===be?ee(W,K,J,ae):null;case T:return be=J._init,J=be(J._payload),ne(W,K,J,ae)}if(de(J)||F(J))return be!==null?null:se(W,K,J,ae,null);if(typeof J.then=="function")return ne(W,K,Ju(J),ae);if(J.$$typeof===S)return ne(W,K,Vu(W,J),ae);e0(W,J)}return null}function re(W,K,J,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return W=W.get(J)||null,M(K,W,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return W=W.get(ae.key===null?J:ae.key)||null,H(K,W,ae,be);case D:return W=W.get(ae.key===null?J:ae.key)||null,ee(K,W,ae,be);case T:var Oe=ae._init;return ae=Oe(ae._payload),re(W,K,J,ae,be)}if(de(ae)||F(ae))return W=W.get(J)||null,se(K,W,ae,be,null);if(typeof ae.then=="function")return re(W,K,J,Ju(ae),be);if(ae.$$typeof===S)return re(W,K,J,Vu(K,ae),be);e0(K,ae)}return null}function De(W,K,J,ae){for(var be=null,Oe=null,we=K,Ce=K=0,Gt=null;we!==null&&Ce<J.length;Ce++){we.index>Ce?(Gt=we,we=null):Gt=we.sibling;var Ye=ne(W,we,J[Ce],ae);if(Ye===null){we===null&&(we=Gt);break}r&&we&&Ye.alternate===null&&s(W,we),K=y(Ye,K,Ce),Oe===null?be=Ye:Oe.sibling=Ye,Oe=Ye,we=Gt}if(Ce===J.length)return o(W,we),Xe&&ba(W,Ce),be;if(we===null){for(;Ce<J.length;Ce++)we=ce(W,J[Ce],ae),we!==null&&(K=y(we,K,Ce),Oe===null?be=we:Oe.sibling=we,Oe=we);return Xe&&ba(W,Ce),be}for(we=c(we);Ce<J.length;Ce++)Gt=re(we,W,Ce,J[Ce],ae),Gt!==null&&(r&&Gt.alternate!==null&&we.delete(Gt.key===null?Ce:Gt.key),K=y(Gt,K,Ce),Oe===null?be=Gt:Oe.sibling=Gt,Oe=Gt);return r&&we.forEach(function(bs){return s(W,bs)}),Xe&&ba(W,Ce),be}function Te(W,K,J,ae){if(J==null)throw Error(i(151));for(var be=null,Oe=null,we=K,Ce=K=0,Gt=null,Ye=J.next();we!==null&&!Ye.done;Ce++,Ye=J.next()){we.index>Ce?(Gt=we,we=null):Gt=we.sibling;var bs=ne(W,we,Ye.value,ae);if(bs===null){we===null&&(we=Gt);break}r&&we&&bs.alternate===null&&s(W,we),K=y(bs,K,Ce),Oe===null?be=bs:Oe.sibling=bs,Oe=bs,we=Gt}if(Ye.done)return o(W,we),Xe&&ba(W,Ce),be;if(we===null){for(;!Ye.done;Ce++,Ye=J.next())Ye=ce(W,Ye.value,ae),Ye!==null&&(K=y(Ye,K,Ce),Oe===null?be=Ye:Oe.sibling=Ye,Oe=Ye);return Xe&&ba(W,Ce),be}for(we=c(we);!Ye.done;Ce++,Ye=J.next())Ye=re(we,W,Ce,Ye.value,ae),Ye!==null&&(r&&Ye.alternate!==null&&we.delete(Ye.key===null?Ce:Ye.key),K=y(Ye,K,Ce),Oe===null?be=Ye:Oe.sibling=Ye,Oe=Ye);return r&&we.forEach(function(_3){return s(W,_3)}),Xe&&ba(W,Ce),be}function ot(W,K,J,ae){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var be=J.key;K!==null;){if(K.key===be){if(be=J.type,be===N){if(K.tag===7){o(W,K.sibling),ae=p(K,J.props.children),ae.return=W,W=ae;break e}}else if(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===T&&Wy(be)===K.type){o(W,K.sibling),ae=p(K,J.props),tc(ae,J),ae.return=W,W=ae;break e}o(W,K);break}else s(W,K);K=K.sibling}J.type===N?(ae=xa(J.props.children,W.mode,ae,J.key),ae.return=W,W=ae):(ae=Mu(J.type,J.key,J.props,null,W.mode,ae),tc(ae,J),ae.return=W,W=ae)}return R(W);case D:e:{for(be=J.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){o(W,K.sibling),ae=p(K,J.children||[]),ae.return=W,W=ae;break e}else{o(W,K);break}else s(W,K);K=K.sibling}ae=mf(J,W.mode,ae),ae.return=W,W=ae}return R(W);case T:return be=J._init,J=be(J._payload),ot(W,K,J,ae)}if(de(J))return De(W,K,J,ae);if(F(J)){if(be=F(J),typeof be!="function")throw Error(i(150));return J=be.call(J),Te(W,K,J,ae)}if(typeof J.then=="function")return ot(W,K,Ju(J),ae);if(J.$$typeof===S)return ot(W,K,Vu(W,J),ae);e0(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(o(W,K.sibling),ae=p(K,J),ae.return=W,W=ae):(o(W,K),ae=pf(J,W.mode,ae),ae.return=W,W=ae),R(W)):o(W,K)}return function(W,K,J,ae){try{ec=0;var be=ot(W,K,J,ae);return Io=null,be}catch(we){if(we===$l||we===zu)throw we;var Oe=Bn(29,we,null,W.mode);return Oe.lanes=ae,Oe.return=W,Oe}finally{}}}var No=Yy(!0),Xy=Yy(!1),tr=G(null),qr=null;function ss(r){var s=r.alternate;Q(Lt,Lt.current&1),Q(tr,r),qr===null&&(s===null||Co.current!==null||s.memoizedState!==null)&&(qr=r)}function Zy(r){if(r.tag===22){if(Q(Lt,Lt.current),Q(tr,r),qr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(qr=r)}}else as()}function as(){Q(Lt,Lt.current),Q(tr,tr.current)}function Ti(r){X(tr),qr===r&&(qr=null),X(Lt)}var Lt=G(0);function t0(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Fp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Qf(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:x({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Wf={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Ln(),p=ns(c);p.payload=s,o!=null&&(p.callback=o),s=rs(r,p,c),s!==null&&(Vn(s,r,c),Kl(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Ln(),p=ns(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=rs(r,p,c),s!==null&&(Vn(s,r,c),Kl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Ln(),c=ns(o);c.tag=2,s!=null&&(c.callback=s),s=rs(r,c,o),s!==null&&(Vn(s,r,o),Kl(s,r,o))}};function Jy(r,s,o,c,p,y,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,R):s.prototype&&s.prototype.isPureReactComponent?!Fl(o,c)||!Fl(p,y):!0}function ex(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Wf.enqueueReplaceState(s,s.state,null)}function Sa(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=x({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var n0=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function tx(r){n0(r)}function nx(r){console.error(r)}function rx(r){n0(r)}function r0(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function ix(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Yf(r,s,o){return o=ns(o),o.tag=3,o.payload={element:null},o.callback=function(){r0(r,s)},o}function sx(r){return r=ns(r),r.tag=3,r}function ax(r,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){ix(s,o,c)}}var R=o.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){ix(s,o,c),typeof p!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function _A(r,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&zl(s,o,p,!0),o=tr.current,o!==null){switch(o.tag){case 13:return qr===null?bp():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Tf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Ep(r,c,p)),!1;case 22:return o.flags|=65536,c===Tf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Ep(r,c,p)),!1}throw Error(i(435,o.tag))}return Ep(r,c,p),bp(),!1}if(Xe)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==xf&&(r=Error(i(422),{cause:c}),Ul(Xn(r,o)))):(c!==xf&&(s=Error(i(423),{cause:c}),Ul(Xn(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Xn(c,o),p=Yf(r.stateNode,c,p),Rf(r,p),xt!==4&&(xt=2)),!1;var y=Error(i(520),{cause:c});if(y=Xn(y,o),lc===null?lc=[y]:lc.push(y),xt!==4&&(xt=2),s===null)return!0;c=Xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Yf(o.stateNode,c,r),Rf(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ds===null||!ds.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=sx(p),ax(p,r,o,c),Rf(o,p),!1}o=o.return}while(o!==null);return!1}var ox=Error(i(461)),Ht=!1;function Zt(r,s,o,c){s.child=r===null?Xy(s,null,o,c):No(s,r.child,o,c)}function lx(r,s,o,c,p){o=o.render;var y=s.ref;if("ref"in c){var R={};for(var M in c)M!=="ref"&&(R[M]=c[M])}else R=c;return Aa(s),c=Pf(r,s,o,R,y,p),M=Of(),r!==null&&!Ht?(Bf(r,s,p),Ci(r,s,p)):(Xe&&M&&gf(s),s.flags|=1,Zt(r,s,c,p),s.child)}function cx(r,s,o,c,p){if(r===null){var y=o.type;return typeof y=="function"&&!ff(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,ux(r,s,y,c,p)):(r=Mu(o.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!ip(r,p)){var R=y.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(R,c)&&r.ref===s.ref)return Ci(r,s,p)}return s.flags|=1,r=vi(y,c),r.ref=s.ref,r.return=s,s.child=r}function ux(r,s,o,c,p){if(r!==null){var y=r.memoizedProps;if(Fl(y,c)&&r.ref===s.ref)if(Ht=!1,s.pendingProps=c=y,ip(r,p))(r.flags&131072)!==0&&(Ht=!0);else return s.lanes=r.lanes,Ci(r,s,p)}return Xf(r,s,o,c,p)}function hx(r,s,o){var c=s.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(p=s.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return dx(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Uu(s,y!==null?y.cachePool:null),y!==null?uy(s,y):If(),Zy(s);else return s.lanes=s.childLanes=536870912,dx(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Uu(s,y.cachePool),uy(s,y),as(),s.memoizedState=null):(r!==null&&Uu(s,null),If(),as());return Zt(r,s,p,o),s.child}function dx(r,s,o,c){var p=Af();return p=p===null?null:{parent:jt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Uu(s,null),If(),Zy(s),r!==null&&zl(r,s,c,!0),null}function i0(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Xf(r,s,o,c,p){return Aa(s),o=Pf(r,s,o,c,void 0,p),c=Of(),r!==null&&!Ht?(Bf(r,s,p),Ci(r,s,p)):(Xe&&c&&gf(s),s.flags|=1,Zt(r,s,o,p),s.child)}function fx(r,s,o,c,p,y){return Aa(s),s.updateQueue=null,o=dy(s,c,o,p),hy(r),c=Of(),r!==null&&!Ht?(Bf(r,s,y),Ci(r,s,y)):(Xe&&c&&gf(s),s.flags|=1,Zt(r,s,o,y),s.child)}function px(r,s,o,c,p){if(Aa(s),s.stateNode===null){var y=_o,R=o.contextType;typeof R=="object"&&R!==null&&(y=on(R)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Wf,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Cf(s),R=o.contextType,y.context=typeof R=="object"&&R!==null?on(R):_o,y.state=s.memoizedState,R=o.getDerivedStateFromProps,typeof R=="function"&&(Qf(s,o,R,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Wf.enqueueReplaceState(y,y.state,null),Wl(s,c,y,p),Ql(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var M=s.memoizedProps,H=Sa(o,M);y.props=H;var ee=y.context,se=o.contextType;R=_o,typeof se=="object"&&se!==null&&(R=on(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||ee!==R)&&ex(s,y,c,R),ts=!1;var ne=s.memoizedState;y.state=ne,Wl(s,c,y,p),Ql(),ee=s.memoizedState,M||ne!==ee||ts?(typeof ce=="function"&&(Qf(s,o,ce,c),ee=s.memoizedState),(H=ts||Jy(s,o,H,c,ne,ee,R))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=R,c=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Sf(r,s),R=s.memoizedProps,se=Sa(o,R),y.props=se,ce=s.pendingProps,ne=y.context,ee=o.contextType,H=_o,typeof ee=="object"&&ee!==null&&(H=on(ee)),M=o.getDerivedStateFromProps,(ee=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==ce||ne!==H)&&ex(s,y,c,H),ts=!1,ne=s.memoizedState,y.state=ne,Wl(s,c,y,p),Ql();var re=s.memoizedState;R!==ce||ne!==re||ts||r!==null&&r.dependencies!==null&&Lu(r.dependencies)?(typeof M=="function"&&(Qf(s,o,M,c),re=s.memoizedState),(se=ts||Jy(s,o,se,c,ne,re,H)||r!==null&&r.dependencies!==null&&Lu(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),y.props=c,y.state=re,y.context=H,c=se):(typeof y.componentDidUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,i0(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=No(s,r.child,null,p),s.child=No(s,null,o,p)):Zt(r,s,o,p),s.memoizedState=y.state,r=s.child):r=Ci(r,s,p),r}function mx(r,s,o,c){return Vl(),s.flags|=256,Zt(r,s,o,c),s.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(r){return{baseLanes:r,cachePool:ny()}}function ep(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=nr),r}function gx(r,s,o){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,R;if((R=y)||(R=r!==null&&r.memoizedState===null?!1:(Lt.current&2)!==0),R&&(p=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xe){if(p?ss(s):as(),Xe){var M=yt,H;if(H=M){e:{for(H=M,M=zr;H.nodeType!==8;){if(!M){M=null;break e}if(H=mr(H.nextSibling),H===null){M=null;break e}}M=H}M!==null?(s.memoizedState={dehydrated:M,treeContext:va!==null?{id:bi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},H=Bn(18,null,null,0),H.stateNode=M,H.return=s,s.child=H,vn=s,yt=null,H=!0):H=!1}H||Ea(s)}if(M=s.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Fp(M)?s.lanes=32:s.lanes=536870912,null;Ti(s)}return M=c.children,c=c.fallback,p?(as(),p=s.mode,M=s0({mode:"hidden",children:M},p),c=xa(c,p,o,null),M.return=s,c.return=s,M.sibling=c,s.child=M,p=s.child,p.memoizedState=Jf(o),p.childLanes=ep(r,R,o),s.memoizedState=Zf,c):(ss(s),tp(s,M))}if(H=r.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(y)s.flags&256?(ss(s),s.flags&=-257,s=np(r,s,o)):s.memoizedState!==null?(as(),s.child=r.child,s.flags|=128,s=null):(as(),p=c.fallback,M=s.mode,c=s0({mode:"visible",children:c.children},M),p=xa(p,M,o,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,No(s,r.child,null,o),c=s.child,c.memoizedState=Jf(o),c.childLanes=ep(r,R,o),s.memoizedState=Zf,s=p);else if(ss(s),Fp(M)){if(R=M.nextSibling&&M.nextSibling.dataset,R)var ee=R.dgst;R=ee,c=Error(i(419)),c.stack="",c.digest=R,Ul({value:c,source:null,stack:null}),s=np(r,s,o)}else if(Ht||zl(r,s,o,!1),R=(o&r.childLanes)!==0,Ht||R){if(R=ut,R!==null&&(c=o&-o,c=(c&42)!==0?1:ur(c),c=(c&(R.suspendedLanes|o))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,bo(r,c),Vn(R,r,c),ox;M.data==="$?"||bp(),s=np(r,s,o)}else M.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,yt=mr(M.nextSibling),vn=s,Xe=!0,_a=null,zr=!1,r!==null&&(Jn[er++]=bi,Jn[er++]=_i,Jn[er++]=va,bi=r.id,_i=r.overflow,va=s),s=tp(s,c.children),s.flags|=4096);return s}return p?(as(),p=c.fallback,M=s.mode,H=r.child,ee=H.sibling,c=vi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,ee!==null?p=vi(ee,p):(p=xa(p,M,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,M=r.child.memoizedState,M===null?M=Jf(o):(H=M.cachePool,H!==null?(ee=jt._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=ny(),M={baseLanes:M.baseLanes|o,cachePool:H}),p.memoizedState=M,p.childLanes=ep(r,R,o),s.memoizedState=Zf,c):(ss(s),o=r.child,r=o.sibling,o=vi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(R=s.deletions,R===null?(s.deletions=[r],s.flags|=16):R.push(r)),s.child=o,s.memoizedState=null,o)}function tp(r,s){return s=s0({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function s0(r,s){return r=Bn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function np(r,s,o){return No(s,r.child,null,o),r=tp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function yx(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),bf(r.return,s,o)}function rp(r,s,o,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function xx(r,s,o){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(Zt(r,s,c.children,o),c=Lt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yx(r,o,s);else if(r.tag===19)yx(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Q(Lt,c),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&t0(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),rp(s,!1,p,o,y);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&t0(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}rp(s,!0,o,null,y);break;case"together":rp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ci(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(zl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=vi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=vi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ip(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Lu(r)))}function EA(r,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),es(s,jt,r.memoizedState.cache),Vl();break;case 27:case 5:fn(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:es(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?gx(r,s,o):(ss(s),r=Ci(r,s,o),r!==null?r.sibling:null);ss(s);break;case 19:var p=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(zl(r,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return xx(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(Lt,Lt.current),c)break;return null;case 22:case 23:return s.lanes=0,hx(r,s,o);case 24:es(s,jt,r.memoizedState.cache)}return Ci(r,s,o)}function vx(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ht=!0;else{if(!ip(r,o)&&(s.flags&128)===0)return Ht=!1,EA(r,s,o);Ht=(r.flags&131072)!==0}else Ht=!1,Xe&&(s.flags&1048576)!==0&&W1(s,ju,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")ff(c)?(r=Sa(c,r),s.tag=1,s=px(null,s,c,r,o)):(s.tag=0,s=Xf(null,s,c,r,o));else{if(c!=null){if(p=c.$$typeof,p===V){s.tag=11,s=lx(null,s,c,r,o);break e}else if(p===I){s.tag=14,s=cx(null,s,c,r,o);break e}}throw s=he(c)||c,Error(i(306,s,""))}}return s;case 0:return Xf(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Sa(c,s.pendingProps),px(r,s,c,p,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,Sf(r,s),Wl(s,c,null,o);var R=s.memoizedState;if(c=R.cache,es(s,jt,c),c!==y.cache&&_f(s,[jt],o,!0),Ql(),c=R.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=mx(r,s,c,o);break e}else if(c!==p){p=Xn(Error(i(424)),s),Ul(p),s=mx(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=mr(r.firstChild),vn=s,Xe=!0,_a=null,zr=!0,o=Xy(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),c===p){s=Ci(r,s,o);break e}Zt(r,s,c,o)}s=s.child}return s;case 26:return i0(r,s),r===null?(o=wv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Xe||(o=s.type,r=s.pendingProps,c=v0(me.current).createElement(o),c[gt]=s,c[He]=r,en(c,o,r),_t(c),s.stateNode=c):s.memoizedState=wv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return fn(s),r===null&&Xe&&(c=s.stateNode=bv(s.type,s.pendingProps,me.current),vn=s,zr=!0,p=yt,ms(s.type)?(jp=p,yt=mr(c.firstChild)):yt=p),Zt(r,s,s.pendingProps.children,o),i0(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xe&&((p=c=yt)&&(c=YA(c,s.type,s.pendingProps,zr),c!==null?(s.stateNode=c,vn=s,yt=mr(c.firstChild),zr=!1,p=!0):p=!1),p||Ea(s)),fn(s),p=s.type,y=s.pendingProps,R=r!==null?r.memoizedProps:null,c=y.children,Op(p,y)?c=null:R!==null&&Op(p,R)&&(s.flags|=32),s.memoizedState!==null&&(p=Pf(r,s,pA,null,null,o),yc._currentValue=p),i0(r,s),Zt(r,s,c,o),s.child;case 6:return r===null&&Xe&&((r=o=yt)&&(o=XA(o,s.pendingProps,zr),o!==null?(s.stateNode=o,vn=s,yt=null,r=!0):r=!1),r||Ea(s)),null;case 13:return gx(r,s,o);case 4:return ve(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=No(s,null,c,o):Zt(r,s,c,o),s.child;case 11:return lx(r,s,s.type,s.pendingProps,o);case 7:return Zt(r,s,s.pendingProps,o),s.child;case 8:return Zt(r,s,s.pendingProps.children,o),s.child;case 12:return Zt(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,es(s,s.type,c.value),Zt(r,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Aa(s),p=on(p),c=c(p),s.flags|=1,Zt(r,s,c,o),s.child;case 14:return cx(r,s,s.type,s.pendingProps,o);case 15:return ux(r,s,s.type,s.pendingProps,o);case 19:return xx(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=s0(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=vi(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return hx(r,s,o);case 24:return Aa(s),c=on(jt),r===null?(p=Af(),p===null&&(p=ut,y=Ef(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:c,cache:p},Cf(s),es(s,jt,p)):((r.lanes&o)!==0&&(Sf(r,s),Wl(s,null,null,o),Ql()),p=r.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),es(s,jt,c)):(c=y.cache,es(s,jt,c),c!==p.cache&&_f(s,[jt],o,!0))),Zt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Si(r){r.flags|=4}function bx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rv(s)){if(s=tr.current,s!==null&&((Ke&4194048)===Ke?qr!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||s!==qr))throw Gl=Tf,ry;r.flags|=8192}}function a0(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Gi():536870912,r.lanes|=s,Bo|=s)}function nc(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function wA(r,s,o){var c=s.pendingProps;switch(yf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wi(jt),sn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ll(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Z1())),pt(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(pt(s),bx(s,o)):(pt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),pt(s),bx(s,o)):(pt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Si(s),pt(s),s.flags&=-16777217),null;case 27:In(s),o=me.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Si(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}r=te.current,Ll(s)?Y1(s):(r=bv(p,c,o),s.stateNode=r,Si(s))}return pt(s),null;case 5:if(In(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Si(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(r=te.current,Ll(s))Y1(s);else{switch(p=v0(me.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}r[gt]=s,r[He]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(en(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Si(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=me.current,Ll(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,p=vn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[gt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||fv(r.nodeValue,o)),r||Ea(s)}else r=v0(r).createTextNode(c),r[gt]=s,s.stateNode=r}return pt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ll(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[gt]=s}else Vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),p=!1}else p=Z1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ti(s),s):(Ti(s),null)}if(Ti(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),a0(s,s.updateQueue),pt(s),null;case 4:return sn(),r===null&&Dp(s.stateNode.containerInfo),pt(s),null;case 10:return wi(s.type),pt(s),null;case 19:if(X(Lt),p=s.memoizedState,p===null)return pt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)nc(p,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=t0(r),y!==null){for(s.flags|=128,nc(p,!1),r=y.updateQueue,s.updateQueue=r,a0(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Q1(o,r),o=o.sibling;return Q(Lt,Lt.current&1|2),s.child}r=r.sibling}p.tail!==null&&Wt()>c0&&(s.flags|=128,c=!0,nc(p,!1),s.lanes=4194304)}else{if(!c)if(r=t0(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,a0(s,r),nc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Xe)return pt(s),null}else 2*Wt()-p.renderingStartTime>c0&&o!==536870912&&(s.flags|=128,c=!0,nc(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(r=p.last,r!==null?r.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Wt(),s.sibling=null,r=Lt.current,Q(Lt,c?r&1|2:r&1),s):(pt(s),null);case 22:case 23:return Ti(s),Nf(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&a0(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&X(Ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wi(jt),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function AA(r,s){switch(yf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(jt),sn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return In(s),null;case 13:if(Ti(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Vl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return X(Lt),null;case 4:return sn(),null;case 10:return wi(s.type),null;case 22:case 23:return Ti(s),Nf(),r!==null&&X(Ta),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wi(jt),null;case 25:return null;default:return null}}function _x(r,s){switch(yf(s),s.tag){case 3:wi(jt),sn();break;case 26:case 27:case 5:In(s);break;case 4:sn();break;case 13:Ti(s);break;case 19:X(Lt);break;case 10:wi(s.type);break;case 22:case 23:Ti(s),Nf(),r!==null&&X(Ta);break;case 24:wi(jt)}}function rc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&r)===r){c=void 0;var y=o.create,R=o.inst;c=y(),R.destroy=c}o=o.next}while(o!==p)}}catch(M){lt(s,s.return,M)}}function os(r,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var R=c.inst,M=R.destroy;if(M!==void 0){R.destroy=void 0,p=s;var H=o,ee=M;try{ee()}catch(se){lt(p,H,se)}}}c=c.next}while(c!==y)}}catch(se){lt(s,s.return,se)}}function Ex(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{cy(s,o)}catch(c){lt(r,r.return,c)}}}function wx(r,s,o){o.props=Sa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){lt(r,s,c)}}function ic(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(p){lt(r,s,p)}}function Hr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){lt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){lt(r,s,p)}else o.current=null}function Ax(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){lt(r,r.return,p)}}function sp(r,s,o){try{var c=r.stateNode;$A(c,r.type,o,s),c[He]=s}catch(p){lt(r,r.return,p)}}function Tx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ms(r.type)||r.tag===4}function ap(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function op(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=x0));else if(c!==4&&(c===27&&ms(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(op(r,s,o),r=r.sibling;r!==null;)op(r,s,o),r=r.sibling}function o0(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&ms(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(o0(r,s,o),r=r.sibling;r!==null;)o0(r,s,o),r=r.sibling}function Cx(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);en(s,c,o),s[gt]=r,s[He]=o}catch(y){lt(r,r.return,y)}}var Ri=!1,wt=!1,lp=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,$t=null;function TA(r,s){if(r=r.containerInfo,kp=T0,r=j1(r),af(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var R=0,M=-1,H=-1,ee=0,se=0,ce=r,ne=null;t:for(;;){for(var re;ce!==o||p!==0&&ce.nodeType!==3||(M=R+p),ce!==y||c!==0&&ce.nodeType!==3||(H=R+c),ce.nodeType===3&&(R+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ne=ce,ce=re;for(;;){if(ce===r)break t;if(ne===o&&++ee===p&&(M=R),ne===y&&++se===c&&(H=R),(re=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=re}o=M===-1||H===-1?null:{start:M,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pp={focusedElem:r,selectionRange:o},T0=!1,$t=s;$t!==null;)if(s=$t,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,$t=r;else for(;$t!==null;){switch(s=$t,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var De=Sa(o.type,p,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(De,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Te){lt(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Mp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Mp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,$t=r;break}$t=s.return}}function Rx(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ls(r,o),c&4&&rc(5,o);break;case 1:if(ls(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(R){lt(o,o.return,R)}else{var p=Sa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(R){lt(o,o.return,R)}}c&64&&Ex(o),c&512&&ic(o,o.return);break;case 3:if(ls(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{cy(r,s)}catch(R){lt(o,o.return,R)}}break;case 27:s===null&&c&4&&Cx(o);case 26:case 5:ls(r,o),s===null&&c&4&&Ax(o),c&512&&ic(o,o.return);break;case 12:ls(r,o);break;case 13:ls(r,o),c&4&&Nx(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=OA.bind(null,o),ZA(r,o))));break;case 22:if(c=o.memoizedState!==null||Ri,!c){s=s!==null&&s.memoizedState!==null||wt,p=Ri;var y=wt;Ri=c,(wt=s)&&!y?cs(r,o,(o.subtreeFlags&8772)!==0):ls(r,o),Ri=p,wt=y}break;case 30:break;default:ls(r,o)}}function Dx(r){var s=r.alternate;s!==null&&(r.alternate=null,Dx(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Yi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,An=!1;function Di(r,s,o){for(o=o.child;o!==null;)Ix(r,s,o),o=o.sibling}function Ix(r,s,o){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(tt,o)}catch{}switch(o.tag){case 26:wt||Hr(o,s),Di(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Hr(o,s);var c=dt,p=An;ms(o.type)&&(dt=o.stateNode,An=!1),Di(r,s,o),fc(o.stateNode),dt=c,An=p;break;case 5:wt||Hr(o,s);case 6:if(c=dt,p=An,dt=null,Di(r,s,o),dt=c,An=p,dt!==null)if(An)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(y){lt(o,s,y)}else try{dt.removeChild(o.stateNode)}catch(y){lt(o,s,y)}break;case 18:dt!==null&&(An?(r=dt,xv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),_c(r)):xv(dt,o.stateNode));break;case 4:c=dt,p=An,dt=o.stateNode.containerInfo,An=!0,Di(r,s,o),dt=c,An=p;break;case 0:case 11:case 14:case 15:wt||os(2,o,s),wt||os(4,o,s),Di(r,s,o);break;case 1:wt||(Hr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&wx(o,s,c)),Di(r,s,o);break;case 21:Di(r,s,o);break;case 22:wt=(c=wt)||o.memoizedState!==null,Di(r,s,o),wt=c;break;default:Di(r,s,o)}}function Nx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_c(r)}catch(o){lt(s,s.return,o)}}function CA(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Sx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Sx),s;default:throw Error(i(435,r.tag))}}function cp(r,s){var o=CA(r);s.forEach(function(c){var p=BA.bind(null,r,c);o.has(c)||(o.add(c),c.then(p,p))})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=r,R=s,M=R;e:for(;M!==null;){switch(M.tag){case 27:if(ms(M.type)){dt=M.stateNode,An=!1;break e}break;case 5:dt=M.stateNode,An=!1;break e;case 3:case 4:dt=M.stateNode.containerInfo,An=!0;break e}M=M.return}if(dt===null)throw Error(i(160));Ix(y,R,p),dt=null,An=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)kx(s,r),s=s.sibling}var pr=null;function kx(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),Fn(r),c&4&&(os(3,r,r.return),rc(3,r),os(5,r,r.return));break;case 1:Mn(s,r),Fn(r),c&512&&(wt||o===null||Hr(o,o.return)),c&64&&Ri&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=pr;if(Mn(s,r),Fn(r),c&512&&(wt||o===null||Hr(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[na]||y[gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),en(y,c,o),y[gt]=r,_t(y),c=y;break e;case"link":var R=Cv("link","href",p).get(c+(o.href||""));if(R){for(var M=0;M<R.length;M++)if(y=R[M],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){R.splice(M,1);break t}}y=p.createElement(c),en(y,c,o),p.head.appendChild(y);break;case"meta":if(R=Cv("meta","content",p).get(c+(o.content||""))){for(M=0;M<R.length;M++)if(y=R[M],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){R.splice(M,1);break t}}y=p.createElement(c),en(y,c,o),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[gt]=r,_t(y),c=y}r.stateNode=c}else Sv(p,r.type,r.stateNode);else r.stateNode=Tv(p,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?Sv(p,r.type,r.stateNode):Tv(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&sp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),Fn(r),c&512&&(wt||o===null||Hr(o,o.return)),o!==null&&c&4&&sp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),Fn(r),c&512&&(wt||o===null||Hr(o,o.return)),r.flags&32){p=r.stateNode;try{Kn(p,"")}catch(re){lt(r,r.return,re)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,sp(r,p,o!==null?o.memoizedProps:p)),c&1024&&(lp=!0);break;case 6:if(Mn(s,r),Fn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(re){lt(r,r.return,re)}}break;case 3:if(E0=null,p=pr,pr=b0(s.containerInfo),Mn(s,r),pr=p,Fn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{_c(s.containerInfo)}catch(re){lt(r,r.return,re)}lp&&(lp=!1,Px(r));break;case 4:c=pr,pr=b0(r.stateNode.containerInfo),Mn(s,r),Fn(r),pr=c;break;case 12:Mn(s,r),Fn(r);break;case 13:Mn(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mp=Wt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,cp(r,c)));break;case 22:p=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,ee=Ri,se=wt;if(Ri=ee||p,wt=se||H,Mn(s,r),wt=se,Ri=ee,Fn(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||H||Ri||wt||Ra(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(y=H.stateNode,p)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{M=H.stateNode;var ce=H.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){lt(H,H.return,re)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(re){lt(H,H.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,cp(r,o))));break;case 19:Mn(s,r),Fn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,cp(r,c)));break;case 30:break;case 21:break;default:Mn(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(Tx(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=ap(r);o0(r,y,p);break;case 5:var R=o.stateNode;o.flags&32&&(Kn(R,""),o.flags&=-33);var M=ap(r);o0(r,M,R);break;case 3:case 4:var H=o.stateNode.containerInfo,ee=ap(r);op(r,ee,H);break;default:throw Error(i(161))}}catch(se){lt(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Px(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Px(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ls(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Rx(r,s.alternate,s),s=s.sibling}function Ra(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),Ra(s);break;case 1:Hr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&wx(s,s.return,o),Ra(s);break;case 27:fc(s.stateNode);case 26:case 5:Hr(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}r=r.sibling}}function cs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,y=s,R=y.flags;switch(y.tag){case 0:case 11:case 15:cs(p,y,o),rc(4,y);break;case 1:if(cs(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){lt(c,c.return,ee)}if(c=y,p=c.updateQueue,p!==null){var M=c.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)ly(H[p],M)}catch(ee){lt(c,c.return,ee)}}o&&R&64&&Ex(y),ic(y,y.return);break;case 27:Cx(y);case 26:case 5:cs(p,y,o),o&&c===null&&R&4&&Ax(y),ic(y,y.return);break;case 12:cs(p,y,o);break;case 13:cs(p,y,o),o&&R&4&&Nx(p,y);break;case 22:y.memoizedState===null&&cs(p,y,o),ic(y,y.return);break;case 30:break;default:cs(p,y,o)}s=s.sibling}}function up(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ql(o))}function hp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ql(r))}function $r(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ox(r,s,o,c),s=s.sibling}function Ox(r,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:$r(r,s,o,c),p&2048&&rc(9,s);break;case 1:$r(r,s,o,c);break;case 3:$r(r,s,o,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ql(r)));break;case 12:if(p&2048){$r(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,R=y.id,M=y.onPostCommit;typeof M=="function"&&M(R,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){lt(s,s.return,H)}}else $r(r,s,o,c);break;case 13:$r(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,R=s.alternate,s.memoizedState!==null?y._visibility&2?$r(r,s,o,c):sc(r,s):y._visibility&2?$r(r,s,o,c):(y._visibility|=2,ko(r,s,o,c,(s.subtreeFlags&10256)!==0)),p&2048&&up(R,s);break;case 24:$r(r,s,o,c),p&2048&&hp(s.alternate,s);break;default:$r(r,s,o,c)}}function ko(r,s,o,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,R=s,M=o,H=c,ee=R.flags;switch(R.tag){case 0:case 11:case 15:ko(y,R,M,H,p),rc(8,R);break;case 23:break;case 22:var se=R.stateNode;R.memoizedState!==null?se._visibility&2?ko(y,R,M,H,p):sc(y,R):(se._visibility|=2,ko(y,R,M,H,p)),p&&ee&2048&&up(R.alternate,R);break;case 24:ko(y,R,M,H,p),p&&ee&2048&&hp(R.alternate,R);break;default:ko(y,R,M,H,p)}s=s.sibling}}function sc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,p=c.flags;switch(c.tag){case 22:sc(o,c),p&2048&&up(c.alternate,c);break;case 24:sc(o,c),p&2048&&hp(c.alternate,c);break;default:sc(o,c)}s=s.sibling}}var ac=8192;function Po(r){if(r.subtreeFlags&ac)for(r=r.child;r!==null;)Bx(r),r=r.sibling}function Bx(r){switch(r.tag){case 26:Po(r),r.flags&ac&&r.memoizedState!==null&&h3(pr,r.memoizedState,r.memoizedProps);break;case 5:Po(r);break;case 3:case 4:var s=pr;pr=b0(r.stateNode.containerInfo),Po(r),pr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=ac,ac=16777216,Po(r),ac=s):Po(r));break;default:Po(r)}}function Mx(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function oc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];$t=c,jx(c,r)}Mx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fx(r),r=r.sibling}function Fx(r){switch(r.tag){case 0:case 11:case 15:oc(r),r.flags&2048&&os(9,r,r.return);break;case 3:oc(r);break;case 12:oc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,l0(r)):oc(r);break;default:oc(r)}}function l0(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];$t=c,jx(c,r)}Mx(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:os(8,s,s.return),l0(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,l0(s));break;default:l0(s)}r=r.sibling}}function jx(r,s){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:os(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ql(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=r;$t!==null;){c=$t;var p=c.sibling,y=c.return;if(Dx(c),c===o){$t=null;break e}if(p!==null){p.return=y,$t=p;break e}$t=y}}}var SA={getCacheForType:function(r){var s=on(jt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},RA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ut=null,Be=null,Ke=0,rt=0,jn=null,us=!1,Oo=!1,dp=!1,Ii=0,xt=0,hs=0,Da=0,fp=0,nr=0,Bo=0,lc=null,Tn=null,pp=!1,mp=0,c0=1/0,u0=null,ds=null,Jt=0,fs=null,Mo=null,Fo=0,gp=0,yp=null,Lx=null,cc=0,xp=null;function Ln(){if((nt&2)!==0&&Ke!==0)return Ke&-Ke;if(Y.T!==null){var r=Ao;return r!==0?r:Tp()}return Nr()}function Vx(){nr===0&&(nr=(Ke&536870912)===0||Xe?Zs():536870912);var r=tr.current;return r!==null&&(r.flags|=32),nr}function Vn(r,s,o){(r===ut&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(jo(r,0),ps(r,Ke,nr,!1)),$n(r,o),((nt&2)===0||r!==ut)&&(r===ut&&((nt&2)===0&&(Da|=o),xt===4&&ps(r,Ke,nr,!1)),Gr(r))}function Ux(r,s,o){if((nt&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||li(r,s),p=c?NA(r,s):_p(r,s,!0),y=c;do{if(p===0){Oo&&!c&&ps(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!DA(o)){p=_p(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var M=r;p=lc;var H=M.current.memoizedState.isDehydrated;if(H&&(jo(M,R).flags|=256),R=_p(M,R,!1),R!==2){if(dp&&!H){M.errorRecoveryDisabledLanes|=y,Da|=y,p=4;break e}y=Tn,Tn=p,y!==null&&(Tn===null?Tn=y:Tn.push.apply(Tn,y))}p=R}if(y=!1,p!==2)continue}}if(p===1){jo(r,0),ps(r,s,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(c,s,nr,!us);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=mp+300-Wt(),10<p)){if(ps(c,s,nr,!us),Hi(c,0,!0)!==0)break e;c.timeoutHandle=gv(zx.bind(null,c,o,Tn,u0,pp,s,nr,Da,Bo,us,y,2,-0,0),p);break e}zx(c,o,Tn,u0,pp,s,nr,Da,Bo,us,y,0,-0,0)}}break}while(!0);Gr(r)}function zx(r,s,o,c,p,y,R,M,H,ee,se,ce,ne,re){if(r.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:u3},Bx(s),ce=d3(),ce!==null)){r.cancelPendingCommit=ce(Wx.bind(null,r,s,y,o,c,p,R,M,H,se,1,ne,re)),ps(r,y,R,!ee);return}Wx(r,s,y,o,c,p,R,M,H)}function DA(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!On(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,o,c){s&=~fp,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var y=31-Bt(p),R=1<<y;c[y]=-1,p&=~R}o!==0&&Gn(r,o,s)}function h0(){return(nt&6)===0?(uc(0),!1):!0}function vp(){if(Be!==null){if(rt===0)var r=Be.return;else r=Be,Ei=wa=null,Mf(r),Io=null,ec=0,r=Be;for(;r!==null;)_x(r.alternate,r),r=r.return;Be=null}}function jo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,KA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),vp(),ut=r,Be=o=vi(r.current,null),Ke=s,rt=0,jn=null,us=!1,Oo=li(r,s),dp=!1,Bo=nr=fp=Da=hs=xt=0,Tn=lc=null,pp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-Bt(c),y=1<<p;s|=r[p],c&=~y}return Ii=s,Pu(),o}function qx(r,s){Pe=null,Y.H=Zu,s===$l||s===zu?(s=ay(),rt=3):s===ry?(s=ay(),rt=4):rt=s===ox?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,Be===null&&(xt=1,r0(r,Xn(s,r.current)))}function Hx(){var r=Y.H;return Y.H=Zu,r===null?Zu:r}function $x(){var r=Y.A;return Y.A=SA,r}function bp(){xt=4,us||(Ke&4194048)!==Ke&&tr.current!==null||(Oo=!0),(hs&134217727)===0&&(Da&134217727)===0||ut===null||ps(ut,Ke,nr,!1)}function _p(r,s,o){var c=nt;nt|=2;var p=Hx(),y=$x();(ut!==r||Ke!==s)&&(u0=null,jo(r,s)),s=!1;var R=xt;e:do try{if(rt!==0&&Be!==null){var M=Be,H=jn;switch(rt){case 8:vp(),R=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(s=!0);var ee=rt;if(rt=0,jn=null,Lo(r,M,H,ee),o&&Oo){R=0;break e}break;default:ee=rt,rt=0,jn=null,Lo(r,M,H,ee)}}IA(),R=xt;break}catch(se){qx(r,se)}while(!0);return s&&r.shellSuspendCounter++,Ei=wa=null,nt=c,Y.H=p,Y.A=y,Be===null&&(ut=null,Ke=0,Pu()),R}function IA(){for(;Be!==null;)Gx(Be)}function NA(r,s){var o=nt;nt|=2;var c=Hx(),p=$x();ut!==r||Ke!==s?(u0=null,c0=Wt()+500,jo(r,s)):Oo=li(r,s);e:do try{if(rt!==0&&Be!==null){s=Be;var y=jn;t:switch(rt){case 1:rt=0,jn=null,Lo(r,s,y,1);break;case 2:case 9:if(iy(y)){rt=0,jn=null,Kx(s);break}s=function(){rt!==2&&rt!==9||ut!==r||(rt=7),Gr(r)},y.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:iy(y)?(rt=0,jn=null,Kx(s)):(rt=0,jn=null,Lo(r,s,y,7));break;case 5:var R=null;switch(Be.tag){case 26:R=Be.memoizedState;case 5:case 27:var M=Be;if(!R||Rv(R)){rt=0,jn=null;var H=M.sibling;if(H!==null)Be=H;else{var ee=M.return;ee!==null?(Be=ee,d0(ee)):Be=null}break t}}rt=0,jn=null,Lo(r,s,y,5);break;case 6:rt=0,jn=null,Lo(r,s,y,6);break;case 8:vp(),xt=6;break e;default:throw Error(i(462))}}kA();break}catch(se){qx(r,se)}while(!0);return Ei=wa=null,Y.H=c,Y.A=p,nt=o,Be!==null?0:(ut=null,Ke=0,Pu(),xt)}function kA(){for(;Be!==null&&!Cr();)Gx(Be)}function Gx(r){var s=vx(r.alternate,r,Ii);r.memoizedProps=r.pendingProps,s===null?d0(r):Be=s}function Kx(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=fx(o,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=fx(o,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Mf(s);default:_x(o,s),s=Be=Q1(s,Ii),s=vx(o,s,Ii)}r.memoizedProps=r.pendingProps,s===null?d0(r):Be=s}function Lo(r,s,o,c){Ei=wa=null,Mf(s),Io=null,ec=0;var p=s.return;try{if(_A(r,p,s,o,Ke)){xt=1,r0(r,Xn(o,r.current)),Be=null;return}}catch(y){if(p!==null)throw Be=p,y;xt=1,r0(r,Xn(o,r.current)),Be=null;return}s.flags&32768?(Xe||c===1?r=!0:Oo||(Ke&536870912)!==0?r=!1:(us=r=!0,(c===2||c===9||c===3||c===6)&&(c=tr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Qx(s,r)):d0(s)}function d0(r){var s=r;do{if((s.flags&32768)!==0){Qx(s,us);return}r=s.return;var o=wA(s.alternate,s,Ii);if(o!==null){Be=o;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=r}while(s!==null);xt===0&&(xt=5)}function Qx(r,s){do{var o=AA(r.alternate,r);if(o!==null){o.flags&=32767,Be=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Be=r;return}Be=r=o}while(r!==null);xt=6,Be=null}function Wx(r,s,o,c,p,y,R,M,H){r.cancelPendingCommit=null;do f0();while(Jt!==0);if((nt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=hf,Js(r,o,y,R,M,H),r===ut&&(Be=ut=null,Ke=0),Mo=s,fs=r,Fo=o,gp=y,yp=p,Lx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,MA(Ot,function(){return ev(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,p=le.p,le.p=2,R=nt,nt|=4;try{TA(r,s,o)}finally{nt=R,le.p=p,Y.T=c}}Jt=1,Yx(),Xx(),Zx()}}function Yx(){if(Jt===1){Jt=0;var r=fs,s=Mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=le.p;le.p=2;var p=nt;nt|=4;try{kx(s,r);var y=Pp,R=j1(r.containerInfo),M=y.focusedElem,H=y.selectionRange;if(R!==M&&M&&M.ownerDocument&&F1(M.ownerDocument.documentElement,M)){if(H!==null&&af(M)){var ee=H.start,se=H.end;if(se===void 0&&(se=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(se,M.value.length);else{var ce=M.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),De=M.textContent.length,Te=Math.min(H.start,De),ot=H.end===void 0?Te:Math.min(H.end,De);!re.extend&&Te>ot&&(R=ot,ot=Te,Te=R);var W=M1(M,Te),K=M1(M,ot);if(W&&K&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=ce.createRange();J.setStart(W.node,W.offset),re.removeAllRanges(),Te>ot?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(ce=[],re=M;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ce.length;M++){var ae=ce[M];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}T0=!!kp,Pp=kp=null}finally{nt=p,le.p=c,Y.T=o}}r.current=s,Jt=2}}function Xx(){if(Jt===2){Jt=0;var r=fs,s=Mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=le.p;le.p=2;var p=nt;nt|=4;try{Rx(r,s.alternate,s)}finally{nt=p,le.p=c,Y.T=o}}Jt=3}}function Zx(){if(Jt===4||Jt===3){Jt=0,Sr();var r=fs,s=Mo,o=Fo,c=Lx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,Mo=fs=null,Jx(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(ds=null),Ki(o),s=s.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(tt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,p=le.p,le.p=2,Y.T=null;try{for(var y=r.onRecoverableError,R=0;R<c.length;R++){var M=c[R];y(M.value,{componentStack:M.stack})}}finally{Y.T=s,le.p=p}}(Fo&3)!==0&&f0(),Gr(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===xp?cc++:(cc=0,xp=r):cc=0,uc(0)}}function Jx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ql(s)))}function f0(r){return Yx(),Xx(),Zx(),ev()}function ev(){if(Jt!==5)return!1;var r=fs,s=gp;gp=0;var o=Ki(Fo),c=Y.T,p=le.p;try{le.p=32>o?32:o,Y.T=null,o=yp,yp=null;var y=fs,R=Fo;if(Jt=0,Mo=fs=null,Fo=0,(nt&6)!==0)throw Error(i(331));var M=nt;if(nt|=4,Fx(y.current),Ox(y,y.current,R,o),nt=M,uc(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(tt,y)}catch{}return!0}finally{le.p=p,Y.T=c,Jx(r,s)}}function tv(r,s,o){s=Xn(o,s),s=Yf(r.stateNode,s,2),r=rs(r,s,2),r!==null&&($n(r,2),Gr(r))}function lt(r,s,o){if(r.tag===3)tv(r,r,o);else for(;s!==null;){if(s.tag===3){tv(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ds===null||!ds.has(c))){r=Xn(o,r),o=sx(2),c=rs(s,o,2),c!==null&&(ax(o,c,s,r),$n(c,2),Gr(c));break}}s=s.return}}function Ep(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new RA;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(dp=!0,p.add(o),r=PA.bind(null,r,s,o),s.then(r,r))}function PA(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ut===r&&(Ke&o)===o&&(xt===4||xt===3&&(Ke&62914560)===Ke&&300>Wt()-mp?(nt&2)===0&&jo(r,0):fp|=o,Bo===Ke&&(Bo=0)),Gr(r)}function nv(r,s){s===0&&(s=Gi()),r=bo(r,s),r!==null&&($n(r,s),Gr(r))}function OA(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),nv(r,o)}function BA(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),nv(r,o)}function MA(r,s){return Pt(r,s)}var p0=null,Vo=null,wp=!1,m0=!1,Ap=!1,Ia=0;function Gr(r){r!==Vo&&r.next===null&&(Vo===null?p0=Vo=r:Vo=Vo.next=r),m0=!0,wp||(wp=!0,jA())}function uc(r,s){if(!Ap&&m0){Ap=!0;do for(var o=!1,c=p0;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var R=c.suspendedLanes,M=c.pingedLanes;y=(1<<31-Bt(42|r)+1)-1,y&=p&~(R&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,av(c,y))}else y=Ke,y=Hi(c,c===ut?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||li(c,y)||(o=!0,av(c,y));c=c.next}while(o);Ap=!1}}function FA(){rv()}function rv(){m0=wp=!1;var r=0;Ia!==0&&(GA()&&(r=Ia),Ia=0);for(var s=Wt(),o=null,c=p0;c!==null;){var p=c.next,y=iv(c,s);y===0?(c.next=null,o===null?p0=p:o.next=p,p===null&&(Vo=o)):(o=c,(r!==0||(y&3)!==0)&&(m0=!0)),c=p}uc(r)}function iv(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var R=31-Bt(y),M=1<<R,H=p[R];H===-1?((M&o)===0||(M&c)!==0)&&(p[R]=$i(M,s)):H<=s&&(r.expiredLanes|=M),y&=~M}if(s=ut,o=Ke,o=Hi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&vt(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||li(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&vt(c),Ki(o)){case 2:case 8:o=Hn;break;case 32:o=Ot;break;case 268435456:o=pn;break;default:o=Ot}return c=sv.bind(null,r),o=Pt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&vt(c),r.callbackPriority=2,r.callbackNode=null,2}function sv(r,s){if(Jt!==0&&Jt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(f0()&&r.callbackNode!==o)return null;var c=Ke;return c=Hi(r,r===ut?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Ux(r,c,s),iv(r,Wt()),r.callbackNode!=null&&r.callbackNode===o?sv.bind(null,r):null)}function av(r,s){if(f0())return null;Ux(r,s,!0)}function jA(){QA(function(){(nt&6)!==0?Pt(ai,FA):rv()})}function Tp(){return Ia===0&&(Ia=Zs()),Ia}function ov(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oo(""+r)}function lv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function LA(r,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var y=ov((p[He]||null).action),R=c.submitter;R&&(s=(s=R[He]||null)?ov(s.formAction):R.getAttribute("formAction"),s!==null&&(y=s,R=null));var M=new lo("action","action",null,c,p);r.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ia!==0){var H=R?lv(p,R):new FormData(p);$f(o,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(M.preventDefault(),H=R?lv(p,R):new FormData(p),$f(o,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var Cp=0;Cp<uf.length;Cp++){var Sp=uf[Cp],VA=Sp.toLowerCase(),UA=Sp[0].toUpperCase()+Sp.slice(1);fr(VA,"on"+UA)}fr(U1,"onAnimationEnd"),fr(z1,"onAnimationIteration"),fr(q1,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(iA,"onTransitionRun"),fr(sA,"onTransitionStart"),fr(aA,"onTransitionCancel"),fr(H1,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function cv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var R=c.length-1;0<=R;R--){var M=c[R],H=M.instance,ee=M.currentTarget;if(M=M.listener,H!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=ee;try{y(p)}catch(se){n0(se)}p.currentTarget=null,y=H}else for(R=0;R<c.length;R++){if(M=c[R],H=M.instance,ee=M.currentTarget,M=M.listener,H!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=ee;try{y(p)}catch(se){n0(se)}p.currentTarget=null,y=H}}}}function Me(r,s){var o=s[Qi];o===void 0&&(o=s[Qi]=new Set);var c=r+"__bubble";o.has(c)||(uv(s,r,2,!1),o.add(c))}function Rp(r,s,o){var c=0;s&&(c|=4),uv(o,r,c,s)}var g0="_reactListening"+Math.random().toString(36).slice(2);function Dp(r){if(!r[g0]){r[g0]=!0,wl.forEach(function(o){o!=="selectionchange"&&(zA.has(o)||Rp(o,!1,r),Rp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[g0]||(s[g0]=!0,Rp("selectionchange",!1,s))}}function uv(r,s,o,c){switch(Ov(s)){case 2:var p=m3;break;case 8:p=g3;break;default:p=qp}o=p.bind(null,s,o,r),p=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Ip(r,s,o,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var M=c.stateNode.containerInfo;if(M===p)break;if(R===4)for(R=c.return;R!==null;){var H=R.tag;if((H===3||H===4)&&R.stateNode.containerInfo===p)return;R=R.return}for(;M!==null;){if(R=ci(M),R===null)return;if(H=R.tag,H===5||H===6||H===26||H===27){c=y=R;continue e}M=M.parentNode}}c=c.return}xu(function(){var ee=y,se=Qn(o),ce=[];e:{var ne=$1.get(r);if(ne!==void 0){var re=lo,De=r;switch(r){case"keypress":if(Fr(o)===0)break e;case"keydown":case"keyup":re=mo;break;case"focusin":De="focus",re=ho;break;case"focusout":De="blur",re=ho;break;case"beforeblur":case"afterblur":re=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Cu;break;case U1:case z1:case q1:re=fo;break;case H1:re=Ru;break;case"scroll":case"scrollend":re=vu;break;case"wheel":re=go;break;case"copy":case"cut":case"paste":re=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Bl;break;case"toggle":case"beforetoggle":re=Iu}var Te=(s&4)!==0,ot=!Te&&(r==="scroll"||r==="scrollend"),W=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var K=ee,J;K!==null;){var ae=K;if(J=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||J===null||W===null||(ae=ca(K,W),ae!=null&&Te.push(dc(K,ae,J))),ot)break;K=K.return}0<Te.length&&(ne=new re(ne,De,null,o,se),ce.push({event:ne,listeners:Te}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ne&&o!==fi&&(De=o.relatedTarget||o.fromElement)&&(ci(De)||De[bt]))break e;if((re||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(De=o.relatedTarget||o.toElement,re=ee,De=De?ci(De):null,De!==null&&(ot=l(De),Te=De.tag,De!==ot||Te!==5&&Te!==27&&Te!==6)&&(De=null)):(re=null,De=ee),re!==De)){if(Te=Yn,ae="onMouseLeave",W="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Bl,ae="onPointerLeave",W="onPointerEnter",K="pointer"),ot=re==null?ne:Pr(re),J=De==null?ne:Pr(De),ne=new Te(ae,K+"leave",re,o,se),ne.target=ot,ne.relatedTarget=J,ae=null,ci(se)===ee&&(Te=new Te(W,K+"enter",De,o,se),Te.target=J,Te.relatedTarget=ot,ae=Te),ot=ae,re&&De)t:{for(Te=re,W=De,K=0,J=Te;J;J=Uo(J))K++;for(J=0,ae=W;ae;ae=Uo(ae))J++;for(;0<K-J;)Te=Uo(Te),K--;for(;0<J-K;)W=Uo(W),J--;for(;K--;){if(Te===W||W!==null&&Te===W.alternate)break t;Te=Uo(Te),W=Uo(W)}Te=null}else Te=null;re!==null&&hv(ce,ne,re,Te,!1),De!==null&&ot!==null&&hv(ce,ot,De,Te,!0)}}e:{if(ne=ee?Pr(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var be=I1;else if(Ft(ne))if(N1)be=tA;else{be=Jw;var Oe=Zw}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Rl(ee.elementType)&&(be=I1):be=eA;if(be&&(be=be(r,ee))){xi(ce,be,o,se);break e}Oe&&Oe(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Zi(ne,"number",ne.value)}switch(Oe=ee?Pr(ee):window,r){case"focusin":(Ft(Oe)||Oe.contentEditable==="true")&&(yo=Oe,of=ee,jl=null);break;case"focusout":jl=of=yo=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,L1(ce,o,se);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":L1(ce,o,se)}var we;if(Vr)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else $e?ie(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(C&&o.locale!=="ko"&&($e||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&$e&&(we=Il()):(Mr=se,Ji="value"in Mr?Mr.value:Mr.textContent,$e=!0)),Oe=y0(ee,Ce),0<Oe.length&&(Ce=new Pl(Ce,r,null,o,se),ce.push({event:Ce,listeners:Oe}),we?Ce.data=we:(we=pe(o),we!==null&&(Ce.data=we)))),(we=v?Mt(r,o):Ge(r,o))&&(Ce=y0(ee,"onBeforeInput"),0<Ce.length&&(Oe=new Pl("onBeforeInput","beforeinput",null,o,se),ce.push({event:Oe,listeners:Ce}),Oe.data=we)),LA(ce,r,ee,o,se)}cv(ce,s)})}function dc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function y0(r,s){for(var o=s+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ca(r,o),p!=null&&c.unshift(dc(r,p,y)),p=ca(r,s),p!=null&&c.push(dc(r,p,y))),r.tag===3)return c;r=r.return}return[]}function Uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function hv(r,s,o,c,p){for(var y=s._reactName,R=[];o!==null&&o!==c;){var M=o,H=M.alternate,ee=M.stateNode;if(M=M.tag,H!==null&&H===c)break;M!==5&&M!==26&&M!==27||ee===null||(H=ee,p?(ee=ca(o,y),ee!=null&&R.unshift(dc(o,ee,H))):p||(ee=ca(o,y),ee!=null&&R.push(dc(o,ee,H)))),o=o.return}R.length!==0&&r.push({event:s,listeners:R})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function dv(r){return(typeof r=="string"?r:""+r).replace(qA,`
`).replace(HA,"")}function fv(r,s){return s=dv(s),dv(r)===s}function x0(){}function at(r,s,o,c,p,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Kn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Kn(r,""+c);break;case"className":Or(r,"class",c);break;case"tabIndex":Or(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(r,o,c);break;case"style":Sl(r,c,y);break;case"data":if(s!=="object"){Or(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=oo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&at(r,s,"name",p.name,p,null),at(r,s,"formEncType",p.formEncType,p,null),at(r,s,"formMethod",p.formMethod,p,null),at(r,s,"formTarget",p.formTarget,p,null)):(at(r,s,"encType",p.encType,p,null),at(r,s,"method",p.method,p,null),at(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=oo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=x0);break;case"onScroll":c!=null&&Me("scroll",r);break;case"onScrollEnd":c!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=oo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Me("beforetoggle",r),Me("toggle",r),Xi(r,"popover",c);break;case"xlinkActuate":Yt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Yt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Yt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Yt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Yt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Yt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jd.get(o)||o,Xi(r,o,c))}}function Np(r,s,o,c,p,y){switch(o){case"style":Sl(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Kn(r,c):(typeof c=="number"||typeof c=="bigint")&&Kn(r,""+c);break;case"onScroll":c!=null&&Me("scroll",r);break;case"onScrollEnd":c!=null&&Me("scrollend",r);break;case"onClick":c!=null&&(r.onclick=x0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=r[He]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,p);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Xi(r,o,c)}}}function en(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var R=o[y];if(R!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,y,R,o,null)}}p&&at(r,s,"srcSet",o.srcSet,o,null),c&&at(r,s,"src",o.src,o,null);return;case"input":Me("invalid",r);var M=y=R=p=null,H=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":p=se;break;case"type":R=se;break;case"checked":H=se;break;case"defaultChecked":ee=se;break;case"value":y=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:at(r,s,c,se,o,null)}}aa(r,y,M,H,ee,R,p,!1),ao(r);return;case"select":Me("invalid",r),c=R=y=null;for(p in o)if(o.hasOwnProperty(p)&&(M=o[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":R=M;break;case"multiple":c=M;default:at(r,s,p,M,o,null)}s=y,o=R,r.multiple=!!c,s!=null?di(r,!!c,s,!1):o!=null&&di(r,!!c,o,!0);return;case"textarea":Me("invalid",r),y=p=c=null;for(R in o)if(o.hasOwnProperty(R)&&(M=o[R],M!=null))switch(R){case"value":c=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:at(r,s,R,M,o,null)}oa(r,c,p,y),ao(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(r,s,H,c,o,null)}return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(c=0;c<hc.length;c++)Me(hc[c],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,ee,c,o,null)}return;default:if(Rl(s)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Np(r,s,se,c,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null&&at(r,s,M,c,o,null))}function $A(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,R=null,M=null,H=null,ee=null,se=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=ce;default:c.hasOwnProperty(re)||at(r,s,re,null,c,ce)}}for(var ne in c){var re=c[ne];if(ce=o[ne],c.hasOwnProperty(ne)&&(re!=null||ce!=null))switch(ne){case"type":y=re;break;case"name":p=re;break;case"checked":ee=re;break;case"defaultChecked":se=re;break;case"value":R=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==ce&&at(r,s,ne,re,c,ce)}}Pn(r,R,M,H,ee,se,y,p);return;case"select":re=R=M=ne=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":re=H;default:c.hasOwnProperty(y)||at(r,s,y,null,c,H)}for(p in c)if(y=c[p],H=o[p],c.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":ne=y;break;case"defaultValue":M=y;break;case"multiple":R=y;default:y!==H&&at(r,s,p,y,c,H)}s=M,o=R,c=re,ne!=null?di(r,!!o,ne,!1):!!c!=!!o&&(s!=null?di(r,!!o,s,!0):di(r,!!o,o?[]:"",!1));return;case"textarea":re=ne=null;for(M in o)if(p=o[M],o.hasOwnProperty(M)&&p!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:at(r,s,M,null,c,p)}for(R in c)if(p=c[R],y=o[R],c.hasOwnProperty(R)&&(p!=null||y!=null))switch(R){case"value":ne=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&at(r,s,R,p,c,y)}it(r,ne,re);return;case"option":for(var De in o)if(ne=o[De],o.hasOwnProperty(De)&&ne!=null&&!c.hasOwnProperty(De))switch(De){case"selected":r.selected=!1;break;default:at(r,s,De,null,c,ne)}for(H in c)if(ne=c[H],re=o[H],c.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:at(r,s,H,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)ne=o[Te],o.hasOwnProperty(Te)&&ne!=null&&!c.hasOwnProperty(Te)&&at(r,s,Te,null,c,ne);for(ee in c)if(ne=c[ee],re=o[ee],c.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:at(r,s,ee,ne,c,re)}return;default:if(Rl(s)){for(var ot in o)ne=o[ot],o.hasOwnProperty(ot)&&ne!==void 0&&!c.hasOwnProperty(ot)&&Np(r,s,ot,void 0,c,ne);for(se in c)ne=c[se],re=o[se],!c.hasOwnProperty(se)||ne===re||ne===void 0&&re===void 0||Np(r,s,se,ne,c,re);return}}for(var W in o)ne=o[W],o.hasOwnProperty(W)&&ne!=null&&!c.hasOwnProperty(W)&&at(r,s,W,null,c,ne);for(ce in c)ne=c[ce],re=o[ce],!c.hasOwnProperty(ce)||ne===re||ne==null&&re==null||at(r,s,ce,ne,c,re)}var kp=null,Pp=null;function v0(r){return r.nodeType===9?r:r.ownerDocument}function pv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Op(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function GA(){var r=window.event;return r&&r.type==="popstate"?r===Bp?!1:(Bp=r,!0):(Bp=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(r){return yv.resolve(null).then(r).catch(WA)}:gv;function WA(r){setTimeout(function(){throw r})}function ms(r){return r==="head"}function xv(r,s){var o=s,c=0,p=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var R=r.ownerDocument;if(o&1&&fc(R.documentElement),o&2&&fc(R.body),o&4)for(o=R.head,fc(o),R=o.firstChild;R;){var M=R.nextSibling,H=R.nodeName;R[na]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&R.rel.toLowerCase()==="stylesheet"||o.removeChild(R),R=M}}if(p===0){r.removeChild(y),_c(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);_c(s)}function Mp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mp(o),Yi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function YA(r,s,o,c){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[na])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=mr(r.nextSibling),r===null)break}return null}function XA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=mr(r.nextSibling),r===null))return null;return r}function Fp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ZA(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function mr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var jp=null;function vv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function bv(r,s,o){switch(s=v0(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function fc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Yi(r)}var rr=new Map,_v=new Set;function b0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ni=le.d;le.d={f:JA,r:e3,D:t3,C:n3,L:r3,m:i3,X:a3,S:s3,M:o3};function JA(){var r=Ni.f(),s=h0();return r||s}function e3(r){var s=kr(r);s!==null&&s.tag===5&&s.type==="form"?Uy(s):Ni.r(r)}var zo=typeof document>"u"?null:document;function Ev(r,s,o){var c=zo;if(c&&typeof s=="string"&&s){var p=Ct(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),_v.has(p)||(_v.add(p),r={rel:r,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),en(s,"link",r),_t(s),c.head.appendChild(s)))}}function t3(r){Ni.D(r),Ev("dns-prefetch",r,null)}function n3(r,s){Ni.C(r,s),Ev("preconnect",r,s)}function r3(r,s,o){Ni.L(r,s,o);var c=zo;if(c&&r&&s){var p='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ct(o.imageSizes)+'"]')):p+='[href="'+Ct(r)+'"]';var y=p;switch(s){case"style":y=qo(r);break;case"script":y=Ho(r)}rr.has(y)||(r=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),rr.set(y,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(pc(y))||s==="script"&&c.querySelector(mc(y))||(s=c.createElement("link"),en(s,"link",r),_t(s),c.head.appendChild(s)))}}function i3(r,s){Ni.m(r,s);var o=zo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ho(r)}if(!rr.has(y)&&(r=x({rel:"modulepreload",href:r},s),rr.set(y,r),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mc(y)))return}c=o.createElement("link"),en(c,"link",r),_t(c),o.head.appendChild(c)}}}function s3(r,s,o){Ni.S(r,s,o);var c=zo;if(c&&r){var p=gn(c).hoistableStyles,y=qo(r);s=s||"default";var R=p.get(y);if(!R){var M={loading:0,preload:null};if(R=c.querySelector(pc(y)))M.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},o),(o=rr.get(y))&&Lp(r,o);var H=R=c.createElement("link");_t(H),en(H,"link",r),H._p=new Promise(function(ee,se){H.onload=ee,H.onerror=se}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,_0(R,s,c)}R={type:"stylesheet",instance:R,count:1,state:M},p.set(y,R)}}}function a3(r,s){Ni.X(r,s);var o=zo;if(o&&r){var c=gn(o).hoistableScripts,p=Ho(r),y=c.get(p);y||(y=o.querySelector(mc(p)),y||(r=x({src:r,async:!0},s),(s=rr.get(p))&&Vp(r,s),y=o.createElement("script"),_t(y),en(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function o3(r,s){Ni.M(r,s);var o=zo;if(o&&r){var c=gn(o).hoistableScripts,p=Ho(r),y=c.get(p);y||(y=o.querySelector(mc(p)),y||(r=x({src:r,async:!0,type:"module"},s),(s=rr.get(p))&&Vp(r,s),y=o.createElement("script"),_t(y),en(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function wv(r,s,o,c){var p=(p=me.current)?b0(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=qo(o.href),o=gn(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qo(o.href);var y=gn(p).hoistableStyles,R=y.get(r);if(R||(p=p.ownerDocument||p,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,R),(y=p.querySelector(pc(r)))&&!y._p&&(R.instance=y,R.state.loading=5),rr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(r,o),y||l3(p,r,o,R.state))),s&&c===null)throw Error(i(528,""));return R}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=gn(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qo(r){return'href="'+Ct(r)+'"'}function pc(r){return'link[rel="stylesheet"]['+r+"]"}function Av(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function l3(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),en(s,"link",o),_t(s),r.head.appendChild(s))}function Ho(r){return'[src="'+Ct(r)+'"]'}function mc(r){return"script[async]"+r}function Tv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(c)return s.instance=c,_t(c),c;var p=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),_t(c),en(c,"style",p),_0(c,o.precedence,r),s.instance=c;case"stylesheet":p=qo(o.href);var y=r.querySelector(pc(p));if(y)return s.state.loading|=4,s.instance=y,_t(y),y;c=Av(o),(p=rr.get(p))&&Lp(c,p),y=(r.ownerDocument||r).createElement("link"),_t(y);var R=y;return R._p=new Promise(function(M,H){R.onload=M,R.onerror=H}),en(y,"link",c),s.state.loading|=4,_0(y,o.precedence,r),s.instance=y;case"script":return y=Ho(o.src),(p=r.querySelector(mc(y)))?(s.instance=p,_t(p),p):(c=o,(p=rr.get(y))&&(c=x({},o),Vp(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),_t(p),en(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,_0(c,o.precedence,r));return s.instance}function _0(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,R=0;R<c.length;R++){var M=c[R];if(M.dataset.precedence===s)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Lp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var E0=null;function Cv(r,s,o){if(E0===null){var c=new Map,p=E0=new Map;p.set(o,c)}else p=E0,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[na]||y[gt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(s)||"";R=r+R;var M=c.get(R);M?M.push(y):c.set(R,[y])}}return c}function Sv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function c3(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Rv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var gc=null;function u3(){}function h3(r,s,o){if(gc===null)throw Error(i(475));var c=gc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=qo(o.href),y=r.querySelector(pc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=w0.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,_t(y);return}y=r.ownerDocument||r,o=Av(o),(p=rr.get(p))&&Lp(o,p),y=y.createElement("link"),_t(y);var R=y;R._p=new Promise(function(M,H){R.onload=M,R.onerror=H}),en(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=w0.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function d3(){if(gc===null)throw Error(i(475));var r=gc;return r.stylesheets&&r.count===0&&Up(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Up(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function w0(){if(this.count--,this.count===0){if(this.stylesheets)Up(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var A0=null;function Up(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,A0=new Map,s.forEach(f3,r),A0=null,w0.call(r))}function f3(r,s){if(!(s.state.loading&4)){var o=A0.get(r);if(o)var c=o.get(null);else{o=new Map,A0.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var R=p[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(o.set(R.dataset.precedence,R),c=R)}c&&o.set(null,c)}p=s.instance,R=p.getAttribute("data-precedence"),y=o.get(R)||c,y===c&&o.set(null,p),o.set(R,p),this.count++,c=w0.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var yc={$$typeof:S,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function p3(r,s,o,c,p,y,R,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Dv(r,s,o,c,p,y,R,M,H,ee,se,ce){return r=new p3(r,s,o,R,M,H,ee,ce),s=1,y===!0&&(s|=24),y=Bn(3,null,null,s),r.current=y,y.stateNode=r,s=Ef(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Cf(y),r}function Iv(r){return r?(r=_o,r):_o}function Nv(r,s,o,c,p,y){p=Iv(p),c.context===null?c.context=p:c.pendingContext=p,c=ns(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=rs(r,c,s),o!==null&&(Vn(o,r,s),Kl(o,r,s))}function kv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function zp(r,s){kv(r,s),(r=r.alternate)&&kv(r,s)}function Pv(r){if(r.tag===13){var s=bo(r,67108864);s!==null&&Vn(s,r,67108864),zp(r,67108864)}}var T0=!0;function m3(r,s,o,c){var p=Y.T;Y.T=null;var y=le.p;try{le.p=2,qp(r,s,o,c)}finally{le.p=y,Y.T=p}}function g3(r,s,o,c){var p=Y.T;Y.T=null;var y=le.p;try{le.p=8,qp(r,s,o,c)}finally{le.p=y,Y.T=p}}function qp(r,s,o,c){if(T0){var p=Hp(c);if(p===null)Ip(r,s,c,C0,o),Bv(r,c);else if(x3(p,r,s,o,c))c.stopPropagation();else if(Bv(r,c),s&4&&-1<y3.indexOf(r)){for(;p!==null;){var y=kr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=En(y.pendingLanes);if(R!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;R;){var H=1<<31-Bt(R);M.entanglements[1]|=H,R&=~H}Gr(y),(nt&6)===0&&(c0=Wt()+500,uc(0))}}break;case 13:M=bo(y,2),M!==null&&Vn(M,y,2),h0(),zp(y,2)}if(y=Hp(c),y===null&&Ip(r,s,c,C0,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ip(r,s,c,null,o)}}function Hp(r){return r=Qn(r),$p(r)}var C0=null;function $p(r){if(C0=null,r=ci(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return C0=r,null}function Ov(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case ai:return 2;case Hn:return 8;case Ot:case an:return 32;case pn:return 268435456;default:return 32}default:return 32}}var Gp=!1,gs=null,ys=null,xs=null,xc=new Map,vc=new Map,vs=[],y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(r,s){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":xc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(s.pointerId)}}function bc(r,s,o,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=kr(s),s!==null&&Pv(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function x3(r,s,o,c,p){switch(s){case"focusin":return gs=bc(gs,r,s,o,c,p),!0;case"dragenter":return ys=bc(ys,r,s,o,c,p),!0;case"mouseover":return xs=bc(xs,r,s,o,c,p),!0;case"pointerover":var y=p.pointerId;return xc.set(y,bc(xc.get(y)||null,r,s,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,vc.set(y,bc(vc.get(y)||null,r,s,o,c,p)),!0}return!1}function Mv(r){var s=ci(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,ta(r.priority,function(){if(o.tag===13){var c=Ln();c=ur(c);var p=bo(o,c);p!==null&&Vn(p,o,c),zp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function S0(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Hp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);fi=c,o.target.dispatchEvent(c),fi=null}else return s=kr(o),s!==null&&Pv(s),r.blockedOn=o,!1;s.shift()}return!0}function Fv(r,s,o){S0(r)&&o.delete(s)}function v3(){Gp=!1,gs!==null&&S0(gs)&&(gs=null),ys!==null&&S0(ys)&&(ys=null),xs!==null&&S0(xs)&&(xs=null),xc.forEach(Fv),vc.forEach(Fv)}function R0(r,s){r.blockedOn===s&&(r.blockedOn=null,Gp||(Gp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,v3)))}var D0=null;function jv(r){D0!==r&&(D0=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){D0===r&&(D0=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if($p(c||o)===null)continue;break}var y=kr(o);y!==null&&(r.splice(s,3),s-=3,$f(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function _c(r){function s(H){return R0(H,r)}gs!==null&&R0(gs,r),ys!==null&&R0(ys,r),xs!==null&&R0(xs,r),xc.forEach(s),vc.forEach(s);for(var o=0;o<vs.length;o++){var c=vs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)Mv(o),o.blockedOn===null&&vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],R=p[He]||null;if(typeof y=="function")R||jv(o);else if(R){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,R=y[He]||null)M=R.formAction;else if($p(p)!==null)continue}else M=R.action;typeof M=="function"?o[c+1]=M:(o.splice(c,3),c-=3),jv(o)}}}function Kp(r){this._internalRoot=r}I0.prototype.render=Kp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Ln();Nv(o,c,r,s,null,null)},I0.prototype.unmount=Kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Nv(r.current,2,null,r,null,null),h0(),s[bt]=null}};function I0(r){this._internalRoot=r}I0.prototype.unstable_scheduleHydration=function(r){if(r){var s=Nr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<vs.length&&s!==0&&s<vs[o].priority;o++);vs.splice(o,0,r),o===0&&Mv(r)}};var Lv=e.version;if(Lv!=="19.1.1")throw Error(i(527,Lv,"19.1.1"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var b3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{tt=N0.inject(b3),Ue=N0}catch{}}return wc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",p=tx,y=nx,R=rx,M=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks)),s=Dv(r,1,!1,null,null,o,c,p,y,R,M,null),r[bt]=s.current,Dp(r),new Kp(s)},wc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,p="",y=tx,R=nx,M=rx,H=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(R=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),s=Dv(r,1,!0,s,o??null,c,p,y,R,M,H,ee),s.context=Iv(null),o=s.current,c=Ln(),c=ur(c),p=ns(c),p.callback=null,rs(o,p,c),o=c,s.current.lanes=o,$n(s,o),Gr(s),r[bt]=s.current,Dp(r),new I0(s)},wc.version="19.1.1",wc}var Wv;function N3(){if(Wv)return Xp.exports;Wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=I3(),Xp.exports}var k3=N3();const Lc={_origin:"https://api.emailjs.com"},P3=(n,e="https://api.emailjs.com")=>{Lc._userID=n,Lc._origin=e},Q_=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Yv{constructor(e){this.status=e.status,this.text=e.responseText}}const W_=(n,e,t={})=>new Promise((i,a)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:u})=>{const d=new Yv(u);d.status===200||d.text==="OK"?i(d):a(d)}),l.addEventListener("error",({target:u})=>{a(new Yv(u))}),l.open("POST",Lc._origin+n,!0),Object.keys(t).forEach(u=>{l.setRequestHeader(u,t[u])}),l.send(e)}),O3=(n,e,t,i)=>{const a=i||Lc._userID;return Q_(a,n,e),W_("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},B3=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},M3=(n,e,t,i)=>{const a=i||Lc._userID,l=B3(t);Q_(a,n,e);const u=new FormData(l);return u.append("lib_version","3.2.0"),u.append("service_id",n),u.append("template_id",e),u.append("user_id",a),W_("/api/v1.0/email/send-form",u)},_m={init:P3,send:O3,sendForm:M3};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xv="popstate";function F3(n={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Em("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Vc(a)}return L3(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j3(){return Math.random().toString(36).substring(2,10)}function Zv(n,e){return{usr:n.state,key:n.key,idx:e}}function Em(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?cl(e):e,state:t,key:e&&e.key||i||j3()}}function Vc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function cl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function L3(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,f=x();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function x(){return(u.state||{idx:null}).idx}function _(){d="POP";let k=x(),L=k==null?null:k-f;f=k,m&&m({action:d,location:B.location,delta:L})}function b(k,L){d="PUSH";let w=Em(B.location,k,L);f=x()+1;let S=Zv(w,f),V=B.createHref(w);try{u.pushState(S,"",V)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(V)}l&&m&&m({action:d,location:B.location,delta:1})}function D(k,L){d="REPLACE";let w=Em(B.location,k,L);f=x();let S=Zv(w,f),V=B.createHref(w);u.replaceState(S,"",V),l&&m&&m({action:d,location:B.location,delta:0})}function N(k){return V3(k)}let B={get action(){return d},get location(){return n(a,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Xv,_),m=k,()=>{a.removeEventListener(Xv,_),m=null}},createHref(k){return e(a,k)},createURL:N,encodeLocation(k){let L=N(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:D,go(k){return u.go(k)}};return B}function V3(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Vc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Y_(n,e,t="/"){return U3(n,e,t,!1)}function U3(n,e,t,i){let a=typeof e=="string"?cl(e):e,l=Fi(a.pathname||"/",t);if(l==null)return null;let u=X_(n);z3(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let f=J3(l);d=X3(u[m],f,i)}return d}function X_(n,e=[],t=[],i=""){let a=(l,u,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let f=Bi([i,m.relativePath]),x=t.concat(m);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),X_(l.children,e,x,f)),!(l.path==null&&!l.index)&&e.push({path:f,score:W3(f,l.index),routesMeta:x})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of Z_(l.path))a(l,u,d)}),e}function Z_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=Z_(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function z3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Y3(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var q3=/^:[\w-]+$/,H3=3,$3=2,G3=1,K3=10,Q3=-2,Jv=n=>n==="*";function W3(n,e){let t=n.split("/"),i=t.length;return t.some(Jv)&&(i+=Q3),e&&(i+=$3),t.filter(a=>!Jv(a)).reduce((a,l)=>a+(q3.test(l)?H3:l===""?G3:K3),i)}function Y3(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function X3(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],f=d===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",_=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},x),b=m.route;if(!_&&f&&t&&!i[i.length-1].route.index&&(_=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Bi([l,_.pathname]),pathnameBase:r6(Bi([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Bi([l,_.pathnameBase]))}return u}function Lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Z3(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((f,{paramName:x,isOptional:_},b)=>{if(x==="*"){let N=d[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const D=d[b];return _&&!D?f[x]=void 0:f[x]=(D||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:n}}function Z3(n,e=!1,t=!0){vr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function J3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function e6(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?cl(n):n;return{pathname:t?t.startsWith("/")?t:t6(t,e):e,search:i6(i),hash:s6(a)}}function t6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function tm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dg(n){let e=n6(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function fg(n,e,t,i=!1){let a;typeof n=="string"?a=cl(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),tm("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),tm("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),tm("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?e[_]:"/"}let m=e6(a,d),f=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(f||x)&&(m.pathname+="/"),m}var Bi=n=>n.join("/").replace(/\/\/+/g,"/"),r6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),i6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,s6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function a6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var o6=["GET",...J_];new Set(o6);var ul=$.createContext(null);ul.displayName="DataRouter";var pd=$.createContext(null);pd.displayName="DataRouterState";$.createContext(!1);var eE=$.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var l6=$.createContext(new Map);l6.displayName="Fetchers";var c6=$.createContext(null);c6.displayName="Await";var wr=$.createContext(null);wr.displayName="Navigation";var Zc=$.createContext(null);Zc.displayName="Location";var Ar=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var pg=$.createContext(null);pg.displayName="RouteError";function u6(n,{relative:e}={}){ft(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(wr),{hash:a,pathname:l,search:u}=Jc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Bi([t,l])),i.createHref({pathname:d,search:u,hash:a})}function hl(){return $.useContext(Zc)!=null}function Tr(){return ft(hl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Zc).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(n){$.useContext(wr).static||$.useLayoutEffect(n)}function dl(){let{isDataRoute:n}=$.useContext(Ar);return n?A6():h6()}function h6(){ft(hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(ul),{basename:e,navigator:t}=$.useContext(wr),{matches:i}=$.useContext(Ar),{pathname:a}=Tr(),l=JSON.stringify(dg(i)),u=$.useRef(!1);return nE(()=>{u.current=!0}),$.useCallback((m,f={})=>{if(vr(u.current,tE),!u.current)return;if(typeof m=="number"){t.go(m);return}let x=fg(m,JSON.parse(l),a,f.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Bi([e,x.pathname])),(f.replace?t.replace:t.push)(x,f.state,f)},[e,t,l,a,n])}$.createContext(null);function d6(){let{matches:n}=$.useContext(Ar),e=n[n.length-1];return e?e.params:{}}function Jc(n,{relative:e}={}){let{matches:t}=$.useContext(Ar),{pathname:i}=Tr(),a=JSON.stringify(dg(t));return $.useMemo(()=>fg(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function f6(n,e){return rE(n,e)}function rE(n,e,t,i){ft(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(wr),{matches:l}=$.useContext(Ar),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",f=u?u.pathnameBase:"/",x=u&&u.route;{let L=x&&x.path||"";iE(m,!x||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Tr(),b;if(e){let L=typeof e=="string"?cl(e):e;ft(f==="/"||L.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=_;let D=b.pathname||"/",N=D;if(f!=="/"){let L=f.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(L.length).join("/")}let B=Y_(n,{pathname:N});vr(x||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),vr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=x6(B&&B.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Bi([f,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:Bi([f,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,i);return e&&k?$.createElement(Zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function p6(){let n=w6(),e=a6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:a},t):null,u)}var m6=$.createElement(p6,null),g6=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Ar.Provider,{value:this.props.routeContext},$.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y6({routeContext:n,match:e,children:t}){let i=$.useContext(ul);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ar.Provider,{value:n},t)}function x6(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let m=a.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let f=a[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:x,errors:_}=t,b=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,f,x)=>{let _,b=!1,D=null,N=null;t&&(_=l&&f.route.id?l[f.route.id]:void 0,D=f.route.errorElement||m6,u&&(d<0&&x===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):d===x&&(b=!0,N=f.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,x+1)),k=()=>{let L;return _?L=D:b?L=N:f.route.Component?L=$.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=m,$.createElement(y6,{match:f,routeContext:{outlet:m,matches:B,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?$.createElement(g6,{location:t.location,revalidation:t.revalidation,component:D,error:_,children:k(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):k()},null)}function mg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v6(n){let e=$.useContext(ul);return ft(e,mg(n)),e}function b6(n){let e=$.useContext(pd);return ft(e,mg(n)),e}function _6(n){let e=$.useContext(Ar);return ft(e,mg(n)),e}function gg(n){let e=_6(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function E6(){return gg("useRouteId")}function w6(){let n=$.useContext(pg),e=b6("useRouteError"),t=gg("useRouteError");return n!==void 0?n:e.errors?.[t]}function A6(){let{router:n}=v6("useNavigate"),e=gg("useNavigate"),t=$.useRef(!1);return nE(()=>{t.current=!0}),$.useCallback(async(a,l={})=>{vr(t.current,tE),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var e2={};function iE(n,e,t){!e&&!e2[n]&&(e2[n]=!0,vr(!1,t))}$.memo(T6);function T6({routes:n,future:e,state:t}){return rE(n,void 0,t,e)}function yg({to:n,replace:e,state:t,relative:i}){ft(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=$.useContext(wr);vr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(Ar),{pathname:u}=Tr(),d=dl(),m=fg(n,dg(l),u,i==="path"),f=JSON.stringify(m);return $.useEffect(()=>{d(JSON.parse(f),{replace:e,state:t,relative:i})},[d,f,i,e,t]),null}function bn(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C6({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ft(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=cl(t));let{pathname:m="/",search:f="",hash:x="",state:_=null,key:b="default"}=t,D=$.useMemo(()=>{let N=Fi(m,u);return N==null?null:{location:{pathname:N,search:f,hash:x,state:_,key:b},navigationType:i}},[u,m,f,x,_,b,i]);return vr(D!=null,`<Router basename="${u}"> is not able to match the URL "${m}${f}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:$.createElement(wr.Provider,{value:d},$.createElement(Zc.Provider,{children:e,value:D}))}function sE({children:n,location:e}){return f6(wm(n),e)}function wm(n,e=[]){let t=[];return $.Children.forEach(n,(i,a)=>{if(!$.isValidElement(i))return;let l=[...e,a];if(i.type===$.Fragment){t.push.apply(t,wm(i.props.children,l));return}ft(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=wm(i.props.children,l)),t.push(u)}),t}var q0="get",H0="application/x-www-form-urlencoded";function md(n){return n!=null&&typeof n.tagName=="string"}function S6(n){return md(n)&&n.tagName.toLowerCase()==="button"}function R6(n){return md(n)&&n.tagName.toLowerCase()==="form"}function D6(n){return md(n)&&n.tagName.toLowerCase()==="input"}function I6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function N6(n,e){return n.button===0&&(!e||e==="_self")&&!I6(n)}var k0=null;function k6(){if(k0===null)try{new FormData(document.createElement("form"),0),k0=!1}catch{k0=!0}return k0}var P6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(n){return n!=null&&!P6.has(n)?(vr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${H0}"`),null):n}function O6(n,e){let t,i,a,l,u;if(R6(n)){let d=n.getAttribute("action");i=d?Fi(d,e):null,t=n.getAttribute("method")||q0,a=nm(n.getAttribute("enctype"))||H0,l=new FormData(n)}else if(S6(n)||D6(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?Fi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||q0,a=nm(n.getAttribute("formenctype"))||nm(d.getAttribute("enctype"))||H0,l=new FormData(d,n),!k6()){let{name:f,type:x,value:_}=n;if(x==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,_)}}else{if(md(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=q0,i=null,a=H0,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function B6(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Fi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function M6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function j6(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await M6(l,t);return u.links?u.links():[]}return[]}));return z6(i.flat(1).filter(F6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function t2(n,e,t,i,a,l){let u=(m,f)=>t[f]?m.route.id!==t[f].route.id:!0,d=(m,f)=>t[f].pathname!==m.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,f)=>u(m,f)||d(m,f)):l==="data"?e.filter((m,f)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(u(m,f)||d(m,f))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function L6(n,e,{includeHydrateFallback:t}={}){return V6(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function V6(n){return[...new Set(n)]}function U6(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function z6(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(U6(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function aE(){let n=$.useContext(ul);return xg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function q6(){let n=$.useContext(pd);return xg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vg=$.createContext(void 0);vg.displayName="FrameworkContext";function oE(){let n=$.useContext(vg);return xg(n,"You must render this element inside a <HydratedRouter> element"),n}function H6(n,e){let t=$.useContext(vg),[i,a]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:f,onMouseLeave:x,onTouchStart:_}=e,b=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let B=L=>{L.forEach(w=>{u(w.isIntersecting)})},k=new IntersectionObserver(B,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),$.useEffect(()=>{if(i){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[i]);let D=()=>{a(!0)},N=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Ac(d,D),onBlur:Ac(m,N),onMouseEnter:Ac(f,D),onMouseLeave:Ac(x,N),onTouchStart:Ac(_,D)}]:[!1,b,{}]}function Ac(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $6({page:n,...e}){let{router:t}=aE(),i=$.useMemo(()=>Y_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(K6,{page:n,matches:i,...e}):null}function G6(n){let{manifest:e,routeModules:t}=oE(),[i,a]=$.useState([]);return $.useEffect(()=>{let l=!1;return j6(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function K6({page:n,matches:e,...t}){let i=Tr(),{manifest:a,routeModules:l}=oE(),{basename:u}=aE(),{loaderData:d,matches:m}=q6(),f=$.useMemo(()=>t2(n,e,m,a,i,"data"),[n,e,m,a,i]),x=$.useMemo(()=>t2(n,e,m,a,i,"assets"),[n,e,m,a,i]),_=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,B=!1;if(e.forEach(L=>{let w=a.routes[L.route.id];!w||!w.hasLoader||(!f.some(S=>S.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||w.hasClientLoader?B=!0:N.add(L.route.id))}),N.size===0)return[];let k=B6(n,u,"data");return B&&N.size>0&&k.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[u,d,i,a,f,e,n,l]),b=$.useMemo(()=>L6(x,a),[x,a]),D=G6(x);return $.createElement($.Fragment,null,_.map(N=>$.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>$.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),D.map(({key:N,link:B})=>$.createElement("link",{key:N,nonce:t.nonce,...B})))}function Q6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lE&&(window.__reactRouterVersion="7.8.0")}catch{}function W6({basename:n,children:e,window:t}){let i=$.useRef();i.current==null&&(i.current=F3({window:t,v5Compat:!0}));let a=i.current,[l,u]=$.useState({action:a.action,location:a.location}),d=$.useCallback(m=>{$.startTransition(()=>u(m))},[u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement(C6,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:f,preventScrollReset:x,viewTransition:_,...b},D){let{basename:N}=$.useContext(wr),B=typeof f=="string"&&cE.test(f),k,L=!1;if(typeof f=="string"&&B&&(k=f,lE))try{let E=new URL(window.location.href),A=f.startsWith("//")?new URL(E.protocol+f):new URL(f),P=Fi(A.pathname,N);A.origin===E.origin&&P!=null?f=P+A.search+A.hash:L=!0}catch{vr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=u6(f,{relative:a}),[S,V,z]=H6(i,b),U=J6(f,{replace:u,state:d,target:m,preventScrollReset:x,relative:a,viewTransition:_});function I(E){e&&e(E),E.defaultPrevented||U(E)}let T=$.createElement("a",{...b,...z,href:k||w,onClick:L||l?e:I,ref:Q6(D,V),target:m,"data-discover":!B&&t==="render"?"true":void 0});return S&&!B?$.createElement($.Fragment,null,T,$.createElement($6,{page:w})):T});qn.displayName="Link";var Y6=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...f},x){let _=Jc(u,{relative:f.relative}),b=Tr(),D=$.useContext(pd),{navigator:N,basename:B}=$.useContext(wr),k=D!=null&&iT(_)&&d===!0,L=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,w=b.pathname,S=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(w=w.toLowerCase(),S=S?S.toLowerCase():null,L=L.toLowerCase()),S&&B&&(S=Fi(S,B)||S);const V=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let z=w===L||!a&&w.startsWith(L)&&w.charAt(V)==="/",U=S!=null&&(S===L||!a&&S.startsWith(L)&&S.charAt(L.length)==="/"),I={isActive:z,isPending:U,isTransitioning:k},T=z?e:void 0,E;typeof i=="function"?E=i(I):E=[i,z?"active":null,U?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(I):l;return $.createElement(qn,{...f,"aria-current":T,className:E,ref:x,style:A,to:u,viewTransition:d},typeof m=="function"?m(I):m)});Y6.displayName="NavLink";var X6=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=q0,action:d,onSubmit:m,relative:f,preventScrollReset:x,viewTransition:_,...b},D)=>{let N=nT(),B=rT(d,{relative:f}),k=u.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&cE.test(d),w=S=>{if(m&&m(S),S.defaultPrevented)return;S.preventDefault();let V=S.nativeEvent.submitter,z=V?.getAttribute("formmethod")||u;N(V||S.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:a,state:l,relative:f,preventScrollReset:x,viewTransition:_})};return $.createElement("form",{ref:D,method:k,action:B,onSubmit:i?m:w,...b,"data-discover":!L&&n==="render"?"true":void 0})});X6.displayName="Form";function Z6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(n){let e=$.useContext(ul);return ft(e,Z6(n)),e}function J6(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=dl(),m=Tr(),f=Jc(n,{relative:l});return $.useCallback(x=>{if(N6(x,e)){x.preventDefault();let _=t!==void 0?t:Vc(m)===Vc(f);d(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,d,f,t,i,e,n,a,l,u])}var eT=0,tT=()=>`__${String(++eT)}__`;function nT(){let{router:n}=uE("useSubmit"),{basename:e}=$.useContext(wr),t=E6();return $.useCallback(async(i,a={})=>{let{action:l,method:u,encType:d,formData:m,body:f}=O6(i,e);if(a.navigate===!1){let x=a.fetcherKey||tT();await n.fetch(x,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:f,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:f,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function rT(n,{relative:e}={}){let{basename:t}=$.useContext(wr),i=$.useContext(Ar);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Jc(n||".",{relative:e})},u=Tr();if(n==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(x=>x==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let x=d.toString();l.search=x?`?${x}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Bi([t,l.pathname])),Vc(l)}function iT(n,{relative:e}={}){let t=$.useContext(eE);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uE("useViewTransitionState"),a=Jc(n,{relative:e});if(!t.isTransitioning)return!1;let l=Fi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Fi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Lh(a.pathname,u)!=null||Lh(a.pathname,l)!=null}var fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ja=typeof window>"u"||"Deno"in globalThis;function _n(){}function sT(n,e){return typeof n=="function"?n(e):n}function Am(n){return typeof n=="number"&&n>=0&&n!==1/0}function hE(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ds(n,e){return typeof n=="function"?n(e):n}function ir(n,e){return typeof n=="function"?n(e):n}function n2(n,e){const{type:t="all",exact:i,fetchStatus:a,predicate:l,queryKey:u,stale:d}=n;if(u){if(i){if(e.queryHash!==bg(u,e.options))return!1}else if(!Uc(e.queryKey,u))return!1}if(t!=="all"){const m=e.isActive();if(t==="active"&&!m||t==="inactive"&&m)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||l&&!l(e))}function r2(n,e){const{exact:t,status:i,predicate:a,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(La(e.options.mutationKey)!==La(l))return!1}else if(!Uc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function bg(n,e){return(e?.queryKeyHashFn||La)(n)}function La(n){return JSON.stringify(n,(e,t)=>Tm(t)?Object.keys(t).sort().reduce((i,a)=>(i[a]=t[a],i),{}):t)}function Uc(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Uc(n[t],e[t])):!1}function dE(n,e){if(n===e)return n;const t=i2(n)&&i2(e);if(t||Tm(n)&&Tm(e)){const i=t?n:Object.keys(n),a=i.length,l=t?e:Object.keys(e),u=l.length,d=t?[]:{},m=new Set(i);let f=0;for(let x=0;x<u;x++){const _=t?x:l[x];(!t&&m.has(_)||t)&&n[_]===void 0&&e[_]===void 0?(d[_]=void 0,f++):(d[_]=dE(n[_],e[_]),d[_]===n[_]&&n[_]!==void 0&&f++)}return a===u&&f===a?n:d}return e}function Vh(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function i2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Tm(n){if(!s2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!s2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function s2(n){return Object.prototype.toString.call(n)==="[object Object]"}function aT(n){return new Promise(e=>{setTimeout(e,n)})}function Cm(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?dE(n,e):e}function oT(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function lT(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var _g=Symbol();function fE(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===_g?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function pE(n,e){return typeof n=="function"?n(...e):!!n}var cT=class extends fl{#t;#e;#n;constructor(){super(),this.#n=n=>{if(!ja&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Eg=new cT,uT=class extends fl{#t=!0;#e;#n;constructor(){super(),this.#n=n=>{if(!ja&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#t}},Uh=new uT;function Sm(){let n,e;const t=new Promise((a,l)=>{n=a,e=l});t.status="pending",t.catch(()=>{});function i(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{i({status:"fulfilled",value:a}),n(a)},t.reject=a=>{i({status:"rejected",reason:a}),e(a)},t}function hT(n){return Math.min(1e3*2**n,3e4)}function mE(n){return(n??"online")==="online"?Uh.isOnline():!0}var gE=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function rm(n){return n instanceof gE}function yE(n){let e=!1,t=0,i=!1,a;const l=Sm(),u=B=>{i||(b(new gE(B)),n.abort?.())},d=()=>{e=!0},m=()=>{e=!1},f=()=>Eg.isFocused()&&(n.networkMode==="always"||Uh.isOnline())&&n.canRun(),x=()=>mE(n.networkMode)&&n.canRun(),_=B=>{i||(i=!0,n.onSuccess?.(B),a?.(),l.resolve(B))},b=B=>{i||(i=!0,n.onError?.(B),a?.(),l.reject(B))},D=()=>new Promise(B=>{a=k=>{(i||f())&&B(k)},n.onPause?.()}).then(()=>{a=void 0,i||n.onContinue?.()}),N=()=>{if(i)return;let B;const k=t===0?n.initialPromise:void 0;try{B=k??n.fn()}catch(L){B=Promise.reject(L)}Promise.resolve(B).then(_).catch(L=>{if(i)return;const w=n.retry??(ja?0:3),S=n.retryDelay??hT,V=typeof S=="function"?S(t,L):S,z=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,L);if(e||!z){b(L);return}t++,n.onFail?.(t,L),aT(V).then(()=>f()?void 0:D()).then(()=>{e?b(L):N()})})};return{promise:l,cancel:u,continue:()=>(a?.(),l),cancelRetry:d,continueRetry:m,canStart:x,start:()=>(x()?N():D().then(N),l)}}var dT=n=>setTimeout(n,0);function fT(){let n=[],e=0,t=d=>{d()},i=d=>{d()},a=dT;const l=d=>{e?n.push(d):a(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&a(()=>{i(()=>{d.forEach(m=>{t(m)})})})};return{batch:d=>{let m;e++;try{m=d()}finally{e--,e||u()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var Vt=fT(),xE=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Am(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ja?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},pT=class extends xE{#t;#e;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=mT(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const i=Cm(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ir(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_g||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ds(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},l=()=>{const f=fE(this.options,t),_=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(f,_,this):f(_)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return a(f),f})();this.options.behavior?.onFetch(d,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta});const m=f=>{rm(f)&&f.silent||this.#s({type:"error",error:f}),rm(f)||(this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#i=yE({initialPromise:t?.initialPromise,fn:d.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{if(f===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){m(x);return}this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:m,onFail:(f,x)=>{this.#s({type:"failed",failureCount:f,error:x})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...vE(i.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return rm(a)&&a.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),Vt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function vE(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mE(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function mT(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var gT=class extends fl{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,e,t){const i=e.queryKey,a=e.queryHash??bg(i,e);let l=this.get(a);return l||(l=new pT({client:n,queryKey:i,queryHash:a,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(i)}),this.add(l)),l}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#t.get(n.queryHash);e&&(n.destroy(),e===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Vt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>n2(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>n2(n,t)):e}notify(n){Vt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},yT=class extends xE{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||bE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=yE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const i=this.state.status==="pending",a=!this.#n.canStart();try{if(i)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#e.config.onMutate?.(e,this);const u=await this.options.onMutate?.(e);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const l=await this.#n.start();return await this.#e.config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await this.#e.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#e.config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await this.#e.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{this.#r({type:"error",error:l})}}finally{this.#e.runNext(this)}}#r(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Vt.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function bE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xT=class extends fl{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(n,e,t){const i=new yT({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(i),i}add(n){this.#t.add(n);const e=P0(n);if(typeof e=="string"){const t=this.#e.get(e);t?t.push(n):this.#e.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const e=P0(n);if(typeof e=="string"){const t=this.#e.get(e);if(t)if(t.length>1){const i=t.indexOf(n);i!==-1&&t.splice(i,1)}else t[0]===n&&this.#e.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=P0(n);if(typeof e=="string"){const i=this.#e.get(e)?.find(a=>a.state.status==="pending");return!i||i===n}else return!0}runNext(n){const e=P0(n);return typeof e=="string"?this.#e.get(e)?.find(i=>i!==n&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Vt.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>r2(e,t))}findAll(n={}){return this.getAll().filter(e=>r2(n,e))}notify(n){Vt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Vt.batch(()=>Promise.all(n.map(e=>e.continue().catch(_n))))}};function P0(n){return n.options.scope?.id}function a2(n){return{onFetch:(e,t)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},m=0;const f=async()=>{let x=!1;const _=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},b=fE(e.options,e.fetchOptions),D=async(N,B,k)=>{if(x)return Promise.reject();if(B==null&&N.pages.length)return Promise.resolve(N);const w=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:B,direction:k?"backward":"forward",meta:e.options.meta};return _(U),U})(),S=await b(w),{maxPages:V}=e.options,z=k?lT:oT;return{pages:z(N.pages,S,V),pageParams:z(N.pageParams,B,V)}};if(a&&l.length){const N=a==="backward",B=N?vT:o2,k={pages:l,pageParams:u},L=B(i,k);d=await D(k,L,N)}else{const N=n??l.length;do{const B=m===0?u[0]??i.initialPageParam:o2(i,d);if(m>0&&B==null)break;d=await D(d,B),m++}while(m<N)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=f}}}function o2(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function vT(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var bT=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(n={}){this.#t=n.queryCache||new gT,this.#e=n.mutationCache||new xT,this.#n=n.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Eg.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Uh.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#t.build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ds(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),l=this.#t.get(i.queryHash)?.state.data,u=sT(e,l);if(u!==void 0)return this.#t.build(this,i).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Vt.batch(()=>this.#t.findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state}removeQueries(n){const e=this.#t;Vt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#t;return Vt.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=Vt.batch(()=>this.#t.findAll(n).map(a=>a.cancel(t)));return Promise.all(i).then(_n).catch(_n)}invalidateQueries(n,e={}){return Vt.batch(()=>(this.#t.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=Vt.batch(()=>this.#t.findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,t);return t.throwOnError||(l=l.catch(_n)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(_n)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#t.build(this,e);return t.isStaleByTime(Ds(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(_n).catch(_n)}fetchInfiniteQuery(n){return n.behavior=a2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(_n).catch(_n)}ensureInfiniteQueryData(n){return n.behavior=a2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Uh.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(La(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(i=>{Uc(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){this.#i.set(La(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(i=>{Uc(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=bg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_g&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},_T=class extends fl{constructor(n,e){super(),this.options=e,this.#t=n,this.#s=null,this.#o=Sm(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#d;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),l2(this.#e,this.options)?this.#h():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rm(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rm(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#e.removeObserver(this)}setOptions(n){const e=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ir(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#e.setOptions(this.options),e._defaulted&&!Vh(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&c2(this.#e,t,this.options,e)&&this.#h(),this.updateResult(),i&&(this.#e!==t||ir(this.options.enabled,this.#e)!==ir(e.enabled,this.#e)||Ds(this.options.staleTime,this.#e)!==Ds(e.staleTime,this.#e))&&this.#g();const a=this.#y();i&&(this.#e!==t||ir(this.options.enabled,this.#e)!==ir(e.enabled,this.#e)||a!==this.#l)&&this.#x(a)}getOptimisticResult(n){const e=this.#t.getQueryCache().build(this.#t,n),t=this.createResult(e,n);return wT(this,t)&&(this.#r=t,this.#a=this.options,this.#i=this.#e.state),t}getCurrentResult(){return this.#r}trackResult(n,e){return new Proxy(n,{get:(t,i)=>(this.trackProp(i),e?.(i),Reflect.get(t,i))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#t.defaultQueryOptions(n),t=this.#t.getQueryCache().build(this.#t,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#h({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(n){this.#E();let e=this.#e.fetch(this.options,n);return n?.throwOnError||(e=e.catch(_n)),e}#g(){this.#b();const n=Ds(this.options.staleTime,this.#e);if(ja||this.#r.isStale||!Am(n))return;const t=hE(this.#r.dataUpdatedAt,n)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(n){this.#_(),this.#l=n,!(ja||ir(this.options.enabled,this.#e)===!1||!Am(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Eg.isFocused())&&this.#h()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(n,e){const t=this.#e,i=this.options,a=this.#r,l=this.#i,u=this.#a,m=n!==t?n.state:this.#n,{state:f}=n;let x={...f},_=!1,b;if(e._optimisticResults){const T=this.hasListeners(),E=!T&&l2(n,e),A=T&&c2(n,t,e,i);(E||A)&&(x={...x,...vE(f.data,n.options)}),e._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:D,errorUpdatedAt:N,status:B}=x;b=x.data;let k=!1;if(e.placeholderData!==void 0&&b===void 0&&B==="pending"){let T;a?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(T=a.data,k=!0):T=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,T!==void 0&&(B="success",b=Cm(a?.data,T,e),_=!0)}if(e.select&&b!==void 0&&!k)if(a&&b===l?.data&&e.select===this.#m)b=this.#d;else try{this.#m=e.select,b=e.select(b),b=Cm(a?.data,b,e),this.#d=b,this.#s=null}catch(T){this.#s=T}this.#s&&(D=this.#s,b=this.#d,N=Date.now(),B="error");const L=x.fetchStatus==="fetching",w=B==="pending",S=B==="error",V=w&&L,z=b!==void 0,I={status:B,fetchStatus:x.fetchStatus,isPending:w,isSuccess:B==="success",isError:S,isInitialLoading:V,isLoading:V,data:b,dataUpdatedAt:x.dataUpdatedAt,error:D,errorUpdatedAt:N,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:L,isRefetching:L&&!w,isLoadingError:S&&!z,isPaused:x.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:S&&z,isStale:wg(n,e),refetch:this.refetch,promise:this.#o,isEnabled:ir(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const T=P=>{I.status==="error"?P.reject(I.error):I.data!==void 0&&P.resolve(I.data)},E=()=>{const P=this.#o=I.promise=Sm();T(P)},A=this.#o;switch(A.status){case"pending":n.queryHash===t.queryHash&&T(A);break;case"fulfilled":(I.status==="error"||I.data!==A.value)&&E();break;case"rejected":(I.status!=="error"||I.error!==A.reason)&&E();break}}return I}updateResult(){const n=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#e),Vh(e,n))return;this.#r=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const l=new Set(a??this.#p);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(u=>{const d=u;return this.#r[d]!==n[d]&&l.has(d)})};this.#w({listeners:t()})}#E(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const e=this.#e;this.#e=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(n){Vt.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function ET(n,e){return ir(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function l2(n,e){return ET(n,e)||n.state.data!==void 0&&Rm(n,e,e.refetchOnMount)}function Rm(n,e,t){if(ir(e.enabled,n)!==!1&&Ds(e.staleTime,n)!=="static"){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&wg(n,e)}return!1}function c2(n,e,t,i){return(n!==e||ir(i.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&wg(n,t)}function wg(n,e){return ir(e.enabled,n)!==!1&&n.isStaleByTime(Ds(e.staleTime,n))}function wT(n,e){return!Vh(n.getCurrentResult(),e)}var AT=class extends fl{#t;#e=void 0;#n;#r;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#t.defaultMutationOptions(e),Vh(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&La(t.mutationKey)!==La(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??bE();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Vt.batch(()=>{if(this.#r&&this.hasListeners()){const t=this.#e.variables,i=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,i),this.#r.onSettled?.(e.data,null,t,i)):e?.type==="error"&&(this.#r.onError?.(e.error,t,i),this.#r.onSettled?.(void 0,e.error,t,i))}this.listeners.forEach(t=>{t(this.#e)})})}},_E=$.createContext(void 0),$a=n=>{const e=$.useContext(_E);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},TT=({client:n,children:e})=>($.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(_E.Provider,{value:n,children:e})),EE=$.createContext(!1),CT=()=>$.useContext(EE);EE.Provider;function ST(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var RT=$.createContext(ST()),DT=()=>$.useContext(RT),IT=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},NT=n=>{$.useEffect(()=>{n.clearReset()},[n])},kT=({result:n,errorResetBoundary:e,throwOnError:t,query:i,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&(a&&n.data===void 0||pE(t,[n.error,i])),PT=n=>{if(n.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...i)=>e(t(...i)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},OT=(n,e)=>n.isLoading&&n.isFetching&&!e,BT=(n,e)=>n?.suspense&&e.isPending,u2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function MT(n,e,t){const i=CT(),a=DT(),l=$a(),u=l.defaultQueryOptions(n);l.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",PT(u),IT(u,a),NT(a);const d=!l.getQueryCache().get(u.queryHash),[m]=$.useState(()=>new e(l,u)),f=m.getOptimisticResult(u),x=!i&&n.subscribed!==!1;if($.useSyncExternalStore($.useCallback(_=>{const b=x?m.subscribe(Vt.batchCalls(_)):_n;return m.updateResult(),b},[m,x]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),$.useEffect(()=>{m.setOptions(u)},[u,m]),BT(u,f))throw u2(u,m,a);if(kT({result:f,errorResetBoundary:a,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw f.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(u,f),u.experimental_prefetchInRender&&!ja&&OT(f,i)&&(d?u2(u,m,a):l.getQueryCache().get(u.queryHash)?.promise)?.catch(_n).finally(()=>{m.updateResult()}),u.notifyOnChangeProps?f:m.trackResult(f)}function Ag(n,e){return MT(n,_T)}function gd(n,e){const t=$a(),[i]=$.useState(()=>new AT(t,n));$.useEffect(()=>{i.setOptions(n)},[i,n]);const a=$.useSyncExternalStore($.useCallback(u=>i.subscribe(Vt.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=$.useCallback((u,d)=>{i.mutate(u,d).catch(_n)},[i]);if(a.error&&pE(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}let FT={data:""},jT=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||FT,LT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,VT=/\/\*[^]*?\*\/|  +/g,h2=/\n+/g,Es=(n,e)=>{let t="",i="",a="";for(let l in n){let u=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+u+";":i+=l[1]=="f"?Es(u,l):l+"{"+Es(u,l[1]=="k"?"":e)+"}":typeof u=="object"?i+=Es(u,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Es.p?Es.p(l,u):l+":"+u+";")}return t+(e&&a?e+"{"+a+"}":a)+i},ki={},wE=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+wE(n[t]);return e}return n},UT=(n,e,t,i,a)=>{let l=wE(n),u=ki[l]||(ki[l]=(m=>{let f=0,x=11;for(;f<m.length;)x=101*x+m.charCodeAt(f++)>>>0;return"go"+x})(l));if(!ki[u]){let m=l!==n?n:(f=>{let x,_,b=[{}];for(;x=LT.exec(f.replace(VT,""));)x[4]?b.shift():x[3]?(_=x[3].replace(h2," ").trim(),b.unshift(b[0][_]=b[0][_]||{})):b[0][x[1]]=x[2].replace(h2," ").trim();return b[0]})(n);ki[u]=Es(a?{["@keyframes "+u]:m}:m,t?"":"."+u)}let d=t&&ki.g?ki.g:null;return t&&(ki.g=ki[u]),((m,f,x,_)=>{_?f.data=f.data.replace(_,m):f.data.indexOf(m)===-1&&(f.data=x?m+f.data:f.data+m)})(ki[u],e,i,d),u},zT=(n,e,t)=>n.reduce((i,a,l)=>{let u=e[l];if(u&&u.call){let d=u(t),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=m?"."+m:d&&typeof d=="object"?d.props?"":Es(d,""):d===!1?"":d}return i+a+(u??"")},"");function yd(n){let e=this||{},t=n.call?n(e.p):n;return UT(t.unshift?t.raw?zT(t,[].slice.call(arguments,1),e.p):t.reduce((i,a)=>Object.assign(i,a&&a.call?a(e.p):a),{}):t,jT(e.target),e.g,e.o,e.k)}let AE,Dm,Im;yd.bind({g:1});let ji=yd.bind({k:1});function qT(n,e,t,i){Es.p=e,AE=n,Dm=t,Im=i}function Hs(n,e){let t=this||{};return function(){let i=arguments;function a(l,u){let d=Object.assign({},l),m=d.className||a.className;t.p=Object.assign({theme:Dm&&Dm()},d),t.o=/ *go\d+/.test(m),d.className=yd.apply(t,i)+(m?" "+m:"");let f=n;return n[0]&&(f=d.as||n,delete d.as),Im&&f[0]&&Im(d),AE(f,d)}return a}}var HT=n=>typeof n=="function",zh=(n,e)=>HT(n)?n(e):n,$T=(()=>{let n=0;return()=>(++n).toString()})(),TE=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),GT=20,CE=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,GT)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return CE(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},$0=[],Pa={toasts:[],pausedAt:void 0},Ga=n=>{Pa=CE(Pa,n),$0.forEach(e=>{e(Pa)})},KT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QT=(n={})=>{let[e,t]=$.useState(Pa),i=$.useRef(Pa);$.useEffect(()=>(i.current!==Pa&&t(Pa),$0.push(t),()=>{let l=$0.indexOf(t);l>-1&&$0.splice(l,1)}),[]);let a=e.toasts.map(l=>{var u,d,m;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((u=n[l.type])==null?void 0:u.removeDelay)||n?.removeDelay,duration:l.duration||((d=n[l.type])==null?void 0:d.duration)||n?.duration||KT[l.type],style:{...n.style,...(m=n[l.type])==null?void 0:m.style,...l.style}}});return{...e,toasts:a}},WT=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||$T()}),eu=n=>(e,t)=>{let i=WT(e,n,t);return Ga({type:2,toast:i}),i.id},xe=(n,e)=>eu("blank")(n,e);xe.error=eu("error");xe.success=eu("success");xe.loading=eu("loading");xe.custom=eu("custom");xe.dismiss=n=>{Ga({type:3,toastId:n})};xe.remove=n=>Ga({type:4,toastId:n});xe.promise=(n,e,t)=>{let i=xe.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=e.success?zh(e.success,a):void 0;return l?xe.success(l,{id:i,...t,...t?.success}):xe.dismiss(i),a}).catch(a=>{let l=e.error?zh(e.error,a):void 0;l?xe.error(l,{id:i,...t,...t?.error}):xe.dismiss(i)}),n};var YT=(n,e)=>{Ga({type:1,toast:{id:n,height:e}})},XT=()=>{Ga({type:5,time:Date.now()})},Nc=new Map,ZT=1e3,JT=(n,e=ZT)=>{if(Nc.has(n))return;let t=setTimeout(()=>{Nc.delete(n),Ga({type:4,toastId:n})},e);Nc.set(n,t)},eC=n=>{let{toasts:e,pausedAt:t}=QT(n);$.useEffect(()=>{if(t)return;let l=Date.now(),u=e.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(m<0){d.visible&&xe.dismiss(d.id);return}return setTimeout(()=>xe.dismiss(d.id),m)});return()=>{u.forEach(d=>d&&clearTimeout(d))}},[e,t]);let i=$.useCallback(()=>{t&&Ga({type:6,time:Date.now()})},[t]),a=$.useCallback((l,u)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:f}=u||{},x=e.filter(D=>(D.position||f)===(l.position||f)&&D.height),_=x.findIndex(D=>D.id===l.id),b=x.filter((D,N)=>N<_&&D.visible).length;return x.filter(D=>D.visible).slice(...d?[b+1]:[0,b]).reduce((D,N)=>D+(N.height||0)+m,0)},[e]);return $.useEffect(()=>{e.forEach(l=>{if(l.dismissed)JT(l.id,l.removeDelay);else{let u=Nc.get(l.id);u&&(clearTimeout(u),Nc.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:YT,startPause:XT,endPause:i,calculateOffset:a}}},tC=ji`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nC=ji`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rC=ji`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iC=Hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sC=ji`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aC=Hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${sC} 1s linear infinite;
`,oC=ji`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lC=ji`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cC=Hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uC=Hs("div")`
  position: absolute;
`,hC=Hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dC=ji`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fC=Hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pC=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?$.createElement(fC,null,e):e:t==="blank"?null:$.createElement(hC,null,$.createElement(aC,{...i}),t!=="loading"&&$.createElement(uC,null,t==="error"?$.createElement(iC,{...i}):$.createElement(cC,{...i})))},mC=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gC=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,yC="0%{opacity:0;} 100%{opacity:1;}",xC="0%{opacity:1;} 100%{opacity:0;}",vC=Hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bC=Hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_C=(n,e)=>{let t=n.includes("top")?1:-1,[i,a]=TE()?[yC,xC]:[mC(t),gC(t)];return{animation:e?`${ji(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ji(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},EC=$.memo(({toast:n,position:e,style:t,children:i})=>{let a=n.height?_C(n.position||e||"top-center",n.visible):{opacity:0},l=$.createElement(pC,{toast:n}),u=$.createElement(bC,{...n.ariaProps},zh(n.message,n));return $.createElement(vC,{className:n.className,style:{...a,...t,...n.style}},typeof i=="function"?i({icon:l,message:u}):$.createElement($.Fragment,null,l,u))});qT($.createElement);var wC=({id:n,className:e,style:t,onHeightUpdate:i,children:a})=>{let l=$.useCallback(u=>{if(u){let d=()=>{let m=u.getBoundingClientRect().height;i(n,m)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return $.createElement("div",{ref:l,className:e,style:t},a)},AC=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:TE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...a}},TC=yd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,O0=16,CC=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:a,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:m}=eC(t);return $.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:O0,left:O0,right:O0,bottom:O0,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(f=>{let x=f.position||e,_=m.calculateOffset(f,{reverseOrder:n,gutter:i,defaultPosition:e}),b=AC(x,_);return $.createElement(wC,{id:f.id,key:f.id,onHeightUpdate:m.updateHeight,className:f.visible?TC:"",style:b},f.type==="custom"?zh(f.message,f):a?a(f):$.createElement(EC,{toast:f,position:x}))}))},Fe=xe;/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),d2=n=>{const e=RC(n);return e.charAt(0).toUpperCase()+e.slice(1)},SE=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),DC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>$.createElement("svg",{ref:m,...IC,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:SE("lucide",a),...!l&&!DC(d)&&{"aria-hidden":"true"},...d},[...u.map(([f,x])=>$.createElement(f,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(n,e)=>{const t=$.forwardRef(({className:i,...a},l)=>$.createElement(NC,{ref:l,iconNode:e,className:SE(`lucide-${SC(d2(n))}`,`lucide-${n}`,i),...a}));return t.displayName=d2(n),t};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tu=ze("arrow-left",kC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],RE=ze("calendar",PC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],f2=ze("chart-column",OC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MC=ze("check",BC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jC=ze("chevron-down",FC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VC=ze("circle-alert",LC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],zC=ze("database",UC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HC=ze("download",qC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GC=ze("eye-off",$C);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qh=ze("eye",KC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ma=ze("file-text",QC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],DE=ze("folder",WC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],XC=ze("house",YC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],JC=ze("key",ZC);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],IE=ze("link",eS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nS=ze("lock",tS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],iS=ze("log-in",rS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NE=ze("log-out",sS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tg=ze("mail",aS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],lS=ze("menu",oS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Nm=ze("message-square",cS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hS=ze("pen",uS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hh=ze("plus",dS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],p2=ze("save",fS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kE=ze("search",pS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gS=ze("send",mS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xS=ze("square-pen",yS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],PE=ze("tag",vS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OE=ze("trash-2",bS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],m2=ze("trending-up",_S);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xd=ze("upload",ES);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AS=ze("user-plus",wS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vd=ze("user",TS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SS=ze("users",CS);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tl=ze("x",RS);function DS(n){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(n)}function g2(n,e){return n.length<=e?n:n.slice(0,e)+"..."}const IS="modulepreload",NS=function(n){return"/pdf/"+n},y2={},kS=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let f=function(x){return Promise.all(x.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=f;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=f(t.map(x=>{if(x=NS(x),x in y2)return;y2[x]=!0;const _=x.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${b}`))return;const D=document.createElement("link");if(D.rel=_?"stylesheet":IS,_||(D.as="script"),D.crossOrigin="",D.href=x,m&&D.setAttribute("nonce",m),document.head.appendChild(D),_)return new Promise((N,B)=>{D.addEventListener("load",N),D.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${x}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},PS=()=>{};var x2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},OS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,m=a+2<n.length,f=m?n[a+2]:0,x=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|f>>6,D=f&63;m||(D=64,u||(b=64)),i.push(t[x],t[_],t[b],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||f==null||_==null)throw new BS;const b=l<<2|d>>4;if(i.push(b),f!==64){const D=d<<4&240|f>>2;if(i.push(D),_!==64){const N=f<<6&192|_;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MS=function(n){const e=BE(n);return ME.encodeByteArray(e,!0)},$h=function(n){return MS(n).replace(/\./g,"")},FE=function(n){try{return ME.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=()=>FS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof x2>"u")return;const n=x2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&FE(n[1]);return e&&JSON.parse(e)},bd=()=>{try{return PS()||jS()||LS()||VS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jE=n=>bd()?.emulatorHosts?.[n],LE=n=>{const e=jE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VE=()=>bd()?.config,UE=n=>bd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$h(JSON.stringify(t)),$h(JSON.stringify(u)),""].join(".")}const kc={};function zS(){const n={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?n.emulator.push(e):n.prod.push(e);return n}function qS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let v2=!1;function Sg(n,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||kc[n]===e||kc[n]||v2)return;kc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=zS().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{v2=!0,u()},b}function x(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=qS(i),D=t("text"),N=document.getElementById(D)||document.createElement("span"),B=t("learnmore"),k=document.getElementById(B)||document.createElement("a"),L=t("preprendIcon"),w=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const S=b.element;d(S),x(k,B);const V=f();m(w,L),S.append(w,N,k,V),document.body.appendChild(S)}l?(N.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function $S(){const n=bd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function KS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WS(){return!$S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HE(){try{return typeof indexedDB=="object"}catch{return!1}}function $E(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function YS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="FirebaseError";class lr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=XS,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ZS(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new lr(a,d,i)}}function ZS(n,e){return n.replace(JS,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const JS=/\{\$([^}]+)}/g;function e8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(b2(l)&&b2(u)){if(!Bs(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function b2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Cc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function t8(n,e){const t=new n8(n,e);return t.subscribe.bind(t)}class n8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");r8(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=im),a.error===void 0&&(a.error=im),a.complete===void 0&&(a.complete=im);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=1e3,s8=2,a8=14400*1e3,o8=.5;function _2(n,e=i8,t=s8){const i=e*Math.pow(t,n),a=Math.round(o8*i*(Math.random()-.5)*2);return Math.min(a8,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class or{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new US;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u8(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:c8(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c8(n){return n===Na?void 0:n}function u8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const d8={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},f8=je.INFO,p8={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},m8=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=p8[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _d{constructor(e){this.name=e,this._logLevel=f8,this._logHandler=m8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const g8=(n,e)=>e.some(t=>n instanceof t);let E2,w2;function y8(){return E2||(E2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x8(){return w2||(w2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,km=new WeakMap,KE=new WeakMap,sm=new WeakMap,Rg=new WeakMap;function v8(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Is(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&GE.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function b8(n){if(km.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});km.set(n,e)}let Pm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return km.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _8(n){Pm=n(Pm)}function E8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(am(this),e,...t);return KE.set(i,e.sort?e.sort():[e]),Is(i)}:x8().includes(n)?function(...e){return n.apply(am(this),e),Is(GE.get(this))}:function(...e){return Is(n.apply(am(this),e))}}function w8(n){return typeof n=="function"?E8(n):(n instanceof IDBTransaction&&b8(n),g8(n,y8())?new Proxy(n,Pm):n)}function Is(n){if(n instanceof IDBRequest)return v8(n);if(sm.has(n))return sm.get(n);const e=w8(n);return e!==n&&(sm.set(n,e),Rg.set(e,n)),e}const am=n=>Rg.get(n);function QE(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),d=Is(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Is(u.result),m.oldVersion,m.newVersion,Is(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const A8=["get","getKey","getAll","getAllKeys","count"],T8=["put","add","delete","clear"],om=new Map;function A2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=T8.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||A8.includes(t)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let f=m.store;return i&&(f=f.index(d.shift())),(await Promise.all([f[t](...d),a&&m.done]))[0]};return om.set(e,l),l}_8(n=>({...n,get:(e,t,i)=>A2(e,t)||n.get(e,t,i),has:(e,t)=>!!A2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(S8(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function S8(n){return n.getComponent()?.type==="VERSION"}const Om="@firebase/app",T2="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new _d("@firebase/app"),R8="@firebase/app-compat",D8="@firebase/analytics-compat",I8="@firebase/analytics",N8="@firebase/app-check-compat",k8="@firebase/app-check",P8="@firebase/auth",O8="@firebase/auth-compat",B8="@firebase/database",M8="@firebase/data-connect",F8="@firebase/database-compat",j8="@firebase/functions",L8="@firebase/functions-compat",V8="@firebase/installations",U8="@firebase/installations-compat",z8="@firebase/messaging",q8="@firebase/messaging-compat",H8="@firebase/performance",$8="@firebase/performance-compat",G8="@firebase/remote-config",K8="@firebase/remote-config-compat",Q8="@firebase/storage",W8="@firebase/storage-compat",Y8="@firebase/firestore",X8="@firebase/ai",Z8="@firebase/firestore-compat",J8="firebase",eR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",tR={[Om]:"fire-core",[R8]:"fire-core-compat",[I8]:"fire-analytics",[D8]:"fire-analytics-compat",[k8]:"fire-app-check",[N8]:"fire-app-check-compat",[P8]:"fire-auth",[O8]:"fire-auth-compat",[B8]:"fire-rtdb",[M8]:"fire-data-connect",[F8]:"fire-rtdb-compat",[j8]:"fire-fn",[L8]:"fire-fn-compat",[V8]:"fire-iid",[U8]:"fire-iid-compat",[z8]:"fire-fcm",[q8]:"fire-fcm-compat",[H8]:"fire-perf",[$8]:"fire-perf-compat",[G8]:"fire-rc",[K8]:"fire-rc-compat",[Q8]:"fire-gcs",[W8]:"fire-gcs-compat",[Y8]:"fire-fst",[Z8]:"fire-fst-compat",[X8]:"fire-vertex","fire-js":"fire-js",[J8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,nR=new Map,Mm=new Map;function C2(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function br(n){const e=n.name;if(Mm.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,n);for(const t of Gh.values())C2(t,n);for(const t of nR.values())C2(t,n);return!0}function $s(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Qa("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=eR;function Dg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Bm,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ns.create("bad-app-name",{appName:String(a)});if(t||(t=VE()),!t)throw Ns.create("no-options");const l=Gh.get(a);if(l){if(Bs(t,l.options)&&Bs(i,l.config))return l;throw Ns.create("duplicate-app",{appName:a})}const u=new h8(a);for(const m of Mm.values())u.addComponent(m);const d=new iR(t,i,u);return Gh.set(a,d),d}function Ed(n=Bm){const e=Gh.get(n);if(!e&&n===Bm&&VE())return Dg();if(!e)throw Ns.create("no-app",{appName:n});return e}function Rn(n,e,t){let i=tR[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(u.join(" "));return}br(new or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",aR=1,zc="firebase-heartbeat-store";let lm=null;function WE(){return lm||(lm=QE(sR,aR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ns.create("idb-open",{originalErrorMessage:n.message})})),lm}async function oR(n){try{const t=(await WE()).transaction(zc),i=await t.objectStore(zc).get(YE(n));return await t.done,i}catch(e){if(e instanceof lr)Li.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}}async function S2(n,e){try{const i=(await WE()).transaction(zc,"readwrite");await i.objectStore(zc).put(e,YE(n)),await i.done}catch(t){if(t instanceof lr)Li.warn(t.message);else{const i=Ns.create("idb-set",{originalErrorMessage:t?.message});Li.warn(i.message)}}}function YE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,cR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>cR){const a=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R2(),{heartbeatsToSend:t,unsentEntries:i}=hR(this._heartbeatsCache.heartbeats),a=$h(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Li.warn(e),""}}}function R2(){return new Date().toISOString().substring(0,10)}function hR(n,e=lR){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),D2(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),D2(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class dR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HE()?$E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return S2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return S2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D2(n){return $h(JSON.stringify({version:2,heartbeats:n})).length}function fR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){br(new or("platform-logger",e=>new C8(e),"PRIVATE")),br(new or("heartbeat",e=>new uR(e),"PRIVATE")),Rn(Om,T2,n),Rn(Om,T2,"esm2020"),Rn("fire-js","")}pR("");var I2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,XE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function E(){}E.prototype=T.prototype,I.D=T.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(A,P,F){for(var O=Array(arguments.length-2),he=2;he<arguments.length;he++)O[he-2]=arguments[he];return T.prototype[P].apply(A,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,T,E){E||(E=0);var A=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)A[P]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(P=0;16>P;++P)A[P]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=I.g[0],E=I.g[1],P=I.g[2];var F=I.g[3],O=T+(F^E&(P^F))+A[0]+3614090360&4294967295;T=E+(O<<7&4294967295|O>>>25),O=F+(P^T&(E^P))+A[1]+3905402710&4294967295,F=T+(O<<12&4294967295|O>>>20),O=P+(E^F&(T^E))+A[2]+606105819&4294967295,P=F+(O<<17&4294967295|O>>>15),O=E+(T^P&(F^T))+A[3]+3250441966&4294967295,E=P+(O<<22&4294967295|O>>>10),O=T+(F^E&(P^F))+A[4]+4118548399&4294967295,T=E+(O<<7&4294967295|O>>>25),O=F+(P^T&(E^P))+A[5]+1200080426&4294967295,F=T+(O<<12&4294967295|O>>>20),O=P+(E^F&(T^E))+A[6]+2821735955&4294967295,P=F+(O<<17&4294967295|O>>>15),O=E+(T^P&(F^T))+A[7]+4249261313&4294967295,E=P+(O<<22&4294967295|O>>>10),O=T+(F^E&(P^F))+A[8]+1770035416&4294967295,T=E+(O<<7&4294967295|O>>>25),O=F+(P^T&(E^P))+A[9]+2336552879&4294967295,F=T+(O<<12&4294967295|O>>>20),O=P+(E^F&(T^E))+A[10]+4294925233&4294967295,P=F+(O<<17&4294967295|O>>>15),O=E+(T^P&(F^T))+A[11]+2304563134&4294967295,E=P+(O<<22&4294967295|O>>>10),O=T+(F^E&(P^F))+A[12]+1804603682&4294967295,T=E+(O<<7&4294967295|O>>>25),O=F+(P^T&(E^P))+A[13]+4254626195&4294967295,F=T+(O<<12&4294967295|O>>>20),O=P+(E^F&(T^E))+A[14]+2792965006&4294967295,P=F+(O<<17&4294967295|O>>>15),O=E+(T^P&(F^T))+A[15]+1236535329&4294967295,E=P+(O<<22&4294967295|O>>>10),O=T+(P^F&(E^P))+A[1]+4129170786&4294967295,T=E+(O<<5&4294967295|O>>>27),O=F+(E^P&(T^E))+A[6]+3225465664&4294967295,F=T+(O<<9&4294967295|O>>>23),O=P+(T^E&(F^T))+A[11]+643717713&4294967295,P=F+(O<<14&4294967295|O>>>18),O=E+(F^T&(P^F))+A[0]+3921069994&4294967295,E=P+(O<<20&4294967295|O>>>12),O=T+(P^F&(E^P))+A[5]+3593408605&4294967295,T=E+(O<<5&4294967295|O>>>27),O=F+(E^P&(T^E))+A[10]+38016083&4294967295,F=T+(O<<9&4294967295|O>>>23),O=P+(T^E&(F^T))+A[15]+3634488961&4294967295,P=F+(O<<14&4294967295|O>>>18),O=E+(F^T&(P^F))+A[4]+3889429448&4294967295,E=P+(O<<20&4294967295|O>>>12),O=T+(P^F&(E^P))+A[9]+568446438&4294967295,T=E+(O<<5&4294967295|O>>>27),O=F+(E^P&(T^E))+A[14]+3275163606&4294967295,F=T+(O<<9&4294967295|O>>>23),O=P+(T^E&(F^T))+A[3]+4107603335&4294967295,P=F+(O<<14&4294967295|O>>>18),O=E+(F^T&(P^F))+A[8]+1163531501&4294967295,E=P+(O<<20&4294967295|O>>>12),O=T+(P^F&(E^P))+A[13]+2850285829&4294967295,T=E+(O<<5&4294967295|O>>>27),O=F+(E^P&(T^E))+A[2]+4243563512&4294967295,F=T+(O<<9&4294967295|O>>>23),O=P+(T^E&(F^T))+A[7]+1735328473&4294967295,P=F+(O<<14&4294967295|O>>>18),O=E+(F^T&(P^F))+A[12]+2368359562&4294967295,E=P+(O<<20&4294967295|O>>>12),O=T+(E^P^F)+A[5]+4294588738&4294967295,T=E+(O<<4&4294967295|O>>>28),O=F+(T^E^P)+A[8]+2272392833&4294967295,F=T+(O<<11&4294967295|O>>>21),O=P+(F^T^E)+A[11]+1839030562&4294967295,P=F+(O<<16&4294967295|O>>>16),O=E+(P^F^T)+A[14]+4259657740&4294967295,E=P+(O<<23&4294967295|O>>>9),O=T+(E^P^F)+A[1]+2763975236&4294967295,T=E+(O<<4&4294967295|O>>>28),O=F+(T^E^P)+A[4]+1272893353&4294967295,F=T+(O<<11&4294967295|O>>>21),O=P+(F^T^E)+A[7]+4139469664&4294967295,P=F+(O<<16&4294967295|O>>>16),O=E+(P^F^T)+A[10]+3200236656&4294967295,E=P+(O<<23&4294967295|O>>>9),O=T+(E^P^F)+A[13]+681279174&4294967295,T=E+(O<<4&4294967295|O>>>28),O=F+(T^E^P)+A[0]+3936430074&4294967295,F=T+(O<<11&4294967295|O>>>21),O=P+(F^T^E)+A[3]+3572445317&4294967295,P=F+(O<<16&4294967295|O>>>16),O=E+(P^F^T)+A[6]+76029189&4294967295,E=P+(O<<23&4294967295|O>>>9),O=T+(E^P^F)+A[9]+3654602809&4294967295,T=E+(O<<4&4294967295|O>>>28),O=F+(T^E^P)+A[12]+3873151461&4294967295,F=T+(O<<11&4294967295|O>>>21),O=P+(F^T^E)+A[15]+530742520&4294967295,P=F+(O<<16&4294967295|O>>>16),O=E+(P^F^T)+A[2]+3299628645&4294967295,E=P+(O<<23&4294967295|O>>>9),O=T+(P^(E|~F))+A[0]+4096336452&4294967295,T=E+(O<<6&4294967295|O>>>26),O=F+(E^(T|~P))+A[7]+1126891415&4294967295,F=T+(O<<10&4294967295|O>>>22),O=P+(T^(F|~E))+A[14]+2878612391&4294967295,P=F+(O<<15&4294967295|O>>>17),O=E+(F^(P|~T))+A[5]+4237533241&4294967295,E=P+(O<<21&4294967295|O>>>11),O=T+(P^(E|~F))+A[12]+1700485571&4294967295,T=E+(O<<6&4294967295|O>>>26),O=F+(E^(T|~P))+A[3]+2399980690&4294967295,F=T+(O<<10&4294967295|O>>>22),O=P+(T^(F|~E))+A[10]+4293915773&4294967295,P=F+(O<<15&4294967295|O>>>17),O=E+(F^(P|~T))+A[1]+2240044497&4294967295,E=P+(O<<21&4294967295|O>>>11),O=T+(P^(E|~F))+A[8]+1873313359&4294967295,T=E+(O<<6&4294967295|O>>>26),O=F+(E^(T|~P))+A[15]+4264355552&4294967295,F=T+(O<<10&4294967295|O>>>22),O=P+(T^(F|~E))+A[6]+2734768916&4294967295,P=F+(O<<15&4294967295|O>>>17),O=E+(F^(P|~T))+A[13]+1309151649&4294967295,E=P+(O<<21&4294967295|O>>>11),O=T+(P^(E|~F))+A[4]+4149444226&4294967295,T=E+(O<<6&4294967295|O>>>26),O=F+(E^(T|~P))+A[11]+3174756917&4294967295,F=T+(O<<10&4294967295|O>>>22),O=P+(T^(F|~E))+A[2]+718787259&4294967295,P=F+(O<<15&4294967295|O>>>17),O=E+(F^(P|~T))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+F&4294967295}i.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var E=T-this.blockSize,A=this.B,P=this.h,F=0;F<T;){if(P==0)for(;F<=E;)a(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<T;)if(A[P++]=I.charCodeAt(F++),P==this.blockSize){a(this,A),P=0;break}}else for(;F<T;)if(A[P++]=I[F++],P==this.blockSize){a(this,A),P=0;break}}this.h=P,this.o+=T},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var E=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=E&255,E/=256;for(this.u(I),I=Array(16),T=E=0;4>T;++T)for(var A=0;32>A;A+=8)I[E++]=this.g[T]>>>A&255;return I};function l(I,T){var E=d;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=T(I)}function u(I,T){this.h=T;for(var E=[],A=!0,P=I.length-1;0<=P;P--){var F=I[P]|0;A&&F==T||(E[P]=F,A=!1)}this.g=E}var d={};function m(I){return-128<=I&&128>I?l(I,function(T){return new u([T|0],0>T?-1:0)}):new u([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return k(f(-I));for(var T=[],E=1,A=0;I>=E;A++)T[A]=I/E|0,E*=4294967296;return new u(T,0)}function x(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return k(x(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(T,8)),A=_,P=0;P<I.length;P+=8){var F=Math.min(8,I.length-P),O=parseInt(I.substring(P,P+F),T);8>F?(F=f(Math.pow(T,F)),A=A.j(F).add(f(O))):(A=A.j(E),A=A.add(f(O)))}return A}var _=m(0),b=m(1),D=m(16777216);n=u.prototype,n.m=function(){if(B(this))return-k(this).m();for(var I=0,T=1,E=0;E<this.g.length;E++){var A=this.i(E);I+=(0<=A?A:4294967296+A)*T,T*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(B(this))return"-"+k(this).toString(I);for(var T=f(Math.pow(I,6)),E=this,A="";;){var P=V(E,T).g;E=L(E,P.j(T));var F=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=P,N(E))return F+A;for(;6>F.length;)F="0"+F;A=F+A}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function B(I){return I.h==-1}n.l=function(I){return I=L(this,I),B(I)?-1:N(I)?0:1};function k(I){for(var T=I.g.length,E=[],A=0;A<T;A++)E[A]=~I.g[A];return new u(E,~I.h).add(b)}n.abs=function(){return B(this)?k(this):this},n.add=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],A=0,P=0;P<=T;P++){var F=A+(this.i(P)&65535)+(I.i(P)&65535),O=(F>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);A=O>>>16,F&=65535,O&=65535,E[P]=O<<16|F}return new u(E,E[E.length-1]&-2147483648?-1:0)};function L(I,T){return I.add(k(T))}n.j=function(I){if(N(this)||N(I))return _;if(B(this))return B(I)?k(this).j(k(I)):k(k(this).j(I));if(B(I))return k(this.j(k(I)));if(0>this.l(D)&&0>I.l(D))return f(this.m()*I.m());for(var T=this.g.length+I.g.length,E=[],A=0;A<2*T;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<I.g.length;P++){var F=this.i(A)>>>16,O=this.i(A)&65535,he=I.i(P)>>>16,de=I.i(P)&65535;E[2*A+2*P]+=O*de,w(E,2*A+2*P),E[2*A+2*P+1]+=F*de,w(E,2*A+2*P+1),E[2*A+2*P+1]+=O*he,w(E,2*A+2*P+1),E[2*A+2*P+2]+=F*he,w(E,2*A+2*P+2)}for(A=0;A<T;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=T;A<2*T;A++)E[A]=0;return new u(E,0)};function w(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function S(I,T){this.g=I,this.h=T}function V(I,T){if(N(T))throw Error("division by zero");if(N(I))return new S(_,_);if(B(I))return T=V(k(I),T),new S(k(T.g),k(T.h));if(B(T))return T=V(I,k(T)),new S(k(T.g),T.h);if(30<I.g.length){if(B(I)||B(T))throw Error("slowDivide_ only works with positive integers.");for(var E=b,A=T;0>=A.l(I);)E=z(E),A=z(A);var P=U(E,1),F=U(A,1);for(A=U(A,2),E=U(E,2);!N(A);){var O=F.add(A);0>=O.l(I)&&(P=P.add(E),F=O),A=U(A,1),E=U(E,1)}return T=L(I,P.j(T)),new S(P,T)}for(P=_;0<=I.l(T);){for(E=Math.max(1,Math.floor(I.m()/T.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),F=f(E),O=F.j(T);B(O)||0<O.l(I);)E-=A,F=f(E),O=F.j(T);N(F)&&(F=b),P=P.add(F),I=L(I,O)}return new S(P,I)}n.A=function(I){return V(this,I).h},n.and=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)&I.i(A);return new u(E,this.h&I.h)},n.or=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)|I.i(A);return new u(E,this.h|I.h)},n.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),E=[],A=0;A<T;A++)E[A]=this.i(A)^I.i(A);return new u(E,this.h^I.h)};function z(I){for(var T=I.g.length+1,E=[],A=0;A<T;A++)E[A]=I.i(A)<<1|I.i(A-1)>>>31;return new u(E,I.h)}function U(I,T){var E=T>>5;T%=32;for(var A=I.g.length-E,P=[],F=0;F<A;F++)P[F]=0<T?I.i(F+E)>>>T|I.i(F+E+1)<<32-T:I.i(F+E);return new u(P,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=x,ks=u}).apply(typeof I2<"u"?I2:typeof self<"u"?self:typeof window<"u"?window:{});var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZE,Sc,JE,G0,Fm,e4,t4,n4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,C){return h==Array.prototype||h==Object.prototype||(h[v]=C.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof B0=="object"&&B0];for(var v=0;v<h.length;++v){var C=h[v];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=t(this);function a(h,v){if(v)e:{var C=i;h=h.split(".");for(var j=0;j<h.length-1;j++){var Z=h[j];if(!(Z in C))break e;C=C[Z]}h=h[h.length-1],j=C[h],v=v(j),v!=j&&v!=null&&e(C,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var C=0,j=!1,Z={next:function(){if(!j&&C<h.length){var ie=C++;return{value:v(ie,h[ie]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,C){return h.call.apply(h.bind,arguments)}function _(h,v,C){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,j),h.apply(v,Z)}}return function(){return h.apply(v,arguments)}}function b(h,v,C){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:_,b.apply(null,arguments)}function D(h,v){var C=Array.prototype.slice.call(arguments,1);return function(){var j=C.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function N(h,v){function C(){}C.prototype=v.prototype,h.aa=v.prototype,h.prototype=new C,h.prototype.constructor=h,h.Qb=function(j,Z,ie){for(var pe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)pe[$e-2]=arguments[$e];return v.prototype[Z].apply(j,pe)}}function B(h){const v=h.length;if(0<v){const C=Array(v);for(let j=0;j<v;j++)C[j]=h[j];return C}return[]}function k(h,v){for(let C=1;C<arguments.length;C++){const j=arguments[C];if(m(j)){const Z=h.length||0,ie=j.length||0;h.length=Z+ie;for(let pe=0;pe<ie;pe++)h[Z+pe]=j[pe]}else h.push(j)}}class L{constructor(v,C){this.i=v,this.j=C,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var z=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function U(h,v,C){for(const j in h)v.call(C,h[j],j,h)}function I(h,v){for(const C in h)v.call(void 0,h[C],C,h)}function T(h){const v={};for(const C in h)v[C]=h[C];return v}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,v){let C,j;for(let Z=1;Z<arguments.length;Z++){j=arguments[Z];for(C in j)h[C]=j[C];for(let ie=0;ie<E.length;ie++)C=E[ie],Object.prototype.hasOwnProperty.call(j,C)&&(h[C]=j[C])}}function P(h){var v=1;h=h.split(":");const C=[];for(;0<v&&h.length;)C.push(h.shift()),v--;return h.length&&C.push(h.join(":")),C}function F(h){d.setTimeout(()=>{throw h},0)}function O(){var h=Ee;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class he{constructor(){this.h=this.g=null}add(v,C){const j=de.get();j.set(v,C),this.h?this.h.next=j:this.g=j,this.h=j}}var de=new L(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,C){this.h=v,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,Ee=new he,q=()=>{const h=d.Promise.resolve(void 0);le=()=>{h.then(G)}};var G=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(C){F(C)}var v=de;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}fe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};d.addEventListener("test",C,v),d.removeEventListener("test",C,v)}catch{}return h}();function _e(h,v){if(Q.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var C=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(z){e:{try{V(v.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(v=null)}}else C=="mouseover"?v=h.fromElement:C=="mouseout"&&(v=h.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_e.aa.h.call(this)}}N(_e,Q);var me={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),ve=0;function sn(h,v,C,j,Z){this.listener=h,this.proxy=null,this.src=v,this.type=C,this.capture=!!j,this.ha=Z,this.key=++ve,this.da=this.fa=!1}function fn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function In(h){this.src=h,this.g={},this.h=0}In.prototype.add=function(h,v,C,j,Z){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var pe=Pt(h,v,j,Z);return-1<pe?(v=h[pe],C||(v.fa=!1)):(v=new sn(v,this.src,ie,!!j,Z),v.fa=C,h.push(v)),v};function Nn(h,v){var C=v.type;if(C in h.g){var j=h.g[C],Z=Array.prototype.indexOf.call(j,v,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(j,Z,1),ie&&(fn(v),h.g[C].length==0&&(delete h.g[C],h.h--))}}function Pt(h,v,C,j){for(var Z=0;Z<h.length;++Z){var ie=h[Z];if(!ie.da&&ie.listener==v&&ie.capture==!!C&&ie.ha==j)return Z}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Cr={};function Sr(h,v,C,j,Z){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)Sr(h,v[ie],C,j,Z);return null}return C=Ys(C),h&&h[We]?h.K(v,C,f(j)?!!j.capture:!1,Z):Wt(h,v,C,!1,j,Z)}function Wt(h,v,C,j,Z,ie){if(!v)throw Error("Invalid event type");var pe=f(Z)?!!Z.capture:!!Z,$e=pn(h);if($e||(h[vt]=$e=new In(h)),C=$e.add(v,C,j,pe,ie),C.proxy)return C;if(j=si(),C.proxy=j,j.src=h,j.listener=C,h.addEventListener)te||(Z=pe),Z===void 0&&(Z=!1),h.addEventListener(v.toString(),j,Z);else if(h.attachEvent)h.attachEvent(Ot(v.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return C}function si(){function h(C){return v.call(h.src,h.listener,C)}const v=an;return h}function ai(h,v,C,j,Z){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)ai(h,v[ie],C,j,Z);else j=f(j)?!!j.capture:!!j,C=Ys(C),h&&h[We]?(h=h.i,v=String(v).toString(),v in h.g&&(ie=h.g[v],C=Pt(ie,C,j,Z),-1<C&&(fn(ie[C]),Array.prototype.splice.call(ie,C,1),ie.length==0&&(delete h.g[v],h.h--)))):h&&(h=pn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Pt(v,C,j,Z)),(C=-1<h?v[h]:null)&&Hn(C))}function Hn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[We])Nn(v.i,h);else{var C=h.type,j=h.proxy;v.removeEventListener?v.removeEventListener(C,j,h.capture):v.detachEvent?v.detachEvent(Ot(C),j):v.addListener&&v.removeListener&&v.removeListener(j),(C=pn(v))?(Nn(C,h),C.h==0&&(C.src=null,v[vt]=null)):fn(h)}}}function Ot(h){return h in Cr?Cr[h]:Cr[h]="on"+h}function an(h,v){if(h.da)h=!0;else{v=new _e(v,this);var C=h.listener,j=h.ha||h.src;h.fa&&Hn(h),h=C.call(j,v)}return h}function pn(h){return h=h[vt],h instanceof In?h:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(h){return typeof h=="function"?h:(h[Rr]||(h[Rr]=function(v){return h.handleEvent(v)}),h[Rr])}function tt(){X.call(this),this.i=new In(this),this.M=this,this.F=null}N(tt,X),tt.prototype[We]=!0,tt.prototype.removeEventListener=function(h,v,C,j){ai(this,h,v,C,j)};function Ue(h,v){var C,j=h.F;if(j)for(C=[];j;j=j.F)C.push(j);if(h=h.M,j=v.type||v,typeof v=="string")v=new Q(v,h);else if(v instanceof Q)v.target=v.target||h;else{var Z=v;v=new Q(j,h),A(v,Z)}if(Z=!0,C)for(var ie=C.length-1;0<=ie;ie--){var pe=v.g=C[ie];Z=mn(pe,j,!0,v)&&Z}if(pe=v.g=h,Z=mn(pe,j,!0,v)&&Z,Z=mn(pe,j,!1,v)&&Z,C)for(ie=0;ie<C.length;ie++)pe=v.g=C[ie],Z=mn(pe,j,!1,v)&&Z}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var C=h.g[v],j=0;j<C.length;j++)fn(C[j]);delete h.g[v],h.h--}}this.F=null},tt.prototype.K=function(h,v,C,j){return this.i.add(String(h),v,!1,C,j)},tt.prototype.L=function(h,v,C,j){return this.i.add(String(h),v,!0,C,j)};function mn(h,v,C,j){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Z=!0,ie=0;ie<v.length;++ie){var pe=v[ie];if(pe&&!pe.da&&pe.capture==C){var $e=pe.listener,Mt=pe.ha||pe.src;pe.fa&&Nn(h.i,pe),Z=$e.call(Mt,j)!==!1&&Z}}return Z&&!j.defaultPrevented}function Bt(h,v,C){if(typeof h=="function")C&&(h=b(h,C));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Xs(h){h.g=Bt(()=>{h.g=null,h.i&&(h.i=!1,Xs(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Dr extends X{constructor(v,C){super(),this.m=v,this.l=C,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(h){X.call(this),this.h=h,this.g={}}N(kn,X);var oi=[];function Ir(h){U(h.g,function(v,C){this.g.hasOwnProperty(C)&&Hn(v)},h),h.g={}}kn.prototype.N=function(){kn.aa.N.call(this),Ir(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=d.JSON.stringify,Hi=d.JSON.parse,li=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function $i(){}$i.prototype.h=null;function Zs(h){return h.h||(h.h=h.i())}function Gi(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){Q.call(this,"d")}N($n,Q);function Js(){Q.call(this,"c")}N(Js,Q);var Gn={},ea=null;function ur(){return ea=ea||new tt}Gn.La="serverreachability";function Ki(h){Q.call(this,Gn.La,h)}N(Ki,Q);function Nr(h){const v=ur();Ue(v,new Ki(v))}Gn.STAT_EVENT="statevent";function ta(h,v){Q.call(this,Gn.STAT_EVENT,h),this.stat=v}N(ta,Q);function ct(h){const v=ur();Ue(v,new ta(v,h))}Gn.Ma="timingevent";function gt(h,v){Q.call(this,Gn.Ma,h),this.size=v}N(gt,Q);function He(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function bt(){this.g=!0}bt.prototype.xa=function(){this.g=!1};function Qi(h,v,C,j,Z,ie){h.info(function(){if(h.g)if(ie)for(var pe="",$e=ie.split("&"),Mt=0;Mt<$e.length;Mt++){var Ge=$e[Mt].split("=");if(1<Ge.length){var qt=Ge[0];Ge=Ge[1];var Ft=qt.split("_");pe=2<=Ft.length&&Ft[1]=="type"?pe+(qt+"="+Ge+"&"):pe+(qt+"=redacted&")}}else pe=null;else pe=ie;return"XMLHTTP REQ ("+j+") [attempt "+Z+"]: "+v+`
`+C+`
`+pe})}function El(h,v,C,j,Z,ie,pe){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Z+"]: "+v+`
`+C+`
`+ie+" "+pe})}function Wi(h,v,C,j){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+na(h,C)+(j?" "+j:"")})}function du(h,v){h.info(function(){return"TIMEOUT: "+v})}bt.prototype.info=function(){};function na(h,v){if(!h.g)return v;if(!v)return null;try{var C=JSON.parse(v);if(C){for(h=0;h<C.length;h++)if(Array.isArray(C[h])){var j=C[h];if(!(2>j.length)){var Z=j[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var pe=1;pe<Z.length;pe++)Z[pe]=""}}}}return En(C)}catch{return v}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Pr(){}N(Pr,$i),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},kr=new Pr;function gn(h,v,C,j){this.j=h,this.i=v,this.l=C,this.R=j||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var wl={},no={};function hr(h,v,C){h.L=1,h.v=oa(Pn(v)),h.m=C,h.P=!0,ui(h,null)}function ui(h,v){h.F=Date.now(),ra(h),h.A=Pn(h.v);var C=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),Dl(C.i,"t",j),h.C=0,C=h.j.J,h.h=new _t,h.g=Ru(h.j,C?v:null,!h.m),0<h.O&&(h.M=new Dr(b(h.Y,h,h.g),h.O)),v=h.U,C=h.g,j=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(oi[0]=Z.toString()),Z=oi);for(var ie=0;ie<Z.length;ie++){var pe=Sr(C,Z[ie],j||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Nr(),Qi(h.i,h.u,h.A,h.l,h.R,h.m)}gn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Yn(h)==3?v.j():this.Y(h)},gn.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=Yn(this.g);var v=this.g.Ba();const xi=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Ft!=4||v==7||(v==8||0>=xi?Nr(3):Nr(2)),Xi(this);var C=this.g.Z();this.X=C;t:if(fu(this)){var j=bu(this.g);h="";var Z=j.length,ie=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),Or(this);var pe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<Z;v++)this.h.h=!0,h+=this.h.i.decode(j[v],{stream:!(ie&&v==Z-1)});j.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=C==200,El(this.i,this.u,this.A,this.l,this.R,Ft,C),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Mt=this.g;if(($e=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w($e)){var Ge=$e;break t}}Ge=null}if(C=Ge)Wi(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ia(this,C);else{this.o=!1,this.s=3,ct(12),Yt(this),Or(this);break e}}if(this.P){C=!0;let Xt;for(;!this.J&&this.C<pe.length;)if(Xt=pu(this,pe),Xt==no){Ft==4&&(this.s=4,ct(14),C=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==wl){this.s=4,ct(15),Wi(this.i,this.l,pe,"[Invalid Chunk]"),C=!1;break}else Wi(this.i,this.l,Xt,null),ia(this,Xt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||pe.length!=0||this.h.h||(this.s=1,ct(16),C=!1),this.o=this.o&&C,!C)Wi(this.i,this.l,pe,"[Invalid Chunked Response]"),Yt(this),Or(this);else if(0<pe.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ma(qt),qt.M=!0,ct(11))}}else Wi(this.i,this.l,pe,null),ia(this,pe);Ft==4&&Yt(this),this.o&&!this.J&&(Ft==4?Tu(this.j,this):(this.o=!1,ra(this)))}else tf(this.g),C==400&&0<pe.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Yt(this),Or(this)}}}catch{}finally{}};function fu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pu(h,v){var C=h.C,j=v.indexOf(`
`,C);return j==-1?no:(C=Number(v.substring(C,j)),isNaN(C)?wl:(j+=1,j+C>v.length?no:(v=v.slice(j,j+C),h.C=j+C,v)))}gn.prototype.cancel=function(){this.J=!0,Yt(this)};function ra(h){h.S=Date.now()+h.I,mu(h,h.I)}function mu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=He(b(h.ba,h),v)}function Xi(h){h.B&&(d.clearTimeout(h.B),h.B=null)}gn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(du(this.i,this.A),this.L!=2&&(Nr(),ct(17)),Yt(this),this.s=2,Or(this)):mu(this,this.S-h)};function Or(h){h.j.G==0||h.J||Tu(h.j,h)}function Yt(h){Xi(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ir(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ia(h,v){try{var C=h.j;if(C.G!=0&&(C.g==h||Al(C.h,h))){if(!h.K&&Al(C.h,h)&&C.G==3){try{var j=C.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Z=j;if(Z[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<h.F)mo(C),fo(C);else break e;Ol(C),ct(18)}}else C.za=Z[1],0<C.za-C.T&&37500>Z[2]&&C.F&&C.v==0&&!C.C&&(C.C=He(b(C.Za,C),6e3));if(1>=io(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else yi(C,11)}else if((h.K||C.g==h)&&mo(C),!w(v))for(Z=C.Da.g.parse(v),v=0;v<Z.length;v++){let Ge=Z[v];if(C.T=Ge[0],Ge=Ge[1],C.G==2)if(Ge[0]=="c"){C.K=Ge[1],C.ia=Ge[2];const qt=Ge[3];qt!=null&&(C.la=qt,C.j.info("VER="+C.la));const Ft=Ge[4];Ft!=null&&(C.Aa=Ft,C.j.info("SVER="+C.Aa));const xi=Ge[5];xi!=null&&typeof xi=="number"&&0<xi&&(j=1.5*xi,C.L=j,C.j.info("backChannelRequestTimeoutMs_="+j)),j=C;const Xt=h.g;if(Xt){const Ur=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var ie=j.h;ie.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(so(ie,ie.h),ie.h=null))}if(j.D){const Ml=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(j.ya=Ml,it(j.I,j.D,Ml))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-h.F,C.j.info("Handshake RTT: "+C.R+"ms")),j=C;var pe=h;if(j.qa=Su(j,j.J?j.ia:null,j.W),pe.K){yn(j.h,pe);var $e=pe,Mt=j.L;Mt&&($e.I=Mt),$e.B&&(Xi($e),ra($e)),j.g=pe}else wu(j);0<C.i.length&&po(C)}else Ge[0]!="stop"&&Ge[0]!="close"||yi(C,7);else C.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?yi(C,7):kl(C):Ge[0]!="noop"&&C.l&&C.l.ta(Ge),C.v=0)}}Nr(4)}catch{}}var gu=class{constructor(h,v){this.g=h,this.map=v}};function hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ro(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function io(h){return h.h?1:h.g?h.g.size:0}function Al(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function so(h,v){h.g?h.g.add(v):h.h=v}function yn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}hi.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const C of h.g.values())v=v.concat(C.D);return v}return B(h.i)}function Xd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],C=h.length,j=0;j<C;j++)v.push(h[j]);return v}v=[],C=0;for(j in h)v[C++]=h[j];return v}function ao(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var C=0;C<h;C++)v.push(C);return v}v=[],C=0;for(const j in h)v[C++]=j;return v}}}function Cl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var C=ao(h),j=Xd(h),Z=j.length,ie=0;ie<Z;ie++)v.call(void 0,j[ie],C&&C[ie],h)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zd(h,v){if(h){h=h.split("&");for(var C=0;C<h.length;C++){var j=h[C].indexOf("="),Z=null;if(0<=j){var ie=h[C].substring(0,j);Z=h[C].substring(j+1)}else ie=h[C];v(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Ct(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ct){this.h=h.h,aa(this,h.j),this.o=h.o,this.g=h.g,Zi(this,h.s),this.l=h.l;var v=h.i,C=new fi;C.i=v.i,v.g&&(C.g=new Map(v.g),C.h=v.h),di(this,C),this.m=h.m}else h&&(v=String(h).match(sa))?(this.h=!1,aa(this,v[1]||"",!0),this.o=Kn(v[2]||""),this.g=Kn(v[3]||"",!0),Zi(this,v[4]),this.l=Kn(v[5]||"",!0),di(this,v[6]||"",!0),this.m=Kn(v[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Ct.prototype.toString=function(){var h=[],v=this.j;v&&h.push(la(v,Sl,!0),":");var C=this.g;return(C||v=="file")&&(h.push("//"),(v=this.o)&&h.push(la(v,Sl,!0),"@"),h.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&h.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push(la(C,C.charAt(0)=="/"?Jd:Rl,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",la(C,oo)),h.join("")};function Pn(h){return new Ct(h)}function aa(h,v,C){h.j=C?Kn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Zi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function di(h,v,C){v instanceof fi?(h.i=v,xu(h.i,h.h)):(C||(v=la(v,ef)),h.i=new fi(v,h.h))}function it(h,v,C){h.i.set(v,C)}function oa(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Kn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,v,C){return typeof h=="string"?(h=encodeURI(h).replace(v,yu),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sl=/[#\/\?@]/g,Rl=/[#\?:]/g,Jd=/[#\?]/g,ef=/[#\?@]/g,oo=/#/g;function fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Qn(h){h.g||(h.g=new Map,h.h=0,h.i&&Zd(h.i,function(v,C){h.add(decodeURIComponent(v.replace(/\+/g," ")),C)}))}n=fi.prototype,n.add=function(h,v){Qn(this),this.i=null,h=Br(this,h);var C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(v),this.h+=1,this};function pi(h,v){Qn(h),v=Br(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function mi(h,v){return Qn(h),v=Br(h,v),h.g.has(v)}n.forEach=function(h,v){Qn(this),this.g.forEach(function(C,j){C.forEach(function(Z){h.call(v,Z,j,this)},this)},this)},n.na=function(){Qn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),C=[];for(let j=0;j<v.length;j++){const Z=h[j];for(let ie=0;ie<Z.length;ie++)C.push(v[j])}return C},n.V=function(h){Qn(this);let v=[];if(typeof h=="string")mi(this,h)&&(v=v.concat(this.g.get(Br(this,h))));else{h=Array.from(this.g.values());for(let C=0;C<h.length;C++)v=v.concat(h[C])}return v},n.set=function(h,v){return Qn(this),this.i=null,h=Br(this,h),mi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Dl(h,v,C){pi(h,v),0<C.length&&(h.i=null,h.g.set(Br(h,v),B(C)),h.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var C=0;C<v.length;C++){var j=v[C];const ie=encodeURIComponent(String(j)),pe=this.V(j);for(j=0;j<pe.length;j++){var Z=ie;pe[j]!==""&&(Z+="="+encodeURIComponent(String(pe[j]))),h.push(Z)}}return this.i=h.join("&")};function Br(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function xu(h,v){v&&!h.j&&(Qn(h),h.i=null,h.g.forEach(function(C,j){var Z=j.toLowerCase();j!=Z&&(pi(this,j),Dl(this,Z,C))},h)),h.j=v}function ca(h,v){const C=new bt;if(d.Image){const j=new Image;j.onload=D(Wn,C,"TestLoadImage: loaded",!0,v,j),j.onerror=D(Wn,C,"TestLoadImage: error",!1,v,j),j.onabort=D(Wn,C,"TestLoadImage: abort",!1,v,j),j.ontimeout=D(Wn,C,"TestLoadImage: timeout",!1,v,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else v(!1)}function dr(h,v){const C=new bt,j=new AbortController,Z=setTimeout(()=>{j.abort(),Wn(C,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:j.signal}).then(ie=>{clearTimeout(Z),ie.ok?Wn(C,"TestPingServer: ok",!0,v):Wn(C,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),Wn(C,"TestPingServer: error",!1,v)})}function Wn(h,v,C,j,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),j(C)}catch{}}function ua(){this.g=new li}function Mr(h,v,C){const j=C||"";try{Cl(h,function(Z,ie){let pe=Z;f(Z)&&(pe=En(Z)),v.push(j+ie+"="+encodeURIComponent(pe))})}catch(Z){throw v.push(j+"type="+encodeURIComponent("_badmap")),Z}}function Ji(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Ji,$i),Ji.prototype.g=function(){return new gi(this.l,this.j)},Ji.prototype.i=function(h){return function(){return h}}({});function gi(h,v){tt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(gi,tt),n=gi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,jr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Fr(this):jr(this),this.readyState==3&&Il(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Fr(this))},n.Qa=function(h){this.g&&(this.response=h,Fr(this))},n.ga=function(){this.g&&Fr(this)};function Fr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,jr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var C=v.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=v.next();return h.join(`\r
`)};function jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nl(h){let v="";return U(h,function(C,j){v+=j,v+=":",v+=C,v+=`\r
`}),v}function zt(h,v,C){e:{for(j in C){var j=!1;break e}j=!0}j||(C=Nl(C),typeof h=="string"?C!=null&&encodeURIComponent(String(C)):it(h,v,C))}function Je(h){tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Je,tt);var lo=/^https?$/i,ha=["POST","PUT"];n=Je.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,C,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?Zs(this.o):Zs(kr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ie){vu(this,ie);return}if(h=C||"",C=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Z in j)C.set(Z,j[Z]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())C.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(C.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ha,v,void 0))||j||Z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,pe]of C)this.g.setRequestHeader(ie,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){vu(this,ie)}};function vu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,co(h),Lr(h)}function co(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ue(this,"complete"),Ue(this,"abort"),Lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uo(this):this.bb())},n.bb=function(){uo(this)};function uo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Yn(h)!=4||h.Z()!=2)){if(h.u&&Yn(h)==4)Bt(h.Ea,0,h);else if(Ue(h,"readystatechange"),Yn(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var C;if(!(C=v)){var j;if(j=pe===0){var Z=String(h.D).match(sa)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),j=!lo.test(Z?Z.toLowerCase():"")}C=j}if(C)Ue(h,"complete"),Ue(h,"success");else{h.m=6;try{var ie=2<Yn(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",co(h)}}finally{Lr(h)}}}}function Lr(h,v){if(h.g){da(h);const C=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ue(h,"ready");try{C.onreadystatechange=j}catch{}}}function da(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Yn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Hi(v)}};function bu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(h){const v={};h=(h.g&&2<=Yn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(w(h[j]))continue;var C=P(h[j]);const Z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ie=v[Z]||[];v[Z]=ie,ie.push(C)}I(v,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(h,v,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||v}function ho(h){this.Aa=0,this.i=[],this.j=new bt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,h),this.cb=fa("retryDelaySeedMs",1e4,h),this.Wa=fa("forwardChannelMaxRetries",2,h),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(h&&h.concurrentRequestLimit),this.Da=new ua,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(h,v,C,j){ct(0),this.W=h,this.H=v||{},C&&j!==void 0&&(this.H.OSID=C,this.H.OAID=j),this.F=this.X,this.I=Su(this,null,this.W),po(this)};function kl(h){if(_u(h),h.G==3){var v=h.U++,C=Pn(h.I);if(it(C,"SID",h.K),it(C,"RID",v),it(C,"TYPE","terminate"),pa(h,C),v=new gn(h,h.j,v),v.L=2,v.v=oa(Pn(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!C&&d.Image&&(new Image().src=v.v,C=!0),C||(v.g=Ru(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ra(v)}Cu(h)}function fo(h){h.g&&(ma(h),h.g.cancel(),h.g=null)}function _u(h){fo(h),h.u&&(d.clearTimeout(h.u),h.u=null),mo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function po(h){if(!ro(h.h)&&!h.s){h.s=!0;var v=h.Ga;le||q(),fe||(le(),fe=!0),Ee.add(v,h),h.B=0}}function nf(h,v){return io(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=He(b(h.Ga,h,v),Bl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new gn(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=T(ie),A(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var v=0,C=0;C<this.i.length;C++){t:{var j=this.i[C];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=C;break e}if(v===4096||C===this.i.length-1){v=C+1;break e}}v=1e3}else v=1e3;v=Eu(this,Z,v),C=Pn(this.I),it(C,"RID",h),it(C,"CVER",22),this.D&&it(C,"X-HTTP-Session-Id",this.D),pa(this,C),ie&&(this.O?v="headers="+encodeURIComponent(String(Nl(ie)))+"&"+v:this.m&&zt(C,this.m,ie)),so(this.h,Z),this.Ua&&it(C,"TYPE","init"),this.P?(it(C,"$req",v),it(C,"SID","null"),Z.T=!0,hr(Z,C,null)):hr(Z,C,v),this.G=2}}else this.G==3&&(h?Pl(this,h):this.i.length==0||ro(this.h)||Pl(this))};function Pl(h,v){var C;v?C=v.l:C=h.U++;const j=Pn(h.I);it(j,"SID",h.K),it(j,"RID",C),it(j,"AID",h.T),pa(h,j),h.m&&h.o&&zt(j,h.m,h.o),C=new gn(h,h.j,C,h.B+1),h.m===null&&(C.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Eu(h,C,1e3),C.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),so(h.h,C),hr(C,j,v)}function pa(h,v){h.H&&U(h.H,function(C,j){it(v,j,C)}),h.l&&Cl({},function(C,j){it(v,j,C)})}function Eu(h,v,C){C=Math.min(h.i.length,C);var j=h.l?b(h.l.Na,h.l,h):null;e:{var Z=h.i;let ie=-1;for(;;){const pe=["count="+C];ie==-1?0<C?(ie=Z[0].g,pe.push("ofs="+ie)):ie=0:pe.push("ofs="+ie);let $e=!0;for(let Mt=0;Mt<C;Mt++){let Ge=Z[Mt].g;const qt=Z[Mt].map;if(Ge-=ie,0>Ge)ie=Math.max(0,Z[Mt].g-100),$e=!1;else try{Mr(qt,pe,"req"+Ge+"_")}catch{j&&j(qt)}}if($e){j=pe.join("&");break e}}}return h=h.i.splice(0,C),v.D=h,j}function wu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;le||q(),fe||(le(),fe=!0),Ee.add(v,h),h.v=0}}function Ol(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=He(b(h.Fa,h),Bl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=He(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),fo(this),Au(this))};function ma(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Au(h){h.g=new gn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Pn(h.qa);it(v,"RID","rpc"),it(v,"SID",h.K),it(v,"AID",h.T),it(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(v,"TO",h.ja),it(v,"TYPE","xmlhttp"),pa(h,v),h.m&&h.o&&zt(v,h.m,h.o),h.L&&(h.g.I=h.L);var C=h.g;h=h.ia,C.L=1,C.v=oa(Pn(v)),C.m=null,C.P=!0,ui(C,h)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),Ol(this),ct(19))};function mo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Tu(h,v){var C=null;if(h.g==v){mo(h),ma(h),h.g=null;var j=2}else if(Al(h.h,v))C=v.D,yn(h.h,v),j=1;else return;if(h.G!=0){if(v.o)if(j==1){C=v.m?v.m.length:0,v=Date.now()-v.F;var Z=h.B;j=ur(),Ue(j,new gt(j,C)),po(h)}else wu(h);else if(Z=v.s,Z==3||Z==0&&0<v.X||!(j==1&&nf(h,v)||j==2&&Ol(h)))switch(C&&0<C.length&&(v=h.h,v.i=v.i.concat(C)),Z){case 1:yi(h,5);break;case 4:yi(h,10);break;case 3:yi(h,6);break;default:yi(h,2)}}}function Bl(h,v){let C=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(C*=2),C*v}function yi(h,v){if(h.j.info("Error code "+v),v==2){var C=b(h.fb,h),j=h.Xa;const Z=!j;j=new Ct(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||aa(j,"https"),oa(j),Z?ca(j.toString(),C):dr(j.toString(),C)}else ct(2);h.G=0,h.l&&h.l.sa(v),Cu(h),_u(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Cu(h){if(h.G=0,h.ka=[],h.l){const v=Tl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Su(h,v,C){var j=C instanceof Ct?Pn(C):new Ct(C);if(j.g!="")v&&(j.g=v+"."+j.g),Zi(j,j.s);else{var Z=d.location;j=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new Ct(null);j&&aa(ie,j),v&&(ie.g=v),Z&&Zi(ie,Z),C&&(ie.l=C),j=ie}return C=h.D,v=h.ya,C&&v&&it(j,C,v),it(j,"VER",h.la),pa(h,j),j}function Ru(h,v,C){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Je(new Ji({eb:C})):new Je(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}n=Du.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(h,v){return new xn(h,v)};function xn(h,v){tt.call(this),this.g=new ho(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!w(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!w(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Vr(this)}N(xn,tt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){kl(this.g)},xn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.u&&(C={},C.__data__=En(h),h=C);v.i.push(new gu(v.Ya++,h)),v.G==3&&po(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,xn.aa.N.call(this)};function Iu(h){$n.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const C in v){h=C;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(Iu,$n);function Nu(){Js.call(this),this.status=1}N(Nu,Js);function Vr(h){this.g=h}N(Vr,Du),Vr.prototype.ua=function(){Ue(this.g,"a")},Vr.prototype.ta=function(h){Ue(this.g,new Iu(h))},Vr.prototype.sa=function(h){Ue(this.g,new Nu)},Vr.prototype.ra=function(){Ue(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,n4=function(){return new go},t4=function(){return ur()},e4=Gn,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,G0=Yi,ci.COMPLETE="complete",JE=ci,Gi.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Sc=Gi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,ZE=Je}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});const N2="@firebase/firestore",k2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new _d("@firebase/firestore");function $o(){return Va.logLevel}function ye(n,...e){if(Va.logLevel<=je.DEBUG){const t=e.map(Ig);Va.debug(`Firestore (${pl}): ${n}`,...t)}}function Vi(n,...e){if(Va.logLevel<=je.ERROR){const t=e.map(Ig);Va.error(`Firestore (${pl}): ${n}`,...t)}}function nl(n,...e){if(Va.logLevel<=je.WARN){const t=e.map(Ig);Va.warn(`Firestore (${pl}): ${n}`,...t)}}function Ig(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,r4(n,i,t)}function r4(n,e,t){let i=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Vi(i),new Error(i)}function et(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||r4(e,a,i)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new i4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class xR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new P2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=_R(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function jm(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return cm(a)===cm(l)?Le(a,l):cm(a)?1:-1}return Le(n.length,e.length)}const ER=55296,wR=57343;function cm(n){const e=n.charCodeAt(0);return e>=ER&&e<=wR}function rl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),a=Qr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):jm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class ht extends Qr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Qr{construct(e,t,i){return new nn(e,t,i)}static isValidIdentifier(e){return AR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O2}static keyField(){return new nn([O2])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ht.fromString(e))}static fromName(e){return new Ae(ht.fromString(e).popFirst(5))}static empty(){return new Ae(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n,e,t){if(!t)throw new ge(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TR(n,e,t,i){if(e===!0&&i===!0)throw new ge(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function B2(n){if(!Ae.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M2(n){if(Ae.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function wd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wd(n);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ru(n,e){if(!a4(n))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ge(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=-62135596800,j2=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*j2);return new Ze(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<F2)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j2}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Nt("string",Ze._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ze(0,0))}static max(){return new Ie(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=-1;function CR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new Ze(t+1,0):new Ze(t,i));return new Ms(a,Ae.empty(),e)}function SR(n){return new Ms(n.readTime,n.key,qc)}class Ms{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ms(Ie.min(),Ae.empty(),qc)}static max(){return new Ms(Ie.max(),Ae.empty(),qc)}}function RR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==DR)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let a=0,l=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++l,u&&l===a&&t()},m=>i(m))}),u=!0,l===a&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(a=>a?ue.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const f=m;t(e[f]).next(x=>{u[f]=x,++d,d===l&&i(u)},x=>a(x))}})}static doWhile(e,t){return new ue((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function NR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function Td(n){return n==null}function Kh(n){return n===0&&1/n==-1/0}function kR(n){return typeof n=="number"&&Number.isInteger(n)&&!Kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="";function PR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=L2(e)),e=OR(n.get(t),e);return L2(e)}function OR(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case o4:t+="";break;default:t+=l}}return t}function L2(n){return n+o4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new M0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new M0(this.root,e,this.comparator,!1)}getReverseIterator(){return new M0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new M0(this.root,e,this.comparator,!0)}}class M0{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new tn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U2(this.data.getIterator())}getIteratorFrom(e){return new U2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class U2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Ut(nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new c4("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(et(!!n,39018),typeof n=="string"){let e=0;const t=BR.exec(n);if(et(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="server_timestamp",h4="__type__",d4="__previous_value__",f4="__local_write_time__";function Pg(n){return(n?.mapValue?.fields||{})[h4]?.stringValue===u4}function Cd(n){const e=n.mapValue.fields[d4];return Pg(e)?Cd(e):e}function Hc(n){const e=Fs(n.mapValue.fields[f4].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t,i,a,l,u,d,m,f,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=x}}const Qh="(default)";class $c{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="__type__",FR="__max__",F0={mapValue:{}},m4="__vector__",Wh="value";function Ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:LR(n)?9007199254740991:jR(n)?10:11:Re(28295,{value:n})}function ni(n,e){if(n===e)return!0;const t=Ls(n);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hc(n).isEqual(Hc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Fs(a.timestampValue),d=Fs(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return js(a.bytesValue).isEqual(js(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=At(a.doubleValue),d=At(l.doubleValue);return u===d?Kh(u)===Kh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return rl(n.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(V2(u)!==V2(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ni(u[m],d[m])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find(t=>ni(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Ls(n),i=Ls(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(l,u){const d=At(l.integerValue||l.doubleValue),m=At(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return z2(n.timestampValue,e.timestampValue);case 4:return z2(Hc(n),Hc(e));case 5:return jm(n.stringValue,e.stringValue);case 6:return function(l,u){const d=js(l),m=js(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),m=u.split("/");for(let f=0;f<d.length&&f<m.length;f++){const x=Le(d[f],m[f]);if(x!==0)return x}return Le(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const d=Le(At(l.latitude),At(u.latitude));return d!==0?d:Le(At(l.longitude),At(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return q2(n.arrayValue,e.arrayValue);case 10:return function(l,u){const d=l.fields||{},m=u.fields||{},f=d[Wh]?.arrayValue,x=m[Wh]?.arrayValue,_=Le(f?.values?.length||0,x?.values?.length||0);return _!==0?_:q2(f,x)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===F0.mapValue&&u===F0.mapValue)return 0;if(l===F0.mapValue)return 1;if(u===F0.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),f=u.fields||{},x=Object.keys(f);m.sort(),x.sort();for(let _=0;_<m.length&&_<x.length;++_){const b=jm(m[_],x[_]);if(b!==0)return b;const D=il(d[m[_]],f[x[_]]);if(D!==0)return D}return Le(m.length,x.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function z2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Fs(n),i=Fs(e),a=Le(t.seconds,i.seconds);return a!==0?a:Le(t.nanos,i.nanos)}function q2(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=il(t[a],i[a]);if(l)return l}return Le(t.length,i.length)}function sl(n){return Lm(n)}function Lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Fs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Lm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Lm(t.fields[u])}`;return a+"}"}(n.mapValue):Re(61005,{value:n})}function K0(n){switch(Ls(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(n);return e?16+K0(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+K0(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Gs(i.fields,(l,u)=>{a+=l.length+K0(u)}),a}(n.mapValue);default:throw Re(13486,{value:n})}}function H2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vm(n){return!!n&&"integerValue"in n}function Og(n){return!!n&&"arrayValue"in n}function $2(n){return!!n&&"nullValue"in n}function G2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Q0(n){return!!n&&"mapValue"in n}function jR(n){return(n?.mapValue?.fields||{})[p4]?.stringValue===m4}function Pc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Gs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Pc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pc(n.arrayValue.values[t]);return e}return{...n}}function LR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Q0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(t)}setAll(e){let t=nn.emptyPath(),i={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}u?i[d.lastSegment()]=Pc(u):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Q0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Q0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Gs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Sn(Pc(this.value))}}function g4(n){const e=[];return Gs(n.fields,(t,i)=>{const a=new nn([t]);if(Q0(i)){const l=g4(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,i,a,l,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Ie.min(),Ie.min(),Ie.min(),Sn.empty(),0)}static newFoundDocument(e,t,i,a){return new hn(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new hn(e,2,t,Ie.min(),Ie.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Ie.min(),Ie.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function K2(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(u.referenceValue),t.key):i=il(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Q2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ni(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function VR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{}class It extends y4{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zR(e,t,i):t==="array-contains"?new $R(e,i):t==="in"?new GR(e,i):t==="not-in"?new KR(e,i):t==="array-contains-any"?new QR(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new qR(e,i):new HR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Ls(this.value)===Ls(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends y4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _r(e,t)}matches(e){return x4(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x4(n){return n.op==="and"}function v4(n){return UR(n)&&x4(n)}function UR(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Um(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(v4(n))return n.filters.map(e=>Um(e)).join(",");{const e=n.filters.map(t=>Um(t)).join(",");return`${n.op}(${e})`}}function b4(n,e){return n instanceof It?function(i,a){return a instanceof It&&i.op===a.op&&i.field.isEqual(a.field)&&ni(i.value,a.value)}(n,e):n instanceof _r?function(i,a){return a instanceof _r&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,d)=>l&&b4(u,a.filters[d]),!0):!1}(n,e):void Re(19439)}function _4(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(_4).join(" ,")+"}"}(n):"Filter"}class zR extends It{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class qR extends It{constructor(e,t){super(e,"in",t),this.keys=E4("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HR extends It{constructor(e,t){super(e,"not-in",t),this.keys=E4("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function E4(n,e){return(e.arrayValue?.values||[]).map(t=>Ae.fromName(t.referenceValue))}class $R extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Og(t)&&Gc(t.arrayValue,this.value)}}class GR extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class KR extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class QR extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function W2(n,e=null,t=[],i=[],a=null,l=null,u=null){return new WR(n,e,t,i,a,l,u)}function Bg(n){const e=Ne(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Um(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sl(i)).join(",")),e.Te=t}return e.Te}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Q2(n.startAt,e.startAt)&&Q2(n.endAt,e.endAt)}function zm(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YR(n,e,t,i,a,l,u,d){return new yl(n,e,t,i,a,l,u,d)}function Fg(n){return new yl(n)}function Y2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w4(n){return n.collectionGroup!==null}function Oc(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ut(nn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(f=>{f.isInequality()&&(d=d.add(f.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Kc(l,i))}),t.has(nn.keyField().canonicalString())||e.Ie.push(new Kc(nn.keyField(),i))}return e.Ie}function Yr(n){const e=Ne(n);return e.Ee||(e.Ee=XR(e,Oc(n))),e.Ee}function XR(n,e){if(n.limitType==="F")return W2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Kc(a.field,l)});const t=n.endAt?new Yh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yh(n.startAt.position,n.startAt.inclusive):null;return W2(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function qm(n,e){const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hm(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sd(n,e){return Mg(Yr(n),Yr(e))&&n.limitType===e.limitType}function A4(n){return`${Bg(Yr(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>_4(a)).join(", ")}]`),Td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>sl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>sl(a)).join(",")),`Target(${i})`}(Yr(n))}; limitType=${n.limitType})`}function Rd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,d,m){const f=K2(u,d,m);return u.inclusive?f<=0:f<0}(i.startAt,Oc(i),a)||i.endAt&&!function(u,d,m){const f=K2(u,d,m);return u.inclusive?f>=0:f>0}(i.endAt,Oc(i),a))}(n,e)}function ZR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T4(n){return(e,t)=>{let i=!1;for(const a of Oc(n)){const l=JR(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function JR(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,u,d){const m=u.data.field(l),f=d.data.field(l);return m!==null&&f!==null?il(m,f):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return l4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new mt(Ae.comparator);function zi(){return e9}const C4=new mt(Ae.comparator);function Rc(...n){let e=C4;for(const t of n)e=e.insert(t.key,t);return e}function S4(n){let e=C4;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Oa(){return Bc()}function R4(){return Bc()}function Bc(){return new Ya(n=>n.toString(),(n,e)=>n.isEqual(e))}const t9=new mt(Ae.comparator),n9=new Ut(Ae.comparator);function Ve(...n){let e=n9;for(const t of n)e=e.add(t);return e}const r9=new Ut(Le);function i9(){return r9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function D4(n){return{integerValue:""+n}}function s9(n,e){return kR(e)?D4(e):jg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function a9(n,e,t){return n instanceof Xh?function(a,l){const u={fields:{[h4]:{stringValue:u4},[f4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Pg(l)&&(l=Cd(l)),l&&(u.fields[d4]=l),{mapValue:u}}(t,e):n instanceof Qc?N4(n,e):n instanceof Wc?k4(n,e):function(a,l){const u=I4(a,l),d=X2(u)+X2(a.Ae);return Vm(u)&&Vm(a.Ae)?D4(d):jg(a.serializer,d)}(n,e)}function o9(n,e,t){return n instanceof Qc?N4(n,e):n instanceof Wc?k4(n,e):t}function I4(n,e){return n instanceof Zh?function(i){return Vm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Xh extends Dd{}class Qc extends Dd{constructor(e){super(),this.elements=e}}function N4(n,e){const t=P4(e);for(const i of n.elements)t.some(a=>ni(a,i))||t.push(i);return{arrayValue:{values:t}}}class Wc extends Dd{constructor(e){super(),this.elements=e}}function k4(n,e){let t=P4(e);for(const i of n.elements)t=t.filter(a=>!ni(a,i));return{arrayValue:{values:t}}}class Zh extends Dd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function X2(n){return At(n.integerValue||n.doubleValue)}function P4(n){return Og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function l9(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Qc&&a instanceof Qc||i instanceof Wc&&a instanceof Wc?rl(i.elements,a.elements,ni):i instanceof Zh&&a instanceof Zh?ni(i.Ae,a.Ae):i instanceof Xh&&a instanceof Xh}(n.transform,e.transform)}class c9{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Id{}function O4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Lg(n.key,xr.none()):new iu(n.key,n.data,xr.none());{const t=n.data,i=Sn.empty();let a=new Ut(nn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ks(n.key,i,new Un(a.toArray()),xr.none())}}function u9(n,e,t){n instanceof iu?function(a,l,u){const d=a.value.clone(),m=J2(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(a,l,u){if(!W0(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=J2(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(B4(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Mc(n,e,t,i){return n instanceof iu?function(l,u,d,m){if(!W0(l.precondition,u))return d;const f=l.value.clone(),x=eb(l.fieldTransforms,m,u);return f.setAll(x),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ks?function(l,u,d,m){if(!W0(l.precondition,u))return d;const f=eb(l.fieldTransforms,m,u),x=u.data;return x.setAll(B4(l)),x.setAll(f),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,u,d){return W0(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function h9(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=I4(i.transform,a||null);l!=null&&(t===null&&(t=Sn.empty()),t.set(i.field,l))}return t||null}function Z2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&rl(i,a,(l,u)=>l9(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class iu extends Id{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ks extends Id{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function J2(n,e,t){const i=new Map;et(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,o9(u,d,t[a]))}return i}function eb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,a9(l,u,e))}return i}class Lg extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d9 extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&u9(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=R4();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(a.key)?null:d;const m=O4(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,i)=>Z2(t,i))&&rl(this.baseMutations,e.baseMutations,(t,i)=>Z2(t,i))}}class Vg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){et(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return t9}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Vg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Qe;function g9(n){switch(n){case oe.OK:return Re(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function M4(n){if(n===void 0)return Vi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Dt.OK:return oe.OK;case Dt.CANCELLED:return oe.CANCELLED;case Dt.UNKNOWN:return oe.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return oe.INTERNAL;case Dt.UNAVAILABLE:return oe.UNAVAILABLE;case Dt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dt.NOT_FOUND:return oe.NOT_FOUND;case Dt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dt.ABORTED:return oe.ABORTED;case Dt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dt.DATA_LOSS:return oe.DATA_LOSS;default:return Re(39323,{code:n})}}(Qe=Dt||(Dt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new ks([4294967295,4294967295],0);function tb(n){const e=y9().encode(n),t=new XE;return t.update(e),new Uint8Array(t.digest())}function nb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([t,i],0),new ks([a,l],0)]}class Ug{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Dc(`Invalid padding: ${t}`);if(i<0)throw new Dc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(ks.fromNumber(i)));return a.compare(x9)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=tb(e),[i,a]=nb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ug(l,a,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=tb(e),[i,a]=nb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Nd(Ie.min(),a,new mt(Le),zi(),Ve())}}class su{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new su(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class F4{constructor(e,t){this.targetId=e,this.Ce=t}}class j4{constructor(e,t,i=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class rb{constructor(){this.ve=0,this.Fe=ib(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}}),new su(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=ib()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v9{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=j0(),this.He=j0(),this.Ye=new mt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(zm(l))if(i===0){const u=new Ae(l.path);this.et(t,u,hn.newNoDocument(u,Ie.min()))}else et(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(t);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,d;try{u=js(i).toUint8Array()}catch(m){if(m instanceof c4)return nl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ug(u,a,l)}catch(m){return nl(m instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const d=this.ot(u);if(d){if(l.current&&zm(d.target)){const m=new Ae(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let i=Ve();this.He.forEach((l,u)=>{let d=!0;u.forEachWhile(m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const a=new Nd(e,t,this.Ye,this.je,i);return this.je=zi(),this.Je=j0(),this.He=j0(),this.Ye=new mt(Le),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new rb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ut(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ut(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function j0(){return new mt(Ae.comparator)}function ib(){return new mt(Ae.comparator)}const b9={asc:"ASCENDING",desc:"DESCENDING"},_9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E9={and:"AND",or:"OR"};class w9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $m(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A9(n,e){return Jh(n,e.toTimestamp())}function Xr(n){return et(!!n,49232),Ie.fromTimestamp(function(t){const i=Fs(t);return new Ze(i.seconds,i.nanos)}(n))}function zg(n,e){return Gm(n,e).canonicalString()}function Gm(n,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function V4(n){const e=ht.fromString(n);return et($4(e),10190,{key:e.toString()}),e}function Km(n,e){return zg(n.databaseId,e.path)}function um(n,e){const t=V4(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(z4(t))}function U4(n,e){return zg(n.databaseId,e)}function T9(n){const e=V4(n);return e.length===4?ht.emptyPath():z4(e)}function Qm(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z4(n){return et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sb(n,e,t){return{name:Km(n,e),fields:t.value.mapValue.fields}}function C9(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(f,x){return f.useProto3Json?(et(x===void 0||typeof x=="string",58123),rn.fromBase64String(x||"")):(et(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),rn.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(f){const x=f.code===void 0?oe.UNKNOWN:M4(f.code);return new ge(x,f.message||"")}(u);t=new j4(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=um(n,i.document.name),l=Xr(i.document.updateTime),u=i.document.createTime?Xr(i.document.createTime):Ie.min(),d=new Sn({mapValue:{fields:i.document.fields}}),m=hn.newFoundDocument(a,l,u,d),f=i.targetIds||[],x=i.removedTargetIds||[];t=new Y0(f,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=um(n,i.document),l=i.readTime?Xr(i.readTime):Ie.min(),u=hn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Y0([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=um(n,i.document),l=i.removedTargetIds||[];t=new Y0([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new m9(a,l),d=i.targetId;t=new F4(d,u)}}return t}function S9(n,e){let t;if(e instanceof iu)t={update:sb(n,e.key,e.value)};else if(e instanceof Lg)t={delete:Km(n,e.key)};else if(e instanceof Ks)t={update:sb(n,e.key,e.data),updateMask:M9(e.fieldMask)};else{if(!(e instanceof d9))return Re(16599,{Vt:e.type});t={verify:Km(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const d=u.transform;if(d instanceof Xh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:A9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(n,e.precondition)),t}function R9(n,e){return n&&n.length>0?(et(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?Xr(a.updateTime):Xr(l);return u.isEqual(Ie.min())&&(u=Xr(l)),new c9(u,a.transformResults||[])}(t,e))):[]}function D9(n,e){return{documents:[U4(n,e.path)]}}function I9(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=U4(n,a);const l=function(f){if(f.length!==0)return H4(_r.create(f,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(f){if(f.length!==0)return f.map(x=>function(b){return{field:Ko(b.field),direction:P9(b.dir)}}(x))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=$m(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:t,parent:a}}function N9(n){let e=T9(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){et(i===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(_){const b=q4(_);return b instanceof _r&&v4(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(b=>function(N){return new Kc(Qo(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,Td(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(_){const b=!!_.before,D=_.values||[];return new Yh(D,b)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const b=!_.before,D=_.values||[];return new Yh(D,b)}(t.endAt)),YR(e,a,u,l,d,"F",m,f)}function k9(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function q4(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Qo(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Qo(t.unaryFilter.field);return It.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(Qo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>q4(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function P9(n){return b9[n]}function O9(n){return _9[n]}function B9(n){return E9[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Qo(n){return nn.fromServerFormat(n.fieldPath)}function H4(n){return n instanceof It?function(t){if(t.op==="=="){if(G2(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if($2(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(G2(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if($2(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:O9(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(a=>H4(a));return i.length===1?i[0]:{compositeFilter:{op:B9(t.op),filters:i}}}(n):Re(54877,{filter:n})}function M9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,i,a,l=Ie.min(),u=Ie.min(),d=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.yt=e}}function j9(n){const e=N9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.Cn=new V9}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ms.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class V9{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ut(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ut(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G4=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(G4,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",U9=1048576;function lb([n,e],[t,i]){const a=Le(n,t);return a===0?Le(e,i):a}class z9{constructor(e){this.Ir=e,this.buffer=new Ut(lb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class q9{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(ob,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?ye(ob,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Vr(3e5)})}}class H9{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Ad.ce);const i=new z9(t);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ab)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,u,d,m,f;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(f=Date.now(),$o()<=je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(f-m)+`ms
Total Duration: ${f-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function $9(n,e){return new H9(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.changes=new Ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Mc(i.mutation,a,Un.empty(),Ze.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const a=Oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=Rc();return l.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,a){let l=zi();const u=Bc(),d=function(){return Bc()}();return t.forEach((m,f)=>{const x=i.get(f.key);a.has(f.key)&&(x===void 0||x.mutation instanceof Ks)?l=l.insert(f.key,f):x!==void 0?(u.set(f.key,x.mutation.getFieldMask()),Mc(x.mutation,f,x.mutation.getFieldMask(),Ze.now())):u.set(f.key,Un.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((f,x)=>u.set(f,x)),t.forEach((f,x)=>d.set(f,new K9(x,u.get(f)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Bc();let a=new mt((u,d)=>u-d),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(m=>{const f=t.get(m);if(f===null)return;let x=i.get(m)||Un.empty();x=d.applyToLocalView(f,x),i.set(m,x);const _=(a.get(d.batchId)||Ve()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),f=m.key,x=m.value,_=R4();x.forEach(b=>{if(!l.has(b)){const D=O4(t.get(b),i.get(b));D!==null&&_.set(b,D),l=l.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ue.resolve(Oa());let d=qc,m=l;return u.next(f=>ue.forEach(f,(x,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(e,x).next(b=>{m=m.insert(x,b)}))).next(()=>this.populateOverlays(e,f,l)).next(()=>this.computeViews(e,m,f,Ve())).next(x=>({batchId:d,changes:S4(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let a=Rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,l).next(d=>ue.forEach(d,m=>{const f=function(_,b){return new yl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,i,a).next(x=>{x.forEach((_,b)=>{u=u.insert(_,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((m,f)=>{const x=f.getKey();u.get(x)===null&&(u=u.insert(x,hn.newInvalidDocument(x)))});let d=Rc();return u.forEach((m,f)=>{const x=l.get(m);x!==void 0&&Mc(x.mutation,f,Un.empty(),Ze.now()),Rd(t,f)&&(d=d.insert(m,f))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Xr(a.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:j9(a.bundledQuery),readTime:Xr(a.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.overlays=new mt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oa();return ue.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const a=Oa(),l=t.length+1,u=new Ae(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,f=m.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new mt((f,x)=>f-x);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let x=l.get(f.largestBatchId);x===null&&(x=Oa(),l=l.insert(f.largestBatchId,x)),x.set(f.getKey(),f)}}const d=Oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((f,x)=>d.set(f,x)),!(d.size()>=a)););return ue.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new p9(t,i));let l=this.qr.get(t);l===void 0&&(l=Ve(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Qr=new Ut(Kt.$r),this.Ur=new Ut(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new Ae(new ht([])),i=new Kt(t,e),a=new Kt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ht([])),i=new Kt(t,e),a=new Kt(t,e+1);let l=Ve();return this.Ur.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Kt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Kt.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new f9(l,t,i,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?kg:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),a=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],u=>{const d=this.Xr(u.Yr);l.push(d)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Le);return t.forEach(a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],d=>{i=i.add(d.Yr)})}),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new Ae(l),0);let d=new Ut(Le);return this.Zr.forEachWhile(m=>{const f=m.key.path;return!!i.isPrefixOf(f)&&(f.length===a&&(d=d.add(m.Yr)),!0)},u),ue.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){et(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(t.mutations,a=>{const l=new Kt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Kt(t,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.ri=e,this.docs=function(){return new mt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=zi();const u=t.path,d=new Ae(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:f,value:{document:x}}=m.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||RR(SR(x),i)<=0||(a.has(x.key)||Rd(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Re(9500)}ii(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eD(this)}getSize(e){return ue.resolve(this.size)}}class eD extends G9{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.persistence=e,this.si=new Ya(t=>Bg(t),Mg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,t){return this.si.forEach((i,a)=>t(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new al(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ad(0),this.li=!1,this.li=!0,this.hi=new X9,this.referenceDelegate=e(this),this.Pi=new tD(this),this.indexManager=new L9,this.remoteDocumentCache=function(a){return new J9(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new F9(t),this.Ii=new W9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Z9(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const a=new nD(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ue.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class nD extends IR{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Hg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,i=>{const a=Ae.fromPath(i);return this.gi(e,a).next(l=>{l||t.removeEntry(a,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ed{constructor(e,t){this.persistence=e,this.pi=new Ya(i=>PR(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=$9(this,t)}static mi(e,t){return new ed(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return ue.forEach(this.pi,(i,a)=>this.br(e,i,a).next(l=>l?ue.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,t).next(d=>{d||(i++,l.removeEntry(u,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=K0(e.data.value)),t}br(e,t,i){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ve(),a=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new $g(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WS()?8:NR(dn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new rD;return this.Ss(e,t,u).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>l.result)}bs(e,t,i,a){return i.documentReadCount<this.fs?($o()<=je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):($o()<=je.DEBUG&&ye("QueryEngine","Query:",Go(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?($o()<=je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(t))):ue.resolve())}ys(e,t){if(Y2(t))return ue.resolve(null);let i=Yr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Hm(t,null,"F"),i=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Ve(...l);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const f=this.Ds(t,d);return this.Cs(t,f,u,m.readTime)?this.ys(e,Hm(t,null,"F")):this.vs(e,f,t,m)}))})))}ws(e,t,i,a){return Y2(t)||a.isEqual(Ie.min())?ue.resolve(null):this.ps.getDocuments(e,i).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,i,a)?ue.resolve(null):($o()<=je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(t)),this.vs(e,u,t,CR(a,qc)).next(d=>d))})}Ds(e,t){let i=new Ut(T4(e));return t.forEach((a,l)=>{Rd(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return $o()<=je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ps.getDocumentsMatchingQuery(e,t,Ms.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",sD=3e8;class aD{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new mt(Le),this.xs=new Ya(l=>Bg(l),Mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function oD(n,e,t,i){return new aD(n,e,t,i)}async function Q4(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],d=[];let m=Ve();for(const f of a){u.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}for(const f of l){d.push(f.batchId);for(const x of f.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(i,m).next(f=>({Ls:f,removedBatchIds:u,addedBatchIds:d}))})})}function lD(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,f,x){const _=f.batch,b=_.keys();let D=ue.resolve();return b.forEach(N=>{D=D.next(()=>x.getEntry(m,N)).next(B=>{const k=f.docVersions.get(N);et(k!==null,48541),B.version.compareTo(k)<0&&(_.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),x.addEntry(B)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Ve();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(m=m.add(d.batch.mutations[f].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function W4(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function cD(n,e){const t=Ne(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach((x,_)=>{const b=a.get(_);if(!b)return;d.push(t.Pi.removeMatchingKeys(l,x.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(l,x.addedDocuments,_)));let D=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(rn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,i)),a=a.insert(_,D),function(B,k,L){return B.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=sD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(b,D,x)&&d.push(t.Pi.updateTargetData(l,D))});let m=zi(),f=Ve();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),d.push(uD(l,u,e.documentUpdates).next(x=>{m=x.ks,f=x.qs})),!i.isEqual(Ie.min())){const x=t.Pi.getLastRemoteSnapshotVersion(l).next(_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(x)}return ue.waitFor(d).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,f)).next(()=>m)}).then(l=>(t.Ms=a,l))}function uD(n,e,t){let i=Ve(),a=Ve();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=zi();return t.forEach((d,m)=>{const f=l.get(d);m.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):ye(Gg,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",m.version)}),{ks:u,qs:a}})}function hD(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=kg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function dD(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Pi.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(i).next(u=>(a=new Rs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Wm(n,e,t){const i=Ne(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!gl(u))throw u;ye(Gg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function cb(n,e,t){const i=Ne(n);let a=Ie.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",u=>function(m,f,x){const _=Ne(m),b=_.xs.get(x);return b!==void 0?ue.resolve(_.Ms.get(b)):_.Pi.getTargetData(f,x)}(i,u,Yr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next(m=>{l=m})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:Ie.min(),t?l:Ve())).next(d=>(fD(i,ZR(e),d),{documents:d,Qs:l})))}function fD(n,e,t){let i=n.Os.get(e)||Ie.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class ub{constructor(){this.activeTargetIds=i9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pD{constructor(){this.Mo=new ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ub,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="ConnectivityMonitor";class db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(hb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0=null;function Ym(){return L0===null?L0=function(){return 268435456+Math.round(2147483648*Math.random())}():L0++,"0x"+L0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",gD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Qh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const u=Ym(),d=this.zo(e,t.toUriEncodedString());ye(hm,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:f}=new URL(d),x=Ka(f);return this.Jo(e,d,m,i,x).then(_=>(ye(hm,`Received RPC '${e}' ${u}: `,_),_),_=>{throw nl(hm,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",i),_})}Ho(e,t,i,a,l,u){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const i=gD[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class vD extends yD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=Ym();return new Promise((d,m)=>{const f=new ZE;f.setWithCredentials(!0),f.listenOnce(JE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case G0.NO_ERROR:const _=f.getResponseJson();ye(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case G0.TIMEOUT:ye(cn,`RPC '${e}' ${u} timed out`),m(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case G0.HTTP_ERROR:const b=f.getStatus();if(ye(cn,`RPC '${e}' ${u} failed with status:`,b,"response text:",f.getResponseText()),b>0){let D=f.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const B=function(L){const w=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(w)>=0?w:oe.UNKNOWN}(N.status);m(new ge(B,N.message))}else m(new ge(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ye(cn,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(a);ye(cn,`RPC '${e}' ${u} sending request:`,a),f.send(t,"POST",x,i,15)})}T_(e,t,i){const a=Ym(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=n4(),d=t4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const x=l.join("");ye(cn,`Creating RPC '${e}' stream ${a}: ${x}`,m);const _=u.createWebChannel(x,m);this.I_(_);let b=!1,D=!1;const N=new xD({Yo:k=>{D?ye(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(ye(cn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),ye(cn,`RPC '${e}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),B=(k,L,w)=>{k.listen(L,S=>{try{w(S)}catch(V){setTimeout(()=>{throw V},0)}})};return B(_,Sc.EventType.OPEN,()=>{D||(ye(cn,`RPC '${e}' stream ${a} transport opened.`),N.o_())}),B(_,Sc.EventType.CLOSE,()=>{D||(D=!0,ye(cn,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(_))}),B(_,Sc.EventType.ERROR,k=>{D||(D=!0,nl(cn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),N.a_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))}),B(_,Sc.EventType.MESSAGE,k=>{if(!D){const L=k.data[0];et(!!L,16349);const w=L,S=w?.error||w[0]?.error;if(S){ye(cn,`RPC '${e}' stream ${a} received error:`,S);const V=S.status;let z=function(T){const E=Dt[T];if(E!==void 0)return M4(E)}(V),U=S.message;z===void 0&&(z=oe.INTERNAL,U="Unknown error status: "+V+" with message "+S.message),D=!0,N.a_(new ge(z,U)),_.close()}else ye(cn,`RPC '${e}' stream ${a} received:`,L),N.u_(L)}}),B(d,e4.STAT_EVENT,k=>{k.stat===Fm.PROXY?ye(cn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Fm.NOPROXY&&ye(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){return new w9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="PersistentStream";class X4{constructor(e,t,i,a,l,u,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===t&&this.G_(i,a)},i=>{e(()=>{const a=new ge(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(fb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bD extends X4{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=C9(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Xr(u.readTime):Ie.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Qm(this.serializer),t.addTarget=function(l,u){let d;const m=u.target;if(d=zm(m)?{documents:D9(l,m)}:{query:I9(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=L4(l,u.resumeToken);const f=$m(l,u.expectedCount);f!==null&&(d.expectedCount=f)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Jh(l,u.snapshotVersion.toTimestamp());const f=$m(l,u.expectedCount);f!==null&&(d.expectedCount=f)}return d}(this.serializer,e);const i=k9(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Qm(this.serializer),t.removeTarget=e,this.q_(t)}}class _D extends X4{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=R9(e.writeResults,e.commitTime),i=Xr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>S9(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{}class wD extends ED{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,Gm(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(oe.UNKNOWN,l.toString())})}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,Gm(t,i),a,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(oe.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class AD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class TD{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{Xa(this)&&(ye(Ua,"Restarting streams for network reachability change."),await async function(m){const f=Ne(m);f.Ea.add(4),await au(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Pd(f)}(this))})}),this.Ra=new AD(i,a)}}async function Pd(n){if(Xa(n))for(const e of n.da)await e(!0)}async function au(n){for(const e of n.da)await e(!1)}function Z4(n,e){const t=Ne(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Yg(t)?Wg(t):xl(t).O_()&&Qg(t,e))}function Kg(n,e){const t=Ne(n),i=xl(t);t.Ia.delete(e),i.O_()&&J4(t,e),t.Ia.size===0&&(i.O_()?i.L_():Xa(t)&&t.Ra.set("Unknown"))}function Qg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xl(n).Y_(e)}function J4(n,e){n.Va.Ue(e),xl(n).Z_(e)}function Wg(n){n.Va=new v9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xl(n).start(),n.Ra.ua()}function Yg(n){return Xa(n)&&!xl(n).x_()&&n.Ia.size>0}function Xa(n){return Ne(n).Ea.size===0}function e5(n){n.Va=void 0}async function CD(n){n.Ra.set("Online")}async function SD(n){n.Ia.forEach((e,t)=>{Qg(n,e)})}async function RD(n,e){e5(n),Yg(n)?(n.Ra.ha(e),Wg(n)):n.Ra.set("Unknown")}async function DD(n,e,t){if(n.Ra.set("Online"),e instanceof j4&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))}(n,e)}catch(i){ye(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await td(n,i)}else if(e instanceof Y0?n.Va.Ze(e):e instanceof F4?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const i=await W4(n.localStore);t.compareTo(i)>=0&&await function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(f);x&&l.Ia.set(f,x.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,f)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(rn.EMPTY_BYTE_STRING,x.snapshotVersion)),J4(l,m);const _=new Rs(x.target,m,f,x.sequenceNumber);Qg(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ye(Ua,"Failed to raise snapshot:",i),await td(n,i)}}async function td(n,e,t){if(!gl(e))throw e;n.Ea.add(1),await au(n),n.Ra.set("Offline"),t||(t=()=>W4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Ua,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pd(n)})}function t5(n,e){return e().catch(t=>td(n,t,e))}async function Od(n){const e=Ne(n),t=Vs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kg;for(;ID(e);)try{const a=await hD(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,ND(e,a)}catch(a){await td(e,a)}n5(e)&&r5(e)}function ID(n){return Xa(n)&&n.Ta.length<10}function ND(n,e){n.Ta.push(e);const t=Vs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function n5(n){return Xa(n)&&!Vs(n).x_()&&n.Ta.length>0}function r5(n){Vs(n).start()}async function kD(n){Vs(n).ra()}async function PD(n){const e=Vs(n);for(const t of n.Ta)e.ea(t.mutations)}async function OD(n,e,t){const i=n.Ta.shift(),a=Vg.from(i,e,t);await t5(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Od(n)}async function BD(n,e){e&&Vs(n).X_&&await async function(i,a){if(function(u){return g9(u)&&u!==oe.ABORTED}(a.code)){const l=i.Ta.shift();Vs(i).B_(),await t5(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Od(i)}}(n,e),n5(n)&&r5(n)}async function pb(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ye(Ua,"RemoteStore received new credentials");const i=Xa(t);t.Ea.add(3),await au(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pd(t)}async function MD(n,e){const t=Ne(n);e?(t.Ea.delete(2),await Pd(t)):e||(t.Ea.add(2),await au(t),t.Ra.set("Unknown"))}function xl(n){return n.ma||(n.ma=function(t,i,a){const l=Ne(t);return l.sa(),new bD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:CD.bind(null,n),t_:SD.bind(null,n),r_:RD.bind(null,n),H_:DD.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Yg(n)?Wg(n):n.Ra.set("Unknown")):(await n.ma.stop(),e5(n))})),n.ma}function Vs(n){return n.fa||(n.fa=function(t,i,a){const l=Ne(t);return l.sa(),new _D(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kD.bind(null,n),r_:BD.bind(null,n),ta:PD.bind(null,n),na:OD.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Od(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Ua,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,d=new Xg(e,t,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),gl(n))return new ge(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=Rc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.ga=new mt(Ae.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class ol{constructor(e,t,i,a,l,u,d,m,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ol(e,t,Yo.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class jD{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ne(t),l=a.queries;a.queries=gb(),l.forEach((u,d)=>{for(const m of d.Sa)m.onError(i)})})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function gb(){return new Ya(n=>A4(n),Sd)}async function i5(n,e){const t=Ne(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new FD,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=Zg(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Jg(t)}async function s5(n,e){const t=Ne(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function LD(n,e){const t=Ne(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(i=!0);u.wa=a}}i&&Jg(t)}function VD(n,e,t){const i=Ne(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Jg(n){n.Ca.forEach(e=>{e.next()})}var Xm,yb;(yb=Xm||(Xm={})).Ma="default",yb.Cache="cache";class a5{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.key=e}}class l5{constructor(e){this.key=e}}class UD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=T4(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new mb,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,_)=>{const b=a.get(x),D=Rd(this.query,_)?_:null,N=!!b&&this.mutatedKeys.has(b.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;b&&D?b.data.isEqual(D.data)?N!==B&&(i.track({type:3,doc:D}),k=!0):this.su(b,D)||(i.track({type:2,doc:D}),k=!0,(m&&this.eu(D,m)>0||f&&this.eu(D,f)<0)&&(d=!0)):!b&&D?(i.track({type:0,doc:D}),k=!0):b&&!D&&(i.track({type:1,doc:b}),k=!0,(m||f)&&(d=!0)),k&&(D?(u=u.add(D),l=B?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((x,_)=>function(D,N){const B=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:k})}};return B(D)-B(N)}(x.type,_.type)||this.eu(x.doc,_.doc)),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,f=m!==this.Za;return this.Za=m,u.length!==0||f?{snapshot:new ol(this.query,e.tu,l,u,e.mutatedKeys,m===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new l5(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new o5(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const e1="SyncEngine";class zD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class qD{constructor(e){this.key=e,this.hu=!1}}class HD{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ya(d=>A4(d),Sd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Ae.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $D(n,e,t=!0){const i=p5(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await c5(i,e,t,!0),a}async function GD(n,e){const t=p5(n);await c5(t,e,!0,!1)}async function c5(n,e,t,i){const a=await dD(n.localStore,Yr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await KD(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&Z4(n.remoteStore,a),d}async function KD(n,e,t,i,a){n.pu=(_,b,D)=>async function(B,k,L,w){let S=k.view.ru(L);S.Cs&&(S=await cb(B.localStore,k.query,!1).then(({documents:I})=>k.view.ru(I,S)));const V=w&&w.targetChanges.get(k.targetId),z=w&&w.targetMismatches.get(k.targetId)!=null,U=k.view.applyChanges(S,B.isPrimaryClient,V,z);return vb(B,k.targetId,U.au),U.snapshot}(n,_,b,D);const l=await cb(n.localStore,e,!0),u=new UD(e,l.Qs),d=u.ru(l.documents),m=su.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),f=u.applyChanges(d,n.isPrimaryClient,m);vb(n,t,f.au);const x=new zD(e,t,u);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function QD(n,e,t){const i=Ne(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(u=>!Sd(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Wm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Kg(i.remoteStore,a.targetId),Zm(i,a.targetId)}).catch(ml)):(Zm(i,a.targetId),await Wm(i.localStore,a.targetId,!0))}async function WD(n,e){const t=Ne(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Kg(t.remoteStore,i.targetId))}async function YD(n,e,t){const i=r7(n);try{const a=await function(u,d){const m=Ne(u),f=Ze.now(),x=d.reduce((D,N)=>D.add(N.key),Ve());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=zi(),B=Ve();return m.Ns.getEntries(D,x).next(k=>{N=k,N.forEach((L,w)=>{w.isValidDocument()||(B=B.add(L))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,N)).next(k=>{_=k;const L=[];for(const w of d){const S=h9(w,_.get(w.key).overlayedDocument);S!=null&&L.push(new Ks(w.key,S,g4(S.value.mapValue),xr.exists(!0)))}return m.mutationQueue.addMutationBatch(D,f,L,d)}).next(k=>{b=k;const L=k.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(D,k.batchId,L)})}).then(()=>({batchId:b.batchId,changes:S4(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,d,m){let f=u.Vu[u.currentUser.toKey()];f||(f=new mt(Le)),f=f.insert(d,m),u.Vu[u.currentUser.toKey()]=f}(i,a.batchId,t),await ou(i,a.changes),await Od(i.remoteStore)}catch(a){const l=Zg(a,"Failed to persist write");t.reject(l)}}async function u5(n,e){const t=Ne(n);try{const i=await cD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Au.get(l);u&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?et(u.hu,14607):a.removedDocuments.size>0&&(et(u.hu,42227),u.hu=!1))}),await ou(t,i,e)}catch(i){await ml(i)}}function xb(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const m=Ne(u);m.onlineState=d;let f=!1;m.queries.forEach((x,_)=>{for(const b of _.Sa)b.va(d)&&(f=!0)}),f&&Jg(m)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function XD(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new mt(Ae.comparator);u=u.insert(l,hn.newNoDocument(l,Ie.min()));const d=Ve().add(l),m=new Nd(Ie.min(),new Map,new mt(Le),u,d);await u5(i,m),i.du=i.du.remove(l),i.Au.delete(e),t1(i)}else await Wm(i.localStore,e,!1).then(()=>Zm(i,e,t)).catch(ml)}async function ZD(n,e){const t=Ne(n),i=e.batch.batchId;try{const a=await lD(t.localStore,e);d5(t,i,null),h5(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ou(t,a)}catch(a){await ml(a)}}async function JD(n,e,t){const i=Ne(n);try{const a=await function(u,d){const m=Ne(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let x;return m.mutationQueue.lookupMutationBatch(f,d).next(_=>(et(_!==null,37113),x=_.keys(),m.mutationQueue.removeMutationBatch(f,_))).next(()=>m.mutationQueue.performConsistencyCheck(f)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(f,x,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,x)).next(()=>m.localDocuments.getDocuments(f,x))})}(i.localStore,e);d5(i,e,t),h5(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ou(i,a)}catch(a){await ml(a)}}function h5(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function d5(n,e,t){const i=Ne(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||f5(n,i)})}function f5(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Kg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),t1(n))}function vb(n,e,t){for(const i of t)i instanceof o5?(n.Ru.addReference(i.key,e),e7(n,i)):i instanceof l5?(ye(e1,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||f5(n,i.key)):Re(19791,{wu:i})}function e7(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ye(e1,"New document in limbo: "+t),n.Eu.add(i),t1(n))}function t1(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ht.fromString(e)),i=n.fu.next();n.Au.set(i,new qD(t)),n.du=n.du.insert(t,i),Z4(n.remoteStore,new Rs(Yr(Fg(t.path)),i,"TargetPurposeLimboResolution",Ad.ce))}}async function ou(n,e,t){const i=Ne(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((d,m)=>{u.push(i.pu(m,e,t).then(f=>{if((f||t)&&i.isPrimaryClient){const x=f?!f.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(f){a.push(f);const x=$g.As(m.targetId,f);l.push(x)}}))}),await Promise.all(u),i.Pu.H_(a),await async function(m,f){const x=Ne(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(f,b=>ue.forEach(b.Es,D=>x.persistence.referenceDelegate.addReference(_,b.targetId,D)).next(()=>ue.forEach(b.ds,D=>x.persistence.referenceDelegate.removeReference(_,b.targetId,D)))))}catch(_){if(!gl(_))throw _;ye(Gg,"Failed to update sequence numbers: "+_)}for(const _ of f){const b=_.targetId;if(!_.fromCache){const D=x.Ms.get(b),N=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(N);x.Ms=x.Ms.insert(b,B)}}}(i.localStore,l))}async function t7(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ye(e1,"User change. New user:",e.toKey());const i=await Q4(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new ge(oe.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ou(t,i.Ls)}}function n7(n,e){const t=Ne(n),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let a=Ve();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const d=t.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function p5(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=u5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XD.bind(null,e),e.Pu.H_=LD.bind(null,e.eventManager),e.Pu.yu=VD.bind(null,e.eventManager),e}function r7(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oD(this.persistence,new iD,e.initialUser,this.serializer)}Cu(e){return new K4(Hg.mi,this.serializer)}Du(e){return new pD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class i7 extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){et(this.persistence.referenceDelegate instanceof ed,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new q9(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new K4(i=>ed.mi(i,t),this.serializer)}}class Jm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t7.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jD}()}createDatastore(e){const t=kd(e.databaseInfo.databaseId),i=function(l){return new vD(l)}(e.databaseInfo);return function(l,u,d,m){return new wD(l,u,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,d){return new TD(i,a,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>xb(this.syncEngine,t,0),function(){return db.v()?new db:new mD}())}createSyncEngine(e,t){return function(a,l,u,d,m,f,x){const _=new HD(a,l,u,d,m,f);return x&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=Ne(t);ye(Ua,"RemoteStore shutting down."),i.Ea.add(5),await au(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class s7{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ye(Us,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye(Us,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Zg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function fm(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Q4(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await a7(n);ye(Us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>pb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>pb(e.remoteStore,a)),n._onlineComponents=e}async function a7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Us,"Using user provided OfflineComponentProvider");try{await fm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await fm(n,new nd)}}else ye(Us,"Using default OfflineComponentProvider"),await fm(n,new i7(void 0));return n._offlineComponents}async function g5(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Us,"Using user provided OnlineComponentProvider"),await bb(n,n._uninitializedComponentsProvider._online)):(ye(Us,"Using default OnlineComponentProvider"),await bb(n,new Jm))),n._onlineComponents}function o7(n){return g5(n).then(e=>e.syncEngine)}async function y5(n){const e=await g5(n),t=e.eventManager;return t.onListen=$D.bind(null,e.syncEngine),t.onUnlisten=QD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WD.bind(null,e.syncEngine),t}function l7(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,f){const x=new m5({next:b=>{x.Nu(),u.enqueueAndForget(()=>s5(l,_));const D=b.docs.has(d);!D&&b.fromCache?f.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&m&&m.source==="server"?f.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),_=new a5(Fg(d.path),x,{includeMetadataChanges:!0,qa:!0});return i5(l,_)}(await y5(n),n.asyncQueue,e,t,i)),i.promise}function c7(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,f){const x=new m5({next:b=>{x.Nu(),u.enqueueAndForget(()=>s5(l,_)),b.fromCache&&m.source==="server"?f.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),_=new a5(d,x,{includeMetadataChanges:!0,qa:!0});return i5(l,_)}(await y5(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="firestore.googleapis.com",Eb=!0;class wb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v5,this.ssl=Eb}else this.host=e.host,this.ssl=e.ssl??Eb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U9)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x5(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new mR;switch(i.type){case"firstParty":return new vR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=_b.get(t);i&&(ye("ComponentProvider","Removing Datastore"),_b.delete(t),i.terminate())}(this),Promise.resolve()}}function u7(n,e,t,i={}){n=Ui(n,Bd);const a=Ka(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(Cg(`https://${d}`),Sg("Firestore",!0)),l.host!==v5&&l.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Bs(m,u)&&(n._setSettings(m),i.mockUserToken)){let f,x;if(typeof i.mockUserToken=="string")f=i.mockUserToken,x=un.MOCK_USER;else{f=zE(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new un(_)}n._authCredentials=new gR(new i4(f,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ru(t,kt._jsonSchema))return new kt(e,i||null,new Ae(ht.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Nt("string",kt._jsonSchemaVersion),referencePath:Nt("string")};class Ps extends Za{constructor(e,t,i){super(e,t,Fg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ae(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function n1(n,e,...t){if(n=Tt(n),s4("collection","path",e),n instanceof Bd){const i=ht.fromString(e,...t);return M2(i),new Ps(n,null,i)}{if(!(n instanceof kt||n instanceof Ps))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return M2(i),new Ps(n.firestore,null,i)}}function ws(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=Ng.newId()),s4("doc","path",e),n instanceof Bd){const i=ht.fromString(e,...t);return B2(i),new kt(n,null,new Ae(i))}{if(!(n instanceof kt||n instanceof Ps))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return B2(i),new kt(n.firestore,n instanceof Ps?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y4(this,"async_queue_retry"),this._c=()=>{const i=dm();i&&ye(Ab,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;ye(Ab,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",Cb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Xg.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:Cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Cb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class vl extends Bd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Tb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function b5(n,e){const t=typeof n=="object"?n:Ed(),i=typeof n=="string"?n:Qh,a=$s(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=LE("firestore");l&&u7(a,...l)}return a}function r1(n){if(n._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||h7(n),n._firestoreClient}function h7(n){const e=n._freezeSettings(),t=function(a,l,u,d){return new MR(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,x5(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new s7(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(rn.fromBase64String(e))}catch(t){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:Nt("string",ar._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zr._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Zr._jsonSchema))return new Zr(e.latitude,e.longitude)}}Zr._jsonSchemaVersion="firestore/geoPoint/1.0",Zr._jsonSchema={type:Nt("string",Zr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Jr(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:Nt("string",Jr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=/^__.*__$/;class f7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)}}class _5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function E5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class s1{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new s1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E5(this.Ac)&&d7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p7{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||kd(e)}Cc(e,t,i,a=!1){return new s1({Ac:e,methodName:t,Dc:i,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a1(n){const e=n._freezeSettings(),t=kd(n._databaseId);return new p7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m7(n,e,t,i,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);o1("Data must be an object, but it was:",u,i);const d=w5(i,u);let m,f;if(l.merge)m=new Un(u.fieldMask),f=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const _ of l.mergeFields){const b=eg(e,_,t);if(!u.contains(b))throw new ge(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);T5(x,b)||x.push(b)}m=new Un(x),f=u.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,f=u.fieldTransforms;return new f7(new Sn(d),m,f)}class Fd extends i1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function g7(n,e,t,i){const a=n.Cc(1,e,t);o1("Data must be an object, but it was:",a,i);const l=[],u=Sn.empty();Gs(i,(m,f)=>{const x=l1(e,m,t);f=Tt(f);const _=a.yc(x);if(f instanceof Fd)l.push(x);else{const b=lu(f,_);b!=null&&(l.push(x),u.set(x,b))}});const d=new Un(l);return new _5(u,d,a.fieldTransforms)}function y7(n,e,t,i,a,l){const u=n.Cc(1,e,t),d=[eg(e,i,t)],m=[a];if(l.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(eg(e,l[b])),m.push(l[b+1]);const f=[],x=Sn.empty();for(let b=d.length-1;b>=0;--b)if(!T5(f,d[b])){const D=d[b];let N=m[b];N=Tt(N);const B=u.yc(D);if(N instanceof Fd)f.push(D);else{const k=lu(N,B);k!=null&&(f.push(D),x.set(D,k))}}const _=new Un(f);return new _5(x,_,u.fieldTransforms)}function x7(n,e,t,i=!1){return lu(t,n.Cc(i?4:3,e))}function lu(n,e){if(A5(n=Tt(n)))return o1("Unsupported field value:",e,n),w5(n,e);if(n instanceof i1)return function(i,a){if(!E5(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const d of i){let m=lu(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return s9(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ze.fromDate(i);return{timestampValue:Jh(a.serializer,l)}}if(i instanceof Ze){const l=new Ze(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jh(a.serializer,l)}}if(i instanceof Zr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ar)return{bytesValue:L4(a.serializer,i._byteString)};if(i instanceof kt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Jr)return function(u,d){return{mapValue:{fields:{[p4]:{stringValue:m4},[Wh]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return jg(d.serializer,f)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${wd(i)}`)}(n,e)}function w5(n,e){const t={};return l4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(n,(i,a)=>{const l=lu(a,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function A5(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof Zr||n instanceof ar||n instanceof kt||n instanceof i1||n instanceof Jr)}function o1(n,e,t){if(!A5(t)||!a4(t)){const i=wd(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function eg(n,e,t){if((e=Tt(e))instanceof Md)return e._internalPath;if(typeof e=="string")return l1(n,e);throw rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const v7=new RegExp("[~\\*/\\[\\]]");function l1(n,e,t){if(e.search(v7)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Md(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rd(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new ge(oe.INVALID_ARGUMENT,d+n+m)}function T5(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class b7 extends C5{data(){return super.data()}}function jd(n,e){return typeof e=="string"?l1(n,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c1{}class S5 extends c1{}function tg(n,e,...t){let i=[];e instanceof c1&&i.push(e),i=i.concat(t),function(l){const u=l.filter(m=>m instanceof u1).length,d=l.filter(m=>m instanceof Ld).length;if(u>1||u>0&&d>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Ld extends S5{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ld(e,t,i)}_apply(e){const t=this._parse(e);return R5(e._query,t),new Za(e.firestore,e.converter,qm(e._query,t))}_parse(e){const t=a1(e.firestore);return function(l,u,d,m,f,x,_){let b;if(f.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Rb(_,x);const N=[];for(const B of _)N.push(Sb(m,l,B));b={arrayValue:{values:N}}}else b=Sb(m,l,_)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Rb(_,x),b=x7(d,u,_,x==="in"||x==="not-in");return It.create(f,x,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function E7(n,e,t){const i=e,a=jd("where",n);return Ld._create(a,i,t)}class u1 extends c1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new u1(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)R5(u,m),u=qm(u,m)}(e._query,t),new Za(e.firestore,e.converter,qm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h1 extends S5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new h1(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(l,u)}(e._query,this._field,this._direction);return new Za(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new yl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function ng(n,e="asc"){const t=e,i=jd("orderBy",n);return h1._create(i,t)}function Sb(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w4(e)&&t.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Ae.isDocumentKey(i))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return H2(n,new Ae(i))}if(t instanceof kt)return H2(n,t._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(t)}.`)}function Rb(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R5(n,e){const t=function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class w7{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){const t=e.fields?.[Wh].arrayValue?.values?.map(i=>At(i.doubleValue));return new Jr(t)}convertGeoPoint(e){return new Zr(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Cd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);et($4(i),9688,{name:e});const a=new $c(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(t)||Vi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends C5{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:Nt("string",Fa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class X0 extends Fa{data(e={}){return super.data(e)}}class Xo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new X0(this._firestore,this._userDataWriter,i.key,i,new Ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const m=new X0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new X0(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,x=-1;return d.type!==0&&(f=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),x=u.indexOf(d.doc.key)),{type:T7(d.type),doc:m,oldIndex:f,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){n=Ui(n,kt);const e=Ui(n.firestore,vl);return l7(r1(e),n._key).then(t=>C7(e,n,t))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:Nt("string",Xo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class D5 extends w7{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function rg(n){n=Ui(n,Za);const e=Ui(n.firestore,vl),t=r1(e),i=new D5(e);return _7(n._query),c7(t,n._query).then(a=>new Xo(e,i,n,a))}function Z0(n,e,t,...i){n=Ui(n,kt);const a=Ui(n.firestore,vl),l=a1(a);let u;return u=typeof(e=Tt(e))=="string"||e instanceof Md?y7(l,"updateDoc",n._key,e,t,i):g7(l,"updateDoc",n._key,e),d1(a,[u.toMutation(n._key,xr.exists(!0))])}function I5(n){return d1(Ui(n.firestore,vl),[new Lg(n._key,xr.none())])}function ig(n,e){const t=Ui(n.firestore,vl),i=ws(n),a=A7(n.converter,e);return d1(t,[m7(a1(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,xr.exists(!1))]).then(()=>i)}function d1(n,e){return function(i,a){const l=new Mi;return i.asyncQueue.enqueueAndForget(async()=>YD(await o7(i),a,l)),l.promise}(r1(n),e)}function C7(n,e,t){const i=t.docs.get(e._key),a=new D5(n);return new Fa(n,a,e._key,i,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){pl=a})(Wa),br(new or("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new vl(new yR(i.getProvider("auth-internal")),new bR(u,i.getProvider("app-check-internal")),function(f,x){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(f.options.projectId,x)}(u,a),u);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Rn(N2,k2,e),Rn(N2,k2,"esm2020")})();var S7="firebase",R7="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(S7,R7,"app");function N5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D7=N5,k5=new Qa("auth","Firebase",N5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new _d("@firebase/auth");function I7(n,...e){id.logLevel<=je.WARN&&id.warn(`Auth (${Wa}): ${n}`,...e)}function J0(n,...e){id.logLevel<=je.ERROR&&id.error(`Auth (${Wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw f1(n,...e)}function ei(n,...e){return f1(n,...e)}function P5(n,e,t){const i={...D7(),[e]:t};return new Qa("auth","Firebase",i).create(e,{appName:n.name})}function Os(n){return P5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f1(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return k5.create(n,...e)}function Se(n,e,...t){if(!n)throw f1(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw J0(e),new Error(e)}function qi(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){return typeof self<"u"&&self.location?.href||""}function N7(){return Db()==="http:"||Db()==="https:"}function Db(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N7()||qE()||"connection"in navigator)?navigator.onLine:!0}function P7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,qi(t>e,"Short delay should be less than long delay!"),this.isMobile=HS()||KS()}get(){return k7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n,e){qi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M7=new cu(3e4,6e4);function Ja(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Qs(n,e,t,i,a={}){return B5(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=nu({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:m,...l};return GS()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(f.credentials="include"),O5.fetch()(await M5(n,n.config.apiHost,t,d),f)})}async function B5(n,e,t){n._canInitEmulator=!1;const i={...O7,...e};try{const a=new j7(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw V0(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,f]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw V0(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw V0(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw V0(n,"user-disabled",u);const x=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw P5(n,x,f);Er(n,x)}}catch(a){if(a instanceof lr)throw a;Er(n,"network-request-failed",{message:String(a)})}}async function Vd(n,e,t,i,a={}){const l=await Qs(n,e,t,i,a);return"mfaPendingCredential"in l&&Er(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function M5(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?p1(n.config,a):`${n.config.apiScheme}://${a}`;return B7.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function F7(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ei(this.auth,"network-request-failed")),M7.get())})}}function V0(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ei(n,e,i);return a.customData._tokenResponse=t,a}function Ib(n){return n!==void 0&&n.enterprise!==void 0}class L7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F7(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V7(n,e){return Qs(n,"GET","/v2/recaptchaConfig",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(n,e){return Qs(n,"POST","/v1/accounts:delete",e)}async function sd(n,e){return Qs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z7(n,e=!1){const t=Tt(n),i=await t.getIdToken(e),a=m1(i);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Fc(mm(a.auth_time)),issuedAtTime:Fc(mm(a.iat)),expirationTime:Fc(mm(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function mm(n){return Number(n)*1e3}function m1(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return J0("JWT malformed, contained fewer than 3 sections"),null;try{const a=FE(t);return a?JSON.parse(a):(J0("Failed to decode base64 JWT payload"),null)}catch(a){return J0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Nb(n){const e=m1(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof lr&&q7(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function q7({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n){const e=n.auth,t=await n.getIdToken(),i=await Yc(n,sd(e,{idToken:t}));Se(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?F5(a.providerUserInfo):[],u=G7(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,f=d?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ag(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,x)}async function $7(n){const e=Tt(n);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G7(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function F5(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(n,e){const t=await B5(n,{},async()=>{const i=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await M5(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(m.credentials="include"),O5.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Q7(n,e){return Qs(n,"POST","/v2/accounts:revokeToken",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await K7(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new Zo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new H7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ag(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z7(this,e)}reload(){return $7(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ad(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Yc(this,U7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,f=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:D,providerData:N,stsTokenManager:B}=t;Se(_&&B,e,"internal-error");const k=Zo.fromJSON(this.name,B);Se(typeof _=="string",e,"internal-error"),_s(i,e.name),_s(a,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof D=="boolean",e,"internal-error"),_s(l,e.name),_s(u,e.name),_s(d,e.name),_s(m,e.name),_s(f,e.name),_s(x,e.name);const L=new gr({uid:_,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:D,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:f,lastLoginAt:x});return N&&Array.isArray(N)&&(L.providerData=N.map(w=>({...w}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,t,i=!1){const a=new Zo;a.updateFromServerResponse(t);const l=new gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ad(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?F5(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Zo;d.updateFromIdToken(i);const m=new gr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,f),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;function Oi(n){qi(n instanceof Function,"Expected a class definition");let e=kb.get(n);return e?(qi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}j5.type="NONE";const Pb=j5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=eh(this.userKey,a.apiKey,l),this.fullPersistenceKey=eh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sd(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jo(Oi(Pb),e,i);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||Oi(Pb);const u=eh(i,e.config.apiKey,e.name);let d=null;for(const f of t)try{const x=await f._get(u);if(x){let _;if(typeof x=="string"){const b=await sd(e,{idToken:x}).catch(()=>{});if(!b)break;_=await gr._fromGetAccountInfoResponse(e,b,x)}else _=gr._fromJSON(e,x);f!==l&&(d=_),l=f;break}}catch{}const m=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Jo(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async f=>{if(f!==l)try{await f._remove(u)}catch{}})),new Jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H5(e))return"Blackberry";if($5(e))return"Webos";if(V5(e))return"Safari";if((e.includes("chrome/")||U5(e))&&!e.includes("edge/"))return"Chrome";if(q5(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function L5(n=dn()){return/firefox\//i.test(n)}function V5(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U5(n=dn()){return/crios\//i.test(n)}function z5(n=dn()){return/iemobile/i.test(n)}function q5(n=dn()){return/android/i.test(n)}function H5(n=dn()){return/blackberry/i.test(n)}function $5(n=dn()){return/webos/i.test(n)}function g1(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function W7(n=dn()){return g1(n)&&!!window.navigator?.standalone}function Y7(){return QS()&&document.documentMode===10}function G5(n=dn()){return g1(n)||q5(n)||$5(n)||H5(n)||/windows phone/i.test(n)||z5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(n,e=[]){let t;switch(n){case"Browser":t=Ob(dn());break;case"Worker":t=`${Ob(dn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(n,e={}){return Qs(n,"GET","/v2/passwordPolicy",Ja(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=6;class eI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??J7,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new X7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sd(this,{idToken:e}),i=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Os(this));const t=e?Tt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z7(this),t=new eI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Q7(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&I7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bl(n){return Tt(n)}class Bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=t8(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(n){Ud=n}function Q5(n){return Ud.loadJS(n)}function rI(){return Ud.recaptchaEnterpriseScript}function iI(){return Ud.gapiScript}function sI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aI{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lI="recaptcha-enterprise",W5="NO_RECAPTCHA";class cI{constructor(e){this.type=lI,this.auth=bl(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{V7(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new L7(m);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,u(f.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;Ib(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(f=>{u(f)}).catch(()=>{u(W5)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!t&&Ib(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=rI();m.length!==0&&(m+=d),Q5(m).then(()=>{a(d,l,u)}).catch(f=>{u(f)})}}).catch(d=>{u(d)})})}}async function Mb(n,e,t,i=!1,a=!1){const l=new cI(n);let u;if(a)u=W5;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Fb(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Mb(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Mb(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n,e){const t=$s(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Bs(l,e??{}))return a;Er(a,"already-initialized")}return t.initialize({options:e})}function hI(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function dI(n,e,t){const i=bl(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Y5(e),{host:u,port:d}=fI(e),m=d===null?"":`:${d}`,f={url:`${l}//${u}${m}/`},x=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Bs(f,i.config.emulator)&&Bs(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Ka(u)?(Cg(`${l}//${u}${m}`),Sg("Auth",!0)):pI()}function Y5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fI(n){const e=Y5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:jb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:jb(u)}}}function jb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function mI(n,e){return Qs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e){return Vd(n,"POST","/v1/accounts:signInWithPassword",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(n,e){return Vd(n,"POST","/v1/accounts:signInWithEmailLink",Ja(n,e))}async function xI(n,e){return Vd(n,"POST","/v1/accounts:signInWithEmailLink",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends y1{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Xc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Xc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fb(e,t,"signInWithPassword",gI);case"emailLink":return yI(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fb(e,i,"signUpPassword",mI);case"emailLink":return xI(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e){return Vd(n,"POST","/v1/accounts:signInWithIdp",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="http://localhost";class za extends y1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const u=new za(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,el(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:vI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _I(n){const e=Tc(Cc(n)).link,t=e?Tc(Cc(e)).deep_link_id:null,i=Tc(Cc(n)).deep_link_id;return(i?Tc(Cc(i)).link:null)||i||t||e||n}class x1{constructor(e){const t=Tc(Cc(e)),i=t.apiKey??null,a=t.oobCode??null,l=bI(t.mode??null);Se(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_I(e);try{return new x1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,t){return Xc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=x1.parseLink(t);return Se(i,"argument-error"),Xc._fromEmailAndCode(e,i.code,i.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends X5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends uu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return za._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ts.credential(t,i)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends uu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends uu{constructor(){super("twitter.com")}static credential(e,t){return za._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ss.credential(t,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await gr._fromIdTokenResponse(e,i,a),u=Lb(i);return new ll({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Lb(i);return new ll({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Lb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends lr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new od(e,t,i,a)}}function Z5(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(n,l,e,i):l})}async function EI(n,e,t=!1){const i=await Yc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ll._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n,e,t=!1){const{auth:i}=n;if(sr(i.app))return Promise.reject(Os(i));const a="reauthenticate";try{const l=await Yc(n,Z5(i,a,e,n),t);Se(l.idToken,i,"internal-error");const u=m1(l.idToken);Se(u,i,"internal-error");const{sub:d}=u;return Se(n.uid===d,i,"user-mismatch"),ll._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Er(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(n,e,t=!1){if(sr(n.app))return Promise.reject(Os(n));const i="signIn",a=await Z5(n,i,e),l=await ll._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function AI(n,e){return J5(bl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(n){const e=bl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ew(n,e,t){return sr(n.app)?Promise.reject(Os(n)):AI(Tt(n),_l.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TI(n),i})}function CI(n,e,t,i){return Tt(n).onIdTokenChanged(e,t,i)}function SI(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function tw(n,e,t,i){return Tt(n).onAuthStateChanged(e,t,i)}function nw(n){return Tt(n).signOut()}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1e3,DI=10;class iw extends rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);Y7()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DI):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},RI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iw.type="LOCAL";const II=iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sw.type="SESSION";const aw=sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new zd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async f=>f(t.origin,l)),m=await NI(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const f=v1("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function PI(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function OI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function MI(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebaseLocalStorageDb",FI=1,cd="firebaseLocalStorage",cw="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qd(n,e){return n.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function jI(){const n=indexedDB.deleteDatabase(lw);return new hu(n).toPromise()}function og(){const n=indexedDB.open(lw,FI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(cd,{keyPath:cw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(cd)?e(i):(i.close(),await jI(),e(await og()))})})}async function Vb(n,e,t){const i=qd(n,!0).put({[cw]:e,value:t});return new hu(i).toPromise()}async function LI(n,e){const t=qd(n,!1).get(e),i=await new hu(t).toPromise();return i===void 0?null:i.value}function Ub(n,e){const t=qd(n,!0).delete(e);return new hu(t).toPromise()}const VI=800,UI=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>UI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(MI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await Vb(e,ld,"1"),await Ub(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>LI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ub(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=qd(a,!1).getAll();return new hu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const zI=uw;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n,e){return e?Oi(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends y1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HI(n){return J5(n.auth,new b1(n),n.bypassAuthState)}function $I(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),wI(t,new b1(n),n.bypassAuthState)}async function GI(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),EI(t,new b1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return $I;default:Er(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new cu(2e3,1e4);class Wo extends hw{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=v1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KI.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="pendingRedirect",th=new Map;class WI extends hw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const i=await YI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YI(n,e){const t=JI(e),i=ZI(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function XI(n,e){th.set(n._key(),e)}function ZI(n){return Oi(n._redirectPersistence)}function JI(n){return eh(QI,n.config.apiKey,n.name)}async function eN(n,e,t=!1){if(sr(n.app))return Promise.reject(Os(n));const i=bl(n),a=qI(i,e),u=await new WI(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=600*1e3;class nN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!dw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tN&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(e))}saveEventToCache(e){this.cachedEventUids.add(zb(e)),this.lastProcessedEventTime=Date.now()}}function zb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e={}){return Qs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aN=/^https?/;async function oN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iN(n);for(const t of e)try{if(lN(t))return}catch{}Er(n,"unauthorized-domain")}function lN(n){const e=sg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!aN.test(t))return!1;if(sN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new cu(3e4,6e4);function qb(){const n=ti().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uN(n){return new Promise((e,t)=>{function i(){qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qb(),t(ei(n,"network-request-failed"))},timeout:cN.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)i();else{const a=sI("iframefcb");return ti()[a]=()=>{gapi.load?i():t(ei(n,"network-request-failed"))},Q5(`${iI()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw nh=null,e})}let nh=null;function hN(n){return nh=nh||uN(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new cu(5e3,15e3),fN="__/auth/iframe",pN="emulator/auth/iframe",mN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yN(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?p1(e,pN):`https://${n.config.authDomain}/${fN}`,i={apiKey:e.apiKey,appName:n.name,v:Wa},a=gN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${nu(i).slice(1)}`}async function xN(n){const e=await hN(n),t=ti().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:yN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ei(n,"network-request-failed"),d=ti().setTimeout(()=>{l(u)},dN.get());function m(){ti().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,_N=600,EN="_blank",wN="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AN(n,e,t,i=bN,a=_N){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...vN,width:i.toString(),height:a.toString(),top:l,left:u},f=dn().toLowerCase();t&&(d=U5(f)?EN:t),L5(f)&&(e=e||wN,m.scrollbars="yes");const x=Object.entries(m).reduce((b,[D,N])=>`${b}${D}=${N},`,"");if(W7(f)&&d!=="_self")return TN(e||"",d),new Hb(null);const _=window.open(e||"",d,x);Se(_,n,"popup-blocked");try{_.focus()}catch{}return new Hb(_)}function TN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__/auth/handler",SN="emulator/auth/handler",RN=encodeURIComponent("fac");async function $b(n,e,t,i,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Wa,eventId:a};if(e instanceof X5){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",e8(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof uu){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const x of Object.keys(d))d[x]===void 0&&delete d[x];const m=await n._getAppCheckToken(),f=m?`#${RN}=${encodeURIComponent(m)}`:"";return`${DN(n)}?${nu(d).slice(1)}${f}`}function DN({config:n}){return n.emulator?p1(n,SN):`https://${n.authDomain}/${CN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=eN,this._overrideRedirectResult=XI}async _openPopup(e,t,i,a){qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await $b(e,t,i,sg(),a);return AN(e,l,v1())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await $b(e,t,i,sg(),a);return PI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(qi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await xN(e),i=new nN(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gm,{type:gm},a=>{const l=a?.[0]?.[gm];l!==void 0&&t(!!l),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G5()||V5()||g1()}}const NN=IN;var Gb="@firebase/auth",Kb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(n){br(new or("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K5(n)},f=new tI(i,a,l,m);return hI(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),br(new or("auth-internal",e=>{const t=bl(e.getProvider("auth").getImmediate());return(i=>new kN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(Gb,Kb,PN(n)),Rn(Gb,Kb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=300,MN=UE("authIdTokenMaxAge")||BN;let Qb=null;const FN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>MN)return;const a=t?.token;Qb!==a&&(Qb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fw(n=Ed()){const e=$s(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uI(n,{popupRedirectResolver:NN,persistence:[zI,II,aw]}),i=UE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=FN(l.toString());SI(t,u,()=>u(t.currentUser)),CI(t,d=>u(d))}}const a=jE("auth");return a&&dI(t,`http://${a}`),t}function jN(){return document.getElementsByTagName("head")?.[0]??document}nI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ei("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",jN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebasestorage.googleapis.com",LN="storageBucket",VN=120*1e3,UN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends lr{constructor(e,t,i=0){super(ym(e),`Firebase Storage: ${t} (${ym(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ri;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ri||(ri={}));function ym(n){return"storage/"+n}function zN(){const n="An unknown error occurred, please check the error payload for server response.";return new ii(ri.UNKNOWN,n)}function qN(){return new ii(ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HN(){return new ii(ri.CANCELED,"User canceled the upload/download.")}function $N(n){return new ii(ri.INVALID_URL,"Invalid URL '"+n+"'.")}function GN(n){return new ii(ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Wb(n){return new ii(ri.INVALID_ARGUMENT,n)}function mw(){return new ii(ri.APP_DELETED,"The Firebase app was deleted.")}function KN(n){return new ii(ri.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=yr.makeFromUrl(e,t)}catch{return new yr(e,"")}if(i.path==="")return i;throw GN(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const x="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${_}/${x}/b/${a}/o${b}`,"i"),N={bucket:1,path:3},B=t===pw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",L=new RegExp(`^https?://${B}/${a}/${k}`,"i"),S=[{regex:d,indices:m,postModify:l},{regex:D,indices:N,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<S.length;V++){const z=S[V],U=z.regex.exec(e);if(U){const I=U[z.indices.bucket];let T=U[z.indices.path];T||(T=""),i=new yr(I,T),z.postModify(i);break}}if(i==null)throw $N(e);return i}}class QN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e,t){let i=1,a=null,l=null,u=!1,d=0;function m(){return d===2}let f=!1;function x(...k){f||(f=!0,e.apply(null,k))}function _(k){a=setTimeout(()=>{a=null,n(D,m())},k)}function b(){l&&clearTimeout(l)}function D(k,...L){if(f){b();return}if(k){b(),x.call(null,k,...L);return}if(m()||u){b(),x.call(null,k,...L);return}i<64&&(i*=2);let S;d===1?(d=2,S=0):S=(i+Math.random())*1e3,_(S)}let N=!1;function B(k){N||(N=!0,b(),!f&&(a!==null?(k||(d=2),clearTimeout(a),_(0)):k||(d=1)))}return _(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function YN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){return n!==void 0}function Yb(n,e,t,i){if(i<e)throw Wb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Wb(`Invalid value for '${n}'. Expected ${t} or less.`)}function ZN(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var ud;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ud||(ud={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,i,a,l,u,d,m,f,x,_,b=!0,D=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=f,this.progressCallback_=x,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,B)=>{this.resolve_=N,this.reject_=B,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new U0(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const m=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,f)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===ud.NO_ERROR,m=l.getStatus();if(!d||JN(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===ud.ABORT;i(!1,new U0(!1,null,x));return}const f=this.successCodes_.indexOf(m)!==-1;i(!0,new U0(f,l))})},t=(i,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());XN(m)?l(m):l()}catch(m){u(m)}else if(d!==null){const m=zN();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(a.canceled){const m=this.appDelete_?mw():HN();u(m)}else{const m=qN();u(m)}};this.canceled_?t(!1,new U0(!1,null,!0)):this.backoffId_=WN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class U0{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ik(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function sk(n,e,t,i,a,l,u=!0,d=!1){const m=ZN(n.urlParams),f=n.url+m,x=Object.assign({},n.headers);return rk(x,e),tk(x,t),nk(x,l),ik(x,i),new ek(f,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function ok(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this._service=e,t instanceof yr?this._location=t:this._location=yr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hd(e,t)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ok(this._location.path)}get storage(){return this._service}get parent(){const e=ak(this._location.path);if(e===null)return null;const t=new yr(this._location.bucket,e);return new hd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw KN(e)}}function Xb(n,e){const t=e?.[LN];return t==null?null:yr.makeFromBucketSpec(t,n)}function lk(n,e,t,i={}){n.host=`${e}:${t}`;const a=Ka(e);a&&(Cg(`https://${n.host}/b`),Sg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:zE(l,n.app.options.projectId))}class ck{constructor(e,t,i,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=pw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VN,this._maxUploadRetryTime=UN,this._requests=new Set,a!=null?this._bucket=yr.makeFromBucketSpec(a,this._host):this._bucket=Xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=Xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hd(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new QN(mw());{const u=sk(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const Zb="@firebase/storage",Jb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="storage";function yw(n=Ed(),e){n=Tt(n);const i=$s(n,gw).getImmediate({identifier:e}),a=LE("storage");return a&&uk(i,...a),i}function uk(n,e,t,i={}){lk(n,e,t,i)}function hk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new ck(t,i,a,e,Wa)}function dk(){br(new or(gw,hk,"PUBLIC").setMultipleInstances(!0)),Rn(Zb,Jb,""),Rn(Zb,Jb,"esm2020")}dk();const xw="@firebase/installations",_1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=1e4,bw=`w:${_1}`,_w="FIS_v2",fk="https://firebaseinstallations.googleapis.com/v1",pk=3600*1e3,mk="installations",gk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qa=new Qa(mk,gk,yk);function Ew(n){return n instanceof lr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww({projectId:n}){return`${fk}/projects/${n}/installations`}function Aw(n){return{token:n.token,requestStatus:2,expiresIn:vk(n.expiresIn),creationTime:Date.now()}}async function Tw(n,e){const i=(await e.json()).error;return qa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Cw({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function xk(n,{refreshToken:e}){const t=Cw(n);return t.append("Authorization",bk(e)),t}async function Sw(n){const e=await n();return e.status>=500&&e.status<600?n():e}function vk(n){return Number(n.replace("s","000"))}function bk(n){return`${_w} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=ww(n),a=Cw(n),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const u={fid:t,authVersion:_w,appId:n.appId,sdkVersion:bw},d={method:"POST",headers:a,body:JSON.stringify(u)},m=await Sw(()=>fetch(i,d));if(m.ok){const f=await m.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:Aw(f.authToken)}}else throw await Tw("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=/^[cdef][\w-]{21}$/,lg="";function Ak(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Tk(n);return wk.test(t)?t:lg}catch{return lg}}function Tk(n){return Ek(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function Iw(n,e){const t=Hd(n);Nw(t,e),Ck(t,e)}function Nw(n,e){const t=Dw.get(n);if(t)for(const i of t)i(e)}function Ck(n,e){const t=Sk();t&&t.postMessage({key:n,fid:e}),Rk()}let Ba=null;function Sk(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=n=>{Nw(n.data.key,n.data.fid)}),Ba}function Rk(){Dw.size===0&&Ba&&(Ba.close(),Ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firebase-installations-database",Ik=1,Ha="firebase-installations-store";let xm=null;function E1(){return xm||(xm=QE(Dk,Ik,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ha)}}})),xm}async function dd(n,e){const t=Hd(n),a=(await E1()).transaction(Ha,"readwrite"),l=a.objectStore(Ha),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&Iw(n,e.fid),e}async function kw(n){const e=Hd(n),i=(await E1()).transaction(Ha,"readwrite");await i.objectStore(Ha).delete(e),await i.done}async function $d(n,e){const t=Hd(n),a=(await E1()).transaction(Ha,"readwrite"),l=a.objectStore(Ha),u=await l.get(t),d=e(u);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!u||u.fid!==d.fid)&&Iw(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(n){let e;const t=await $d(n.appConfig,i=>{const a=Nk(i),l=kk(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===lg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Nk(n){const e=n||{fid:Ak(),registrationStatus:0};return Pw(e)}function kk(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(qa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Pk(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ok(n)}:{installationEntry:e}}async function Pk(n,e){try{const t=await _k(n,e);return dd(n.appConfig,t)}catch(t){throw Ew(t)&&t.customData.serverCode===409?await kw(n.appConfig):await dd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Ok(n){let e=await e_(n.appConfig);for(;e.registrationStatus===1;)await Rw(100),e=await e_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await w1(n);return i||t}return e}function e_(n){return $d(n,e=>{if(!e)throw qa.create("installation-not-found");return Pw(e)})}function Pw(n){return Bk(n)?{fid:n.fid,registrationStatus:0}:n}function Bk(n){return n.registrationStatus===1&&n.registrationTime+vw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk({appConfig:n,heartbeatServiceProvider:e},t){const i=Fk(n,t),a=xk(n,t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const u={installation:{sdkVersion:bw,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(u)},m=await Sw(()=>fetch(i,d));if(m.ok){const f=await m.json();return Aw(f)}else throw await Tw("Generate Auth Token",m)}function Fk(n,{fid:e}){return`${ww(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(n,e=!1){let t;const i=await $d(n.appConfig,l=>{if(!Ow(l))throw qa.create("not-registered");const u=l.authToken;if(!e&&Vk(u))return l;if(u.requestStatus===1)return t=jk(n,e),l;{if(!navigator.onLine)throw qa.create("app-offline");const d=zk(l);return t=Lk(n,d),d}});return t?await t:i.authToken}async function jk(n,e){let t=await t_(n.appConfig);for(;t.authToken.requestStatus===1;)await Rw(100),t=await t_(n.appConfig);const i=t.authToken;return i.requestStatus===0?A1(n,e):i}function t_(n){return $d(n,e=>{if(!Ow(e))throw qa.create("not-registered");const t=e.authToken;return qk(t)?{...e,authToken:{requestStatus:0}}:e})}async function Lk(n,e){try{const t=await Mk(n,e),i={...e,authToken:t};return await dd(n.appConfig,i),t}catch(t){if(Ew(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await kw(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await dd(n.appConfig,i)}throw t}}function Ow(n){return n!==void 0&&n.registrationStatus===2}function Vk(n){return n.requestStatus===2&&!Uk(n)}function Uk(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+pk}function zk(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function qk(n){return n.requestStatus===1&&n.requestTime+vw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n){const e=n,{installationEntry:t,registrationPromise:i}=await w1(e);return i?i.catch(console.error):A1(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e=!1){const t=n;return await Gk(t),(await A1(t,e)).token}async function Gk(n){const{registrationPromise:e}=await w1(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){if(!n||!n.options)throw vm("App Configuration");if(!n.name)throw vm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw vm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function vm(n){return qa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="installations",Qk="installations-internal",Wk=n=>{const e=n.getProvider("app").getImmediate(),t=Kk(e),i=$s(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Yk=n=>{const e=n.getProvider("app").getImmediate(),t=$s(e,Bw).getImmediate();return{getId:()=>Hk(t),getToken:a=>$k(t,a)}};function Xk(){br(new or(Bw,Wk,"PUBLIC")),br(new or(Qk,Yk,"PRIVATE"))}Xk();Rn(xw,_1);Rn(xw,_1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="analytics",Zk="firebase_id",Jk="origin",eP=60*1e3,tP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new _d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new Qa("analytics","Analytics",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){if(!n.startsWith(T1)){const e=zn.create("invalid-gtag-resource",{gtagURL:n});return Dn.warn(e.message),""}return n}function Mw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function iP(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function sP(n,e){const t=iP("firebase-js-sdk-policy",{createScriptURL:rP}),i=document.createElement("script"),a=`${T1}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function aP(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function oP(n,e,t,i,a,l){const u=i[a];try{if(u)await e[u];else{const m=(await Mw(t)).find(f=>f.measurementId===a);m&&await e[m.appId]}}catch(d){Dn.error(d)}n("config",a,l)}async function lP(n,e,t,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const d=await Mw(t);for(const m of u){const f=d.find(_=>_.measurementId===m),x=f&&e[f.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,a||{})}catch(l){Dn.error(l)}}function cP(n,e,t,i){async function a(l,...u){try{if(l==="event"){const[d,m]=u;await lP(n,e,t,d,m)}else if(l==="config"){const[d,m]=u;await oP(n,e,t,i,d,m)}else if(l==="consent"){const[d,m]=u;n("consent",d,m)}else if(l==="get"){const[d,m,f]=u;n("get",d,m,f)}else if(l==="set"){const[d]=u;n("set",d)}else n(l,...u)}catch(d){Dn.error(d)}}return a}function uP(n,e,t,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=cP(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function hP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(T1)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=30,fP=1e3;class pP{constructor(e={},t=fP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Fw=new pP;function mP(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function gP(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:mP(t)},a=tP.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();d.error?.message&&(u=d.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function yP(n,e=Fw,t){const{appId:i,apiKey:a,measurementId:l}=n.options;if(!i)throw zn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw zn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new bP;return setTimeout(async()=>{d.abort()},eP),jw({appId:i,apiKey:a,measurementId:l},u,d,e)}async function jw(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=Fw){const{appId:l,measurementId:u}=n;try{await xP(i,e)}catch(d){if(u)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{const d=await gP(n);return a.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!vP(m)){if(a.deleteThrottleMetadata(l),u)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw d}const f=Number(m?.customData?.httpStatus)===503?_2(t,a.intervalMillis,dP):_2(t,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+f,backoffCount:t+1};return a.setThrottleMetadata(l,x),Dn.debug(`Calling attemptFetch again in ${f} millis`),jw(n,x,i,a)}}function xP(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),i(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vP(n){if(!(n instanceof lr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class bP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _P(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const l=await e,u={...i,send_to:l};n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(){if(HE())try{await $E()}catch(n){return Dn.warn(zn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Dn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wP(n,e,t,i,a,l,u){const d=yP(n);d.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Dn.error(b)),e.push(d);const m=EP().then(b=>{if(b)return i.getId()}),[f,x]=await Promise.all([d,m]);hP(l)||sP(l,f.measurementId),a("js",new Date);const _=u?.config??{};return _[Jk]="firebase",_.update=!0,x!=null&&(_[Zk]=x),a("config",f.measurementId,_),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.app=e}_delete(){return delete jc[this.app.options.appId],Promise.resolve()}}let jc={},n_=[];const r_={};let bm="dataLayer",TP="gtag",i_,Lw,s_=!1;function CP(){const n=[];if(qE()&&n.push("This is a browser extension environment."),YS()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=zn.create("invalid-analytics-context",{errorInfo:e});Dn.warn(t.message)}}function SP(n,e,t){CP();const i=n.options.appId;if(!i)throw zn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(jc[i]!=null)throw zn.create("already-exists",{id:i});if(!s_){aP(bm);const{wrappedGtag:l,gtagCore:u}=uP(jc,n_,r_,bm,TP);Lw=l,i_=u,s_=!0}return jc[i]=wP(n,n_,r_,e,i_,bm,t),new AP(n)}function Vw(n=Ed()){n=Tt(n);const e=$s(n,fd);return e.isInitialized()?e.getImmediate():RP(n)}function RP(n,e={}){const t=$s(n,fd);if(t.isInitialized()){const a=t.getImmediate();if(Bs(e,t.getOptions()))return a;throw zn.create("already-initialized")}return t.initialize({options:e})}function DP(n,e,t,i){n=Tt(n),_P(Lw,jc[n.app.options.appId],e,t,i).catch(a=>Dn.error(a))}const a_="@firebase/analytics",o_="0.10.18";function IP(){br(new or(fd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return SP(i,a,t)},"PUBLIC")),br(new or("analytics-internal",n,"PRIVATE")),Rn(a_,o_),Rn(a_,o_,"esm2020");function n(e){try{const t=e.getProvider(fd).getImmediate();return{logEvent:(i,a,l)=>DP(t,i,a,l)}}catch(t){throw zn.create("interop-component-reg-failed",{reason:t})}}}IP();const Uw={apiKey:"AIzaSyChbvxl2bz1YTny0NkR1WeVWDIPmWNZ7Oc",authDomain:"pdf-library-bps.firebaseapp.com",projectId:"pdf-library-bps",storageBucket:"pdf-library-bps.firebasestorage.app",messagingSenderId:"92871761977",appId:"1:92871761977:web:c80057d5d6bc4f7f076de8",measurementId:"G-MTXQPFVCC5"},Gd=Dg(Uw),C1=fw(Gd),Wr=b5(Gd);yw(Gd);typeof window<"u"&&Uw.measurementId&&Vw(Gd);const z0=n1(Wr,"pdfs"),zs={async getAllPDFs(){try{const n=tg(z0,ng("createdAt","desc"));return(await rg(n)).docs.map(t=>({id:t.id,...t.data(),createdAt:t.data().createdAt?.toDate()||new Date,updatedAt:t.data().updatedAt?.toDate()||new Date}))}catch(n){throw console.error("Error fetching PDFs:",n),n}},async getPDFById(n){try{const e=ws(Wr,"pdfs",n),t=await pm(e);if(t.exists()){const i=t.data();return{id:t.id,...i,createdAt:i.createdAt?.toDate()||new Date,updatedAt:i.updatedAt?.toDate()||new Date}}return null}catch(e){throw console.error("Error fetching PDF:",e),e}},async uploadPDFFile(){throw new Error("Direct PDF upload is not supported. Use createPDFWithFile.")},async createPDFWithFile(n,e){try{if(n.type!=="application/pdf")throw new Error("Only PDF files are allowed");const{imagekitDualService:t}=await kS(async()=>{const{imagekitDualService:l}=await Promise.resolve().then(()=>QO);return{imagekitDualService:l}},[]);console.log("Uploading PDF using ImageKit dual service...");const i=await t.uploadPDF(n);return(await ig(z0,{...e,pdfUrl:i.url,fileSize:i.size,fileName:i.name,createdAt:Ze.now(),updatedAt:Ze.now()})).id}catch(t){throw console.error("Error uploading PDF:",t),t instanceof Error?t:new Error("Upload failed. Please try again.")}},async downloadPDF(n){try{if(!n.pdfUrl)throw new Error("PDF URL not available");const e=document.createElement("a");e.href=n.pdfUrl,e.download=n.fileName||`${n.title}.pdf`,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){throw console.error("Error downloading PDF:",e),e}},async createPDF(n){try{return(await ig(z0,{...n,createdAt:Ze.now(),updatedAt:Ze.now()})).id}catch(e){throw console.error("Error creating PDF:",e),e}},async updatePDF(n,e){try{const t=ws(Wr,"pdfs",n);await Z0(t,{...e,updatedAt:Ze.now()})}catch(t){throw console.error("Error updating PDF:",t),t}},async deletePDF(n){try{const e=ws(Wr,"pdfs",n);await I5(e)}catch(e){throw console.error("Error deleting PDF:",e),e}},async incrementViewCount(n){try{const e=ws(Wr,"pdfs",n),t=await pm(e);if(t.exists()){const i=t.data().viewCount||0;await Z0(e,{viewCount:i+1})}}catch(e){throw console.error("Error incrementing view count:",e),e}},async incrementDownloadCount(n){try{const e=ws(Wr,"pdfs",n),t=await pm(e);if(t.exists()){const i=t.data().downloadCount||0;await Z0(e,{downloadCount:i+1})}}catch(e){throw console.error("Error incrementing download count:",e),e}},async searchByCategory(n){try{const e=tg(z0,E7("categories","array-contains",n),ng("createdAt","desc"));return(await rg(e)).docs.map(i=>({id:i.id,...i.data(),createdAt:i.data().createdAt?.toDate()||new Date,updatedAt:i.data().updatedAt?.toDate()||new Date}))}catch(e){throw console.error("Error searching PDFs by category:",e),e}},async searchPDFs(n){try{const e=await this.getAllPDFs(),t=n.toLowerCase();return e.filter(i=>i.title.toLowerCase().includes(t)||i.description.toLowerCase().includes(t)||i.tags.some(a=>a.toLowerCase().includes(t)))}catch(e){throw console.error("Error searching PDFs:",e),e}},async getPDFsByCategory(n){return this.searchByCategory(n)}},NP=({pdf:n})=>{const e=async t=>{t.preventDefault(),t.stopPropagation();try{if(n.fileUrl&&n.fileUrl.startsWith("data:")){const i=n.fileUrl.split(",")[1],a=atob(i),l=new Array(a.length);for(let f=0;f<a.length;f++)l[f]=a.charCodeAt(f);const u=new Uint8Array(l),d=new Blob([u],{type:"application/pdf"}),m=URL.createObjectURL(d);window.open(m,"_blank"),await zs.incrementViewCount(n.id)}else n.pdfUrl&&n.pdfUrl!=="#"&&(window.open(n.pdfUrl,"_blank"),await zs.incrementViewCount(n.id));Fe.success("PDF opened successfully")}catch(i){console.error("Error opening PDF:",i),Fe.error("Failed to open PDF")}};return g.jsxs("div",{className:"brutalist-card",children:[g.jsx("span",{className:"brutalist-card__title",children:g2(n.title,18)}),g.jsx("p",{className:"brutalist-card__content",children:g2(n.description,120)}),g.jsxs("p",{className:"brutalist-card__author",children:["by ",n.author]}),n.tags&&n.tags.length>0&&g.jsxs("div",{className:"brutalist-card__tags",children:[n.tags.slice(0,3).map((t,i)=>g.jsx("span",{className:"brutalist-card__tag",children:t},i)),n.tags.length>3&&g.jsxs("span",{className:"brutalist-card__tag brutalist-card__tag--more",children:["+",n.tags.length-3]})]}),g.jsx("div",{className:"brutalist-card__buttons",children:g.jsx("button",{onClick:e,className:"brutalist-card__button brutalist-card__button--open",children:"open"})})]})},zw=({glitchColors:n=["#2b4539","#61dca3","#61b3dc"],className:e="",glitchSpeed:t=50,centerVignette:i=!1,outerVignette:a=!0,smooth:l=!0,zIndex:u=0})=>{const d=$.useRef(null),m=$.useRef(null),f=$.useRef([]),x=$.useRef({columns:0,rows:0}),_=$.useRef(null),b=$.useRef(Date.now()),D=16,N=10,B=20,k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","!","@","#","$","&","*","(",")","-","_","+","=","/","[","]","{","}",";",":","<",">",",","0","1","2","3","4","5","6","7","8","9"],L=()=>k[Math.floor(Math.random()*k.length)],w=()=>n[Math.floor(Math.random()*n.length)],S=F=>{const O=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;F=F.replace(O,(de,Y,le,fe)=>`${Y}${Y}${le}${le}${fe}${fe}`);const he=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(F);return he?{r:parseInt(he[1],16),g:parseInt(he[2],16),b:parseInt(he[3],16)}:null},V=(F,O,he)=>{const de=Math.round(F.r+(O.r-F.r)*he),Y=Math.round(F.g+(O.g-F.g)*he),le=Math.round(F.b+(O.b-F.b)*he);return`rgb(${de}, ${Y}, ${le})`},z=(F,O)=>{const he=Math.ceil(F/N),de=Math.ceil(O/B);return{columns:he,rows:de}},U=(F,O)=>{x.current={columns:F,rows:O};const he=F*O;f.current=Array.from({length:he},()=>({char:L(),color:w(),targetColor:w(),colorProgress:1}))},I=()=>{const F=d.current;if(!F)return;const O=window.devicePixelRatio||1,he=window.innerWidth,de=window.innerHeight;F.width=he*O,F.height=de*O,F.style.width=`${he}px`,F.style.height=`${de}px`,_.current&&_.current.setTransform(O,0,0,O,0,0);const{columns:Y,rows:le}=z(he,de);U(Y,le),T()},T=()=>{if(!_.current||f.current.length===0||!d.current)return;const F=_.current,O=window.innerWidth,he=window.innerHeight;F.clearRect(0,0,O,he),F.font=`${D}px monospace`,F.textBaseline="top",f.current.forEach((de,Y)=>{const le=Y%x.current.columns*N,fe=Math.floor(Y/x.current.columns)*B;F.fillStyle=de.color,F.fillText(de.char,le,fe)})},E=()=>{if(!f.current||f.current.length===0)return;const F=Math.max(1,Math.floor(f.current.length*.05));for(let O=0;O<F;O++){const he=Math.floor(Math.random()*f.current.length),de=f.current[he];de&&(de.char=L(),de.targetColor=w(),l?de.colorProgress=0:(de.color=de.targetColor,de.colorProgress=1))}},A=()=>{let F=!1;f.current.forEach(O=>{if(O.colorProgress<1){O.colorProgress+=.05,O.colorProgress>1&&(O.colorProgress=1);const he=S(O.color),de=S(O.targetColor);he&&de&&(O.color=V(he,de,O.colorProgress),F=!0)}}),F&&T()},P=()=>{const F=Date.now();F-b.current>=t&&(E(),T(),b.current=F),l&&A(),m.current=requestAnimationFrame(P)};return $.useEffect(()=>{const F=d.current;if(!F)return;_.current=F.getContext("2d"),I(),P();let O;const he=()=>{O&&window.clearTimeout(O),O=window.setTimeout(()=>{m.current&&cancelAnimationFrame(m.current),I(),P()},100)};return window.addEventListener("resize",he),()=>{m.current&&cancelAnimationFrame(m.current),window.removeEventListener("resize",he)}},[t,l]),g.jsxs("div",{className:e,style:{position:"fixed",inset:0,zIndex:u,pointerEvents:"none",backgroundColor:"#000"},children:[g.jsx("canvas",{ref:d,style:{display:"block",width:"100%",height:"100%"}}),a&&g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,1) 100%)"}}),i&&g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 60%)"}})]})},qs=({message:n="Loading...",className:e="",renderGlitchBg:t=!1})=>g.jsxs("div",{className:`flex items-center justify-center w-full min-h-screen ${e}`,style:{background:"transparent",position:"relative"},children:[t&&g.jsx(zw,{glitchSpeed:50,centerVignette:!0,outerVignette:!1,smooth:!0,zIndex:0}),g.jsxs("div",{className:"terminal-loader",role:"status","aria-live":"polite","aria-label":n,children:[g.jsxs("div",{className:"terminal-header",children:[g.jsx("div",{className:"terminal-title",children:"Status"}),g.jsxs("div",{className:"terminal-controls",children:[g.jsx("div",{className:"control close"}),g.jsx("div",{className:"control minimize"}),g.jsx("div",{className:"control maximize"})]})]}),g.jsx("div",{className:"terminal-text",children:n})]})]}),l_=({words:n,typeSpeed:e=60,deleteSpeed:t=30,delayBetween:i=1200,loop:a=!0,className:l,style:u,ariaLabel:d,cursorChar:m="|"})=>{const[f,x]=Kr.useState(0),[_,b]=Kr.useState(0),[D,N]=Kr.useState(!1),[B,k]=Kr.useState(!0),[L,w]=Kr.useState(!1),S=n[f]||"";Kr.useEffect(()=>{const z=setInterval(()=>k(U=>!U),500);return()=>clearInterval(z)},[]),Kr.useEffect(()=>{if(!n.length||L)return;if(!a&&f===n.length-1&&_===S.length&&!D){w(!0);return}let z=e;if(!D&&_<S.length){z=e;const U=setTimeout(()=>b(I=>I+1),z);return()=>clearTimeout(U)}if(!D&&_===S.length){const U=setTimeout(()=>N(!0),i);return()=>clearTimeout(U)}if(D&&_>0){z=t;const U=setTimeout(()=>b(I=>I-1),z);return()=>clearTimeout(U)}D&&_===0&&(N(!1),x(U=>(U+1)%n.length))},[_,D,f,n,e,t,i,a,L,S.length]),Kr.useEffect(()=>{b(0),N(!1)},[f]);const V=S.slice(0,_);return g.jsxs("span",{className:l,style:u,"aria-label":d,"aria-live":"polite",children:[V,g.jsxs("span",{"aria-hidden":"true",style:{opacity:B?1:0},children:[" ",m]})]})},qw=()=>{const[n,e]=$.useState({user:null,loading:!0});return $.useEffect(()=>{const t=tw(C1,i=>{e({user:i,loading:!1})});return()=>t()},[]),n};var rh={exports:{}};function kP(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ih={exports:{}};const PP={},OP=Object.freeze(Object.defineProperty({__proto__:null,default:PP},Symbol.toStringTag,{value:"Module"})),BP=E3(OP);var MP=ih.exports,c_;function qe(){return c_||(c_=1,function(n,e){(function(t,i){n.exports=i()})(MP,function(){var t=t||function(i,a){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Qp<"u"&&Qp.crypto&&(l=Qp.crypto),!l&&typeof kP=="function")try{l=BP}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||function(){function w(){}return function(S){var V;return w.prototype=S,V=new w,w.prototype=null,V}}(),m={},f=m.lib={},x=f.Base=function(){return{extend:function(w){var S=d(this);return w&&S.mixIn(w),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var S in w)w.hasOwnProperty(S)&&(this[S]=w[S]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_=f.WordArray=x.extend({init:function(w,S){w=this.words=w||[],S!=a?this.sigBytes=S:this.sigBytes=w.length*4},toString:function(w){return(w||D).stringify(this)},concat:function(w){var S=this.words,V=w.words,z=this.sigBytes,U=w.sigBytes;if(this.clamp(),z%4)for(var I=0;I<U;I++){var T=V[I>>>2]>>>24-I%4*8&255;S[z+I>>>2]|=T<<24-(z+I)%4*8}else for(var E=0;E<U;E+=4)S[z+E>>>2]=V[E>>>2];return this.sigBytes+=U,this},clamp:function(){var w=this.words,S=this.sigBytes;w[S>>>2]&=4294967295<<32-S%4*8,w.length=i.ceil(S/4)},clone:function(){var w=x.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var S=[],V=0;V<w;V+=4)S.push(u());return new _.init(S,w)}}),b=m.enc={},D=b.Hex={stringify:function(w){for(var S=w.words,V=w.sigBytes,z=[],U=0;U<V;U++){var I=S[U>>>2]>>>24-U%4*8&255;z.push((I>>>4).toString(16)),z.push((I&15).toString(16))}return z.join("")},parse:function(w){for(var S=w.length,V=[],z=0;z<S;z+=2)V[z>>>3]|=parseInt(w.substr(z,2),16)<<24-z%8*4;return new _.init(V,S/2)}},N=b.Latin1={stringify:function(w){for(var S=w.words,V=w.sigBytes,z=[],U=0;U<V;U++){var I=S[U>>>2]>>>24-U%4*8&255;z.push(String.fromCharCode(I))}return z.join("")},parse:function(w){for(var S=w.length,V=[],z=0;z<S;z++)V[z>>>2]|=(w.charCodeAt(z)&255)<<24-z%4*8;return new _.init(V,S)}},B=b.Utf8={stringify:function(w){try{return decodeURIComponent(escape(N.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return N.parse(unescape(encodeURIComponent(w)))}},k=f.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=B.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var S,V=this._data,z=V.words,U=V.sigBytes,I=this.blockSize,T=I*4,E=U/T;w?E=i.ceil(E):E=i.max((E|0)-this._minBufferSize,0);var A=E*I,P=i.min(A*4,U);if(A){for(var F=0;F<A;F+=I)this._doProcessBlock(z,F);S=z.splice(0,A),V.sigBytes-=P}return new _.init(S,P)},clone:function(){var w=x.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});f.Hasher=k.extend({cfg:x.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var S=this._doFinalize();return S},blockSize:16,_createHelper:function(w){return function(S,V){return new w.init(V).finalize(S)}},_createHmacHelper:function(w){return function(S,V){return new L.HMAC.init(w,V).finalize(S)}}});var L=m.algo={};return m}(Math);return t})}(ih)),ih.exports}var sh={exports:{}},FP=sh.exports,u_;function Kd(){return u_||(u_=1,function(n,e){(function(t,i){n.exports=i(qe())})(FP,function(t){return function(i){var a=t,l=a.lib,u=l.Base,d=l.WordArray,m=a.x64={};m.Word=u.extend({init:function(f,x){this.high=f,this.low=x}}),m.WordArray=u.extend({init:function(f,x){f=this.words=f||[],x!=i?this.sigBytes=x:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,x=f.length,_=[],b=0;b<x;b++){var D=f[b];_.push(D.high),_.push(D.low)}return d.create(_,this.sigBytes)},clone:function(){for(var f=u.clone.call(this),x=f.words=this.words.slice(0),_=x.length,b=0;b<_;b++)x[b]=x[b].clone();return f}})}(),t})}(sh)),sh.exports}var ah={exports:{}},jP=ah.exports,h_;function LP(){return h_||(h_=1,function(n,e){(function(t,i){n.exports=i(qe())})(jP,function(t){return function(){if(typeof ArrayBuffer=="function"){var i=t,a=i.lib,l=a.WordArray,u=l.init,d=l.init=function(m){if(m instanceof ArrayBuffer&&(m=new Uint8Array(m)),(m instanceof Int8Array||typeof Uint8ClampedArray<"u"&&m instanceof Uint8ClampedArray||m instanceof Int16Array||m instanceof Uint16Array||m instanceof Int32Array||m instanceof Uint32Array||m instanceof Float32Array||m instanceof Float64Array)&&(m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength)),m instanceof Uint8Array){for(var f=m.byteLength,x=[],_=0;_<f;_++)x[_>>>2]|=m[_]<<24-_%4*8;u.call(this,x,f)}else u.apply(this,arguments)};d.prototype=l}}(),t.lib.WordArray})}(ah)),ah.exports}var oh={exports:{}},VP=oh.exports,d_;function UP(){return d_||(d_=1,function(n,e){(function(t,i){n.exports=i(qe())})(VP,function(t){return function(){var i=t,a=i.lib,l=a.WordArray,u=i.enc;u.Utf16=u.Utf16BE={stringify:function(m){for(var f=m.words,x=m.sigBytes,_=[],b=0;b<x;b+=2){var D=f[b>>>2]>>>16-b%4*8&65535;_.push(String.fromCharCode(D))}return _.join("")},parse:function(m){for(var f=m.length,x=[],_=0;_<f;_++)x[_>>>1]|=m.charCodeAt(_)<<16-_%2*16;return l.create(x,f*2)}},u.Utf16LE={stringify:function(m){for(var f=m.words,x=m.sigBytes,_=[],b=0;b<x;b+=2){var D=d(f[b>>>2]>>>16-b%4*8&65535);_.push(String.fromCharCode(D))}return _.join("")},parse:function(m){for(var f=m.length,x=[],_=0;_<f;_++)x[_>>>1]|=d(m.charCodeAt(_)<<16-_%2*16);return l.create(x,f*2)}};function d(m){return m<<8&4278255360|m>>>8&16711935}}(),t.enc.Utf16})}(oh)),oh.exports}var lh={exports:{}},zP=lh.exports,f_;function eo(){return f_||(f_=1,function(n,e){(function(t,i){n.exports=i(qe())})(zP,function(t){return function(){var i=t,a=i.lib,l=a.WordArray,u=i.enc;u.Base64={stringify:function(m){var f=m.words,x=m.sigBytes,_=this._map;m.clamp();for(var b=[],D=0;D<x;D+=3)for(var N=f[D>>>2]>>>24-D%4*8&255,B=f[D+1>>>2]>>>24-(D+1)%4*8&255,k=f[D+2>>>2]>>>24-(D+2)%4*8&255,L=N<<16|B<<8|k,w=0;w<4&&D+w*.75<x;w++)b.push(_.charAt(L>>>6*(3-w)&63));var S=_.charAt(64);if(S)for(;b.length%4;)b.push(S);return b.join("")},parse:function(m){var f=m.length,x=this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var b=0;b<x.length;b++)_[x.charCodeAt(b)]=b}var D=x.charAt(64);if(D){var N=m.indexOf(D);N!==-1&&(f=N)}return d(m,f,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function d(m,f,x){for(var _=[],b=0,D=0;D<f;D++)if(D%4){var N=x[m.charCodeAt(D-1)]<<D%4*2,B=x[m.charCodeAt(D)]>>>6-D%4*2,k=N|B;_[b>>>2]|=k<<24-b%4*8,b++}return l.create(_,b)}}(),t.enc.Base64})}(lh)),lh.exports}var ch={exports:{}},qP=ch.exports,p_;function HP(){return p_||(p_=1,function(n,e){(function(t,i){n.exports=i(qe())})(qP,function(t){return function(){var i=t,a=i.lib,l=a.WordArray,u=i.enc;u.Base64url={stringify:function(m,f){f===void 0&&(f=!0);var x=m.words,_=m.sigBytes,b=f?this._safe_map:this._map;m.clamp();for(var D=[],N=0;N<_;N+=3)for(var B=x[N>>>2]>>>24-N%4*8&255,k=x[N+1>>>2]>>>24-(N+1)%4*8&255,L=x[N+2>>>2]>>>24-(N+2)%4*8&255,w=B<<16|k<<8|L,S=0;S<4&&N+S*.75<_;S++)D.push(b.charAt(w>>>6*(3-S)&63));var V=b.charAt(64);if(V)for(;D.length%4;)D.push(V);return D.join("")},parse:function(m,f){f===void 0&&(f=!0);var x=m.length,_=f?this._safe_map:this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var D=0;D<_.length;D++)b[_.charCodeAt(D)]=D}var N=_.charAt(64);if(N){var B=m.indexOf(N);B!==-1&&(x=B)}return d(m,x,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function d(m,f,x){for(var _=[],b=0,D=0;D<f;D++)if(D%4){var N=x[m.charCodeAt(D-1)]<<D%4*2,B=x[m.charCodeAt(D)]>>>6-D%4*2,k=N|B;_[b>>>2]|=k<<24-b%4*8,b++}return l.create(_,b)}}(),t.enc.Base64url})}(ch)),ch.exports}var uh={exports:{}},$P=uh.exports,m_;function to(){return m_||(m_=1,function(n,e){(function(t,i){n.exports=i(qe())})($P,function(t){return function(i){var a=t,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.algo,f=[];(function(){for(var B=0;B<64;B++)f[B]=i.abs(i.sin(B+1))*4294967296|0})();var x=m.MD5=d.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(B,k){for(var L=0;L<16;L++){var w=k+L,S=B[w];B[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var V=this._hash.words,z=B[k+0],U=B[k+1],I=B[k+2],T=B[k+3],E=B[k+4],A=B[k+5],P=B[k+6],F=B[k+7],O=B[k+8],he=B[k+9],de=B[k+10],Y=B[k+11],le=B[k+12],fe=B[k+13],Ee=B[k+14],q=B[k+15],G=V[0],X=V[1],Q=V[2],te=V[3];G=_(G,X,Q,te,z,7,f[0]),te=_(te,G,X,Q,U,12,f[1]),Q=_(Q,te,G,X,I,17,f[2]),X=_(X,Q,te,G,T,22,f[3]),G=_(G,X,Q,te,E,7,f[4]),te=_(te,G,X,Q,A,12,f[5]),Q=_(Q,te,G,X,P,17,f[6]),X=_(X,Q,te,G,F,22,f[7]),G=_(G,X,Q,te,O,7,f[8]),te=_(te,G,X,Q,he,12,f[9]),Q=_(Q,te,G,X,de,17,f[10]),X=_(X,Q,te,G,Y,22,f[11]),G=_(G,X,Q,te,le,7,f[12]),te=_(te,G,X,Q,fe,12,f[13]),Q=_(Q,te,G,X,Ee,17,f[14]),X=_(X,Q,te,G,q,22,f[15]),G=b(G,X,Q,te,U,5,f[16]),te=b(te,G,X,Q,P,9,f[17]),Q=b(Q,te,G,X,Y,14,f[18]),X=b(X,Q,te,G,z,20,f[19]),G=b(G,X,Q,te,A,5,f[20]),te=b(te,G,X,Q,de,9,f[21]),Q=b(Q,te,G,X,q,14,f[22]),X=b(X,Q,te,G,E,20,f[23]),G=b(G,X,Q,te,he,5,f[24]),te=b(te,G,X,Q,Ee,9,f[25]),Q=b(Q,te,G,X,T,14,f[26]),X=b(X,Q,te,G,O,20,f[27]),G=b(G,X,Q,te,fe,5,f[28]),te=b(te,G,X,Q,I,9,f[29]),Q=b(Q,te,G,X,F,14,f[30]),X=b(X,Q,te,G,le,20,f[31]),G=D(G,X,Q,te,A,4,f[32]),te=D(te,G,X,Q,O,11,f[33]),Q=D(Q,te,G,X,Y,16,f[34]),X=D(X,Q,te,G,Ee,23,f[35]),G=D(G,X,Q,te,U,4,f[36]),te=D(te,G,X,Q,E,11,f[37]),Q=D(Q,te,G,X,F,16,f[38]),X=D(X,Q,te,G,de,23,f[39]),G=D(G,X,Q,te,fe,4,f[40]),te=D(te,G,X,Q,z,11,f[41]),Q=D(Q,te,G,X,T,16,f[42]),X=D(X,Q,te,G,P,23,f[43]),G=D(G,X,Q,te,he,4,f[44]),te=D(te,G,X,Q,le,11,f[45]),Q=D(Q,te,G,X,q,16,f[46]),X=D(X,Q,te,G,I,23,f[47]),G=N(G,X,Q,te,z,6,f[48]),te=N(te,G,X,Q,F,10,f[49]),Q=N(Q,te,G,X,Ee,15,f[50]),X=N(X,Q,te,G,A,21,f[51]),G=N(G,X,Q,te,le,6,f[52]),te=N(te,G,X,Q,T,10,f[53]),Q=N(Q,te,G,X,de,15,f[54]),X=N(X,Q,te,G,U,21,f[55]),G=N(G,X,Q,te,O,6,f[56]),te=N(te,G,X,Q,q,10,f[57]),Q=N(Q,te,G,X,P,15,f[58]),X=N(X,Q,te,G,fe,21,f[59]),G=N(G,X,Q,te,E,6,f[60]),te=N(te,G,X,Q,Y,10,f[61]),Q=N(Q,te,G,X,I,15,f[62]),X=N(X,Q,te,G,he,21,f[63]),V[0]=V[0]+G|0,V[1]=V[1]+X|0,V[2]=V[2]+Q|0,V[3]=V[3]+te|0},_doFinalize:function(){var B=this._data,k=B.words,L=this._nDataBytes*8,w=B.sigBytes*8;k[w>>>5]|=128<<24-w%32;var S=i.floor(L/4294967296),V=L;k[(w+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k[(w+64>>>9<<4)+14]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,B.sigBytes=(k.length+1)*4,this._process();for(var z=this._hash,U=z.words,I=0;I<4;I++){var T=U[I];U[I]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return z},clone:function(){var B=d.clone.call(this);return B._hash=this._hash.clone(),B}});function _(B,k,L,w,S,V,z){var U=B+(k&L|~k&w)+S+z;return(U<<V|U>>>32-V)+k}function b(B,k,L,w,S,V,z){var U=B+(k&w|L&~w)+S+z;return(U<<V|U>>>32-V)+k}function D(B,k,L,w,S,V,z){var U=B+(k^L^w)+S+z;return(U<<V|U>>>32-V)+k}function N(B,k,L,w,S,V,z){var U=B+(L^(k|~w))+S+z;return(U<<V|U>>>32-V)+k}a.MD5=d._createHelper(x),a.HmacMD5=d._createHmacHelper(x)}(Math),t.MD5})}(uh)),uh.exports}var hh={exports:{}},GP=hh.exports,g_;function Hw(){return g_||(g_=1,function(n,e){(function(t,i){n.exports=i(qe())})(GP,function(t){return function(){var i=t,a=i.lib,l=a.WordArray,u=a.Hasher,d=i.algo,m=[],f=d.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,_){for(var b=this._hash.words,D=b[0],N=b[1],B=b[2],k=b[3],L=b[4],w=0;w<80;w++){if(w<16)m[w]=x[_+w]|0;else{var S=m[w-3]^m[w-8]^m[w-14]^m[w-16];m[w]=S<<1|S>>>31}var V=(D<<5|D>>>27)+L+m[w];w<20?V+=(N&B|~N&k)+1518500249:w<40?V+=(N^B^k)+1859775393:w<60?V+=(N&B|N&k|B&k)-1894007588:V+=(N^B^k)-899497514,L=k,k=B,B=N<<30|N>>>2,N=D,D=V}b[0]=b[0]+D|0,b[1]=b[1]+N|0,b[2]=b[2]+B|0,b[3]=b[3]+k|0,b[4]=b[4]+L|0},_doFinalize:function(){var x=this._data,_=x.words,b=this._nDataBytes*8,D=x.sigBytes*8;return _[D>>>5]|=128<<24-D%32,_[(D+64>>>9<<4)+14]=Math.floor(b/4294967296),_[(D+64>>>9<<4)+15]=b,x.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var x=u.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA1=u._createHelper(f),i.HmacSHA1=u._createHmacHelper(f)}(),t.SHA1})}(hh)),hh.exports}var dh={exports:{}},KP=dh.exports,y_;function S1(){return y_||(y_=1,function(n,e){(function(t,i){n.exports=i(qe())})(KP,function(t){return function(i){var a=t,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.algo,f=[],x=[];(function(){function D(L){for(var w=i.sqrt(L),S=2;S<=w;S++)if(!(L%S))return!1;return!0}function N(L){return(L-(L|0))*4294967296|0}for(var B=2,k=0;k<64;)D(B)&&(k<8&&(f[k]=N(i.pow(B,1/2))),x[k]=N(i.pow(B,1/3)),k++),B++})();var _=[],b=m.SHA256=d.extend({_doReset:function(){this._hash=new u.init(f.slice(0))},_doProcessBlock:function(D,N){for(var B=this._hash.words,k=B[0],L=B[1],w=B[2],S=B[3],V=B[4],z=B[5],U=B[6],I=B[7],T=0;T<64;T++){if(T<16)_[T]=D[N+T]|0;else{var E=_[T-15],A=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,P=_[T-2],F=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;_[T]=A+_[T-7]+F+_[T-16]}var O=V&z^~V&U,he=k&L^k&w^L&w,de=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),Y=(V<<26|V>>>6)^(V<<21|V>>>11)^(V<<7|V>>>25),le=I+Y+O+x[T]+_[T],fe=de+he;I=U,U=z,z=V,V=S+le|0,S=w,w=L,L=k,k=le+fe|0}B[0]=B[0]+k|0,B[1]=B[1]+L|0,B[2]=B[2]+w|0,B[3]=B[3]+S|0,B[4]=B[4]+V|0,B[5]=B[5]+z|0,B[6]=B[6]+U|0,B[7]=B[7]+I|0},_doFinalize:function(){var D=this._data,N=D.words,B=this._nDataBytes*8,k=D.sigBytes*8;return N[k>>>5]|=128<<24-k%32,N[(k+64>>>9<<4)+14]=i.floor(B/4294967296),N[(k+64>>>9<<4)+15]=B,D.sigBytes=N.length*4,this._process(),this._hash},clone:function(){var D=d.clone.call(this);return D._hash=this._hash.clone(),D}});a.SHA256=d._createHelper(b),a.HmacSHA256=d._createHmacHelper(b)}(Math),t.SHA256})}(dh)),dh.exports}var fh={exports:{}},QP=fh.exports,x_;function WP(){return x_||(x_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),S1())})(QP,function(t){return function(){var i=t,a=i.lib,l=a.WordArray,u=i.algo,d=u.SHA256,m=u.SHA224=d.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=d._doFinalize.call(this);return f.sigBytes-=4,f}});i.SHA224=d._createHelper(m),i.HmacSHA224=d._createHmacHelper(m)}(),t.SHA224})}(fh)),fh.exports}var ph={exports:{}},YP=ph.exports,v_;function $w(){return v_||(v_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Kd())})(YP,function(t){return function(){var i=t,a=i.lib,l=a.Hasher,u=i.x64,d=u.Word,m=u.WordArray,f=i.algo;function x(){return d.create.apply(d,arguments)}var _=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],b=[];(function(){for(var N=0;N<80;N++)b[N]=x()})();var D=f.SHA512=l.extend({_doReset:function(){this._hash=new m.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(N,B){for(var k=this._hash.words,L=k[0],w=k[1],S=k[2],V=k[3],z=k[4],U=k[5],I=k[6],T=k[7],E=L.high,A=L.low,P=w.high,F=w.low,O=S.high,he=S.low,de=V.high,Y=V.low,le=z.high,fe=z.low,Ee=U.high,q=U.low,G=I.high,X=I.low,Q=T.high,te=T.low,_e=E,me=A,We=P,ve=F,sn=O,fn=he,In=de,Nn=Y,Pt=le,vt=fe,Cr=Ee,Sr=q,Wt=G,si=X,ai=Q,Hn=te,Ot=0;Ot<80;Ot++){var an,pn,Rr=b[Ot];if(Ot<16)pn=Rr.high=N[B+Ot*2]|0,an=Rr.low=N[B+Ot*2+1]|0;else{var Ys=b[Ot-15],tt=Ys.high,Ue=Ys.low,mn=(tt>>>1|Ue<<31)^(tt>>>8|Ue<<24)^tt>>>7,Bt=(Ue>>>1|tt<<31)^(Ue>>>8|tt<<24)^(Ue>>>7|tt<<25),Xs=b[Ot-2],Dr=Xs.high,kn=Xs.low,oi=(Dr>>>19|kn<<13)^(Dr<<3|kn>>>29)^Dr>>>6,Ir=(kn>>>19|Dr<<13)^(kn<<3|Dr>>>29)^(kn>>>6|Dr<<26),En=b[Ot-7],Hi=En.high,li=En.low,$i=b[Ot-16],Zs=$i.high,Gi=$i.low;an=Bt+li,pn=mn+Hi+(an>>>0<Bt>>>0?1:0),an=an+Ir,pn=pn+oi+(an>>>0<Ir>>>0?1:0),an=an+Gi,pn=pn+Zs+(an>>>0<Gi>>>0?1:0),Rr.high=pn,Rr.low=an}var cr=Pt&Cr^~Pt&Wt,$n=vt&Sr^~vt&si,Js=_e&We^_e&sn^We&sn,Gn=me&ve^me&fn^ve&fn,ea=(_e>>>28|me<<4)^(_e<<30|me>>>2)^(_e<<25|me>>>7),ur=(me>>>28|_e<<4)^(me<<30|_e>>>2)^(me<<25|_e>>>7),Ki=(Pt>>>14|vt<<18)^(Pt>>>18|vt<<14)^(Pt<<23|vt>>>9),Nr=(vt>>>14|Pt<<18)^(vt>>>18|Pt<<14)^(vt<<23|Pt>>>9),ta=_[Ot],ct=ta.high,gt=ta.low,He=Hn+Nr,bt=ai+Ki+(He>>>0<Hn>>>0?1:0),He=He+$n,bt=bt+cr+(He>>>0<$n>>>0?1:0),He=He+gt,bt=bt+ct+(He>>>0<gt>>>0?1:0),He=He+an,bt=bt+pn+(He>>>0<an>>>0?1:0),Qi=ur+Gn,El=ea+Js+(Qi>>>0<ur>>>0?1:0);ai=Wt,Hn=si,Wt=Cr,si=Sr,Cr=Pt,Sr=vt,vt=Nn+He|0,Pt=In+bt+(vt>>>0<Nn>>>0?1:0)|0,In=sn,Nn=fn,sn=We,fn=ve,We=_e,ve=me,me=He+Qi|0,_e=bt+El+(me>>>0<He>>>0?1:0)|0}A=L.low=A+me,L.high=E+_e+(A>>>0<me>>>0?1:0),F=w.low=F+ve,w.high=P+We+(F>>>0<ve>>>0?1:0),he=S.low=he+fn,S.high=O+sn+(he>>>0<fn>>>0?1:0),Y=V.low=Y+Nn,V.high=de+In+(Y>>>0<Nn>>>0?1:0),fe=z.low=fe+vt,z.high=le+Pt+(fe>>>0<vt>>>0?1:0),q=U.low=q+Sr,U.high=Ee+Cr+(q>>>0<Sr>>>0?1:0),X=I.low=X+si,I.high=G+Wt+(X>>>0<si>>>0?1:0),te=T.low=te+Hn,T.high=Q+ai+(te>>>0<Hn>>>0?1:0)},_doFinalize:function(){var N=this._data,B=N.words,k=this._nDataBytes*8,L=N.sigBytes*8;B[L>>>5]|=128<<24-L%32,B[(L+128>>>10<<5)+30]=Math.floor(k/4294967296),B[(L+128>>>10<<5)+31]=k,N.sigBytes=B.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var N=l.clone.call(this);return N._hash=this._hash.clone(),N},blockSize:1024/32});i.SHA512=l._createHelper(D),i.HmacSHA512=l._createHmacHelper(D)}(),t.SHA512})}(ph)),ph.exports}var mh={exports:{}},XP=mh.exports,b_;function ZP(){return b_||(b_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Kd(),$w())})(XP,function(t){return function(){var i=t,a=i.x64,l=a.Word,u=a.WordArray,d=i.algo,m=d.SHA512,f=d.SHA384=m.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var x=m._doFinalize.call(this);return x.sigBytes-=16,x}});i.SHA384=m._createHelper(f),i.HmacSHA384=m._createHmacHelper(f)}(),t.SHA384})}(mh)),mh.exports}var gh={exports:{}},JP=gh.exports,__;function eO(){return __||(__=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Kd())})(JP,function(t){return function(i){var a=t,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.x64,f=m.Word,x=a.algo,_=[],b=[],D=[];(function(){for(var k=1,L=0,w=0;w<24;w++){_[k+5*L]=(w+1)*(w+2)/2%64;var S=L%5,V=(2*k+3*L)%5;k=S,L=V}for(var k=0;k<5;k++)for(var L=0;L<5;L++)b[k+5*L]=L+(2*k+3*L)%5*5;for(var z=1,U=0;U<24;U++){for(var I=0,T=0,E=0;E<7;E++){if(z&1){var A=(1<<E)-1;A<32?T^=1<<A:I^=1<<A-32}z&128?z=z<<1^113:z<<=1}D[U]=f.create(I,T)}})();var N=[];(function(){for(var k=0;k<25;k++)N[k]=f.create()})();var B=x.SHA3=d.extend({cfg:d.cfg.extend({outputLength:512}),_doReset:function(){for(var k=this._state=[],L=0;L<25;L++)k[L]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(k,L){for(var w=this._state,S=this.blockSize/2,V=0;V<S;V++){var z=k[L+2*V],U=k[L+2*V+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360;var I=w[V];I.high^=U,I.low^=z}for(var T=0;T<24;T++){for(var E=0;E<5;E++){for(var A=0,P=0,F=0;F<5;F++){var I=w[E+5*F];A^=I.high,P^=I.low}var O=N[E];O.high=A,O.low=P}for(var E=0;E<5;E++)for(var he=N[(E+4)%5],de=N[(E+1)%5],Y=de.high,le=de.low,A=he.high^(Y<<1|le>>>31),P=he.low^(le<<1|Y>>>31),F=0;F<5;F++){var I=w[E+5*F];I.high^=A,I.low^=P}for(var fe=1;fe<25;fe++){var A,P,I=w[fe],Ee=I.high,q=I.low,G=_[fe];G<32?(A=Ee<<G|q>>>32-G,P=q<<G|Ee>>>32-G):(A=q<<G-32|Ee>>>64-G,P=Ee<<G-32|q>>>64-G);var X=N[b[fe]];X.high=A,X.low=P}var Q=N[0],te=w[0];Q.high=te.high,Q.low=te.low;for(var E=0;E<5;E++)for(var F=0;F<5;F++){var fe=E+5*F,I=w[fe],_e=N[fe],me=N[(E+1)%5+5*F],We=N[(E+2)%5+5*F];I.high=_e.high^~me.high&We.high,I.low=_e.low^~me.low&We.low}var I=w[0],ve=D[T];I.high^=ve.high,I.low^=ve.low}},_doFinalize:function(){var k=this._data,L=k.words;this._nDataBytes*8;var w=k.sigBytes*8,S=this.blockSize*32;L[w>>>5]|=1<<24-w%32,L[(i.ceil((w+1)/S)*S>>>5)-1]|=128,k.sigBytes=L.length*4,this._process();for(var V=this._state,z=this.cfg.outputLength/8,U=z/8,I=[],T=0;T<U;T++){var E=V[T],A=E.high,P=E.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,I.push(P),I.push(A)}return new u.init(I,z)},clone:function(){for(var k=d.clone.call(this),L=k._state=this._state.slice(0),w=0;w<25;w++)L[w]=L[w].clone();return k}});a.SHA3=d._createHelper(B),a.HmacSHA3=d._createHmacHelper(B)}(Math),t.SHA3})}(gh)),gh.exports}var yh={exports:{}},tO=yh.exports,E_;function nO(){return E_||(E_=1,function(n,e){(function(t,i){n.exports=i(qe())})(tO,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var a=t,l=a.lib,u=l.WordArray,d=l.Hasher,m=a.algo,f=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=u.create([0,1518500249,1859775393,2400959708,2840853838]),N=u.create([1352829926,1548603684,1836072691,2053994217,0]),B=m.RIPEMD160=d.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,I){for(var T=0;T<16;T++){var E=I+T,A=U[E];U[E]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var P=this._hash.words,F=D.words,O=N.words,he=f.words,de=x.words,Y=_.words,le=b.words,fe,Ee,q,G,X,Q,te,_e,me,We;Q=fe=P[0],te=Ee=P[1],_e=q=P[2],me=G=P[3],We=X=P[4];for(var ve,T=0;T<80;T+=1)ve=fe+U[I+he[T]]|0,T<16?ve+=k(Ee,q,G)+F[0]:T<32?ve+=L(Ee,q,G)+F[1]:T<48?ve+=w(Ee,q,G)+F[2]:T<64?ve+=S(Ee,q,G)+F[3]:ve+=V(Ee,q,G)+F[4],ve=ve|0,ve=z(ve,Y[T]),ve=ve+X|0,fe=X,X=G,G=z(q,10),q=Ee,Ee=ve,ve=Q+U[I+de[T]]|0,T<16?ve+=V(te,_e,me)+O[0]:T<32?ve+=S(te,_e,me)+O[1]:T<48?ve+=w(te,_e,me)+O[2]:T<64?ve+=L(te,_e,me)+O[3]:ve+=k(te,_e,me)+O[4],ve=ve|0,ve=z(ve,le[T]),ve=ve+We|0,Q=We,We=me,me=z(_e,10),_e=te,te=ve;ve=P[1]+q+me|0,P[1]=P[2]+G+We|0,P[2]=P[3]+X+Q|0,P[3]=P[4]+fe+te|0,P[4]=P[0]+Ee+_e|0,P[0]=ve},_doFinalize:function(){var U=this._data,I=U.words,T=this._nDataBytes*8,E=U.sigBytes*8;I[E>>>5]|=128<<24-E%32,I[(E+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,U.sigBytes=(I.length+1)*4,this._process();for(var A=this._hash,P=A.words,F=0;F<5;F++){var O=P[F];P[F]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return A},clone:function(){var U=d.clone.call(this);return U._hash=this._hash.clone(),U}});function k(U,I,T){return U^I^T}function L(U,I,T){return U&I|~U&T}function w(U,I,T){return(U|~I)^T}function S(U,I,T){return U&T|I&~T}function V(U,I,T){return U^(I|~T)}function z(U,I){return U<<I|U>>>32-I}a.RIPEMD160=d._createHelper(B),a.HmacRIPEMD160=d._createHmacHelper(B)}(),t.RIPEMD160})}(yh)),yh.exports}var xh={exports:{}},rO=xh.exports,w_;function R1(){return w_||(w_=1,function(n,e){(function(t,i){n.exports=i(qe())})(rO,function(t){(function(){var i=t,a=i.lib,l=a.Base,u=i.enc,d=u.Utf8,m=i.algo;m.HMAC=l.extend({init:function(f,x){f=this._hasher=new f.init,typeof x=="string"&&(x=d.parse(x));var _=f.blockSize,b=_*4;x.sigBytes>b&&(x=f.finalize(x)),x.clamp();for(var D=this._oKey=x.clone(),N=this._iKey=x.clone(),B=D.words,k=N.words,L=0;L<_;L++)B[L]^=1549556828,k[L]^=909522486;D.sigBytes=N.sigBytes=b,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var x=this._hasher,_=x.finalize(f);x.reset();var b=x.finalize(this._oKey.clone().concat(_));return b}})})()})}(xh)),xh.exports}var vh={exports:{}},iO=vh.exports,A_;function sO(){return A_||(A_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),S1(),R1())})(iO,function(t){return function(){var i=t,a=i.lib,l=a.Base,u=a.WordArray,d=i.algo,m=d.SHA256,f=d.HMAC,x=d.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:m,iterations:25e4}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,b){for(var D=this.cfg,N=f.create(D.hasher,_),B=u.create(),k=u.create([1]),L=B.words,w=k.words,S=D.keySize,V=D.iterations;L.length<S;){var z=N.update(b).finalize(k);N.reset();for(var U=z.words,I=U.length,T=z,E=1;E<V;E++){T=N.finalize(T),N.reset();for(var A=T.words,P=0;P<I;P++)U[P]^=A[P]}B.concat(z),w[0]++}return B.sigBytes=S*4,B}});i.PBKDF2=function(_,b,D){return x.create(D).compute(_,b)}}(),t.PBKDF2})}(vh)),vh.exports}var bh={exports:{}},aO=bh.exports,T_;function Ws(){return T_||(T_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Hw(),R1())})(aO,function(t){return function(){var i=t,a=i.lib,l=a.Base,u=a.WordArray,d=i.algo,m=d.MD5,f=d.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:m,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,_){for(var b,D=this.cfg,N=D.hasher.create(),B=u.create(),k=B.words,L=D.keySize,w=D.iterations;k.length<L;){b&&N.update(b),b=N.update(x).finalize(_),N.reset();for(var S=1;S<w;S++)b=N.finalize(b),N.reset();B.concat(b)}return B.sigBytes=L*4,B}});i.EvpKDF=function(x,_,b){return f.create(b).compute(x,_)}}(),t.EvpKDF})}(bh)),bh.exports}var _h={exports:{}},oO=_h.exports,C_;function Qt(){return C_||(C_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Ws())})(oO,function(t){t.lib.Cipher||function(i){var a=t,l=a.lib,u=l.Base,d=l.WordArray,m=l.BufferedBlockAlgorithm,f=a.enc;f.Utf8;var x=f.Base64,_=a.algo,b=_.EvpKDF,D=l.Cipher=m.extend({cfg:u.extend(),createEncryptor:function(A,P){return this.create(this._ENC_XFORM_MODE,A,P)},createDecryptor:function(A,P){return this.create(this._DEC_XFORM_MODE,A,P)},init:function(A,P,F){this.cfg=this.cfg.extend(F),this._xformMode=A,this._key=P,this.reset()},reset:function(){m.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function A(P){return typeof P=="string"?E:U}return function(P){return{encrypt:function(F,O,he){return A(O).encrypt(P,F,O,he)},decrypt:function(F,O,he){return A(O).decrypt(P,F,O,he)}}}}()});l.StreamCipher=D.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var N=a.mode={},B=l.BlockCipherMode=u.extend({createEncryptor:function(A,P){return this.Encryptor.create(A,P)},createDecryptor:function(A,P){return this.Decryptor.create(A,P)},init:function(A,P){this._cipher=A,this._iv=P}}),k=N.CBC=function(){var A=B.extend();A.Encryptor=A.extend({processBlock:function(F,O){var he=this._cipher,de=he.blockSize;P.call(this,F,O,de),he.encryptBlock(F,O),this._prevBlock=F.slice(O,O+de)}}),A.Decryptor=A.extend({processBlock:function(F,O){var he=this._cipher,de=he.blockSize,Y=F.slice(O,O+de);he.decryptBlock(F,O),P.call(this,F,O,de),this._prevBlock=Y}});function P(F,O,he){var de,Y=this._iv;Y?(de=Y,this._iv=i):de=this._prevBlock;for(var le=0;le<he;le++)F[O+le]^=de[le]}return A}(),L=a.pad={},w=L.Pkcs7={pad:function(A,P){for(var F=P*4,O=F-A.sigBytes%F,he=O<<24|O<<16|O<<8|O,de=[],Y=0;Y<O;Y+=4)de.push(he);var le=d.create(de,O);A.concat(le)},unpad:function(A){var P=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=P}};l.BlockCipher=D.extend({cfg:D.cfg.extend({mode:k,padding:w}),reset:function(){var A;D.reset.call(this);var P=this.cfg,F=P.iv,O=P.mode;this._xformMode==this._ENC_XFORM_MODE?A=O.createEncryptor:(A=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,F&&F.words):(this._mode=A.call(O,this,F&&F.words),this._mode.__creator=A)},_doProcessBlock:function(A,P){this._mode.processBlock(A,P)},_doFinalize:function(){var A,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),P.unpad(A)),A},blockSize:128/32});var S=l.CipherParams=u.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),V=a.format={},z=V.OpenSSL={stringify:function(A){var P,F=A.ciphertext,O=A.salt;return O?P=d.create([1398893684,1701076831]).concat(O).concat(F):P=F,P.toString(x)},parse:function(A){var P,F=x.parse(A),O=F.words;return O[0]==1398893684&&O[1]==1701076831&&(P=d.create(O.slice(2,4)),O.splice(0,4),F.sigBytes-=16),S.create({ciphertext:F,salt:P})}},U=l.SerializableCipher=u.extend({cfg:u.extend({format:z}),encrypt:function(A,P,F,O){O=this.cfg.extend(O);var he=A.createEncryptor(F,O),de=he.finalize(P),Y=he.cfg;return S.create({ciphertext:de,key:F,iv:Y.iv,algorithm:A,mode:Y.mode,padding:Y.padding,blockSize:A.blockSize,formatter:O.format})},decrypt:function(A,P,F,O){O=this.cfg.extend(O),P=this._parse(P,O.format);var he=A.createDecryptor(F,O).finalize(P.ciphertext);return he},_parse:function(A,P){return typeof A=="string"?P.parse(A,this):A}}),I=a.kdf={},T=I.OpenSSL={execute:function(A,P,F,O,he){if(O||(O=d.random(64/8)),he)var de=b.create({keySize:P+F,hasher:he}).compute(A,O);else var de=b.create({keySize:P+F}).compute(A,O);var Y=d.create(de.words.slice(P),F*4);return de.sigBytes=P*4,S.create({key:de,iv:Y,salt:O})}},E=l.PasswordBasedCipher=U.extend({cfg:U.cfg.extend({kdf:T}),encrypt:function(A,P,F,O){O=this.cfg.extend(O);var he=O.kdf.execute(F,A.keySize,A.ivSize,O.salt,O.hasher);O.iv=he.iv;var de=U.encrypt.call(this,A,P,he.key,O);return de.mixIn(he),de},decrypt:function(A,P,F,O){O=this.cfg.extend(O),P=this._parse(P,O.format);var he=O.kdf.execute(F,A.keySize,A.ivSize,P.salt,O.hasher);O.iv=he.iv;var de=U.decrypt.call(this,A,P,he.key,O);return de}})}()})}(_h)),_h.exports}var Eh={exports:{}},lO=Eh.exports,S_;function cO(){return S_||(S_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(lO,function(t){return t.mode.CFB=function(){var i=t.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize;a.call(this,l,u,m,d),this._prevBlock=l.slice(u,u+m)}}),i.Decryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize,f=l.slice(u,u+m);a.call(this,l,u,m,d),this._prevBlock=f}});function a(l,u,d,m){var f,x=this._iv;x?(f=x.slice(0),this._iv=void 0):f=this._prevBlock,m.encryptBlock(f,0);for(var _=0;_<d;_++)l[u+_]^=f[_]}return i}(),t.mode.CFB})}(Eh)),Eh.exports}var wh={exports:{}},uO=wh.exports,R_;function hO(){return R_||(R_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(uO,function(t){return t.mode.CTR=function(){var i=t.lib.BlockCipherMode.extend(),a=i.Encryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize,f=this._iv,x=this._counter;f&&(x=this._counter=f.slice(0),this._iv=void 0);var _=x.slice(0);d.encryptBlock(_,0),x[m-1]=x[m-1]+1|0;for(var b=0;b<m;b++)l[u+b]^=_[b]}});return i.Decryptor=a,i}(),t.mode.CTR})}(wh)),wh.exports}var Ah={exports:{}},dO=Ah.exports,D_;function fO(){return D_||(D_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(dO,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var i=t.lib.BlockCipherMode.extend();function a(d){if((d>>24&255)===255){var m=d>>16&255,f=d>>8&255,x=d&255;m===255?(m=0,f===255?(f=0,x===255?x=0:++x):++f):++m,d=0,d+=m<<16,d+=f<<8,d+=x}else d+=1<<24;return d}function l(d){return(d[0]=a(d[0]))===0&&(d[1]=a(d[1])),d}var u=i.Encryptor=i.extend({processBlock:function(d,m){var f=this._cipher,x=f.blockSize,_=this._iv,b=this._counter;_&&(b=this._counter=_.slice(0),this._iv=void 0),l(b);var D=b.slice(0);f.encryptBlock(D,0);for(var N=0;N<x;N++)d[m+N]^=D[N]}});return i.Decryptor=u,i}(),t.mode.CTRGladman})}(Ah)),Ah.exports}var Th={exports:{}},pO=Th.exports,I_;function mO(){return I_||(I_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(pO,function(t){return t.mode.OFB=function(){var i=t.lib.BlockCipherMode.extend(),a=i.Encryptor=i.extend({processBlock:function(l,u){var d=this._cipher,m=d.blockSize,f=this._iv,x=this._keystream;f&&(x=this._keystream=f.slice(0),this._iv=void 0),d.encryptBlock(x,0);for(var _=0;_<m;_++)l[u+_]^=x[_]}});return i.Decryptor=a,i}(),t.mode.OFB})}(Th)),Th.exports}var Ch={exports:{}},gO=Ch.exports,N_;function yO(){return N_||(N_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(gO,function(t){return t.mode.ECB=function(){var i=t.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(a,l){this._cipher.encryptBlock(a,l)}}),i.Decryptor=i.extend({processBlock:function(a,l){this._cipher.decryptBlock(a,l)}}),i}(),t.mode.ECB})}(Ch)),Ch.exports}var Sh={exports:{}},xO=Sh.exports,k_;function vO(){return k_||(k_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(xO,function(t){return t.pad.AnsiX923={pad:function(i,a){var l=i.sigBytes,u=a*4,d=u-l%u,m=l+d-1;i.clamp(),i.words[m>>>2]|=d<<24-m%4*8,i.sigBytes+=d},unpad:function(i){var a=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=a}},t.pad.Ansix923})}(Sh)),Sh.exports}var Rh={exports:{}},bO=Rh.exports,P_;function _O(){return P_||(P_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(bO,function(t){return t.pad.Iso10126={pad:function(i,a){var l=a*4,u=l-i.sigBytes%l;i.concat(t.lib.WordArray.random(u-1)).concat(t.lib.WordArray.create([u<<24],1))},unpad:function(i){var a=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=a}},t.pad.Iso10126})}(Rh)),Rh.exports}var Dh={exports:{}},EO=Dh.exports,O_;function wO(){return O_||(O_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(EO,function(t){return t.pad.Iso97971={pad:function(i,a){i.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(i,a)},unpad:function(i){t.pad.ZeroPadding.unpad(i),i.sigBytes--}},t.pad.Iso97971})}(Dh)),Dh.exports}var Ih={exports:{}},AO=Ih.exports,B_;function TO(){return B_||(B_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(AO,function(t){return t.pad.ZeroPadding={pad:function(i,a){var l=a*4;i.clamp(),i.sigBytes+=l-(i.sigBytes%l||l)},unpad:function(i){for(var a=i.words,l=i.sigBytes-1,l=i.sigBytes-1;l>=0;l--)if(a[l>>>2]>>>24-l%4*8&255){i.sigBytes=l+1;break}}},t.pad.ZeroPadding})}(Ih)),Ih.exports}var Nh={exports:{}},CO=Nh.exports,M_;function SO(){return M_||(M_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(CO,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Nh)),Nh.exports}var kh={exports:{}},RO=kh.exports,F_;function DO(){return F_||(F_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Qt())})(RO,function(t){return function(i){var a=t,l=a.lib,u=l.CipherParams,d=a.enc,m=d.Hex,f=a.format;f.Hex={stringify:function(x){return x.ciphertext.toString(m)},parse:function(x){var _=m.parse(x);return u.create({ciphertext:_})}}}(),t.format.Hex})}(kh)),kh.exports}var Ph={exports:{}},IO=Ph.exports,j_;function NO(){return j_||(j_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),eo(),to(),Ws(),Qt())})(IO,function(t){return function(){var i=t,a=i.lib,l=a.BlockCipher,u=i.algo,d=[],m=[],f=[],x=[],_=[],b=[],D=[],N=[],B=[],k=[];(function(){for(var S=[],V=0;V<256;V++)V<128?S[V]=V<<1:S[V]=V<<1^283;for(var z=0,U=0,V=0;V<256;V++){var I=U^U<<1^U<<2^U<<3^U<<4;I=I>>>8^I&255^99,d[z]=I,m[I]=z;var T=S[z],E=S[T],A=S[E],P=S[I]*257^I*16843008;f[z]=P<<24|P>>>8,x[z]=P<<16|P>>>16,_[z]=P<<8|P>>>24,b[z]=P;var P=A*16843009^E*65537^T*257^z*16843008;D[I]=P<<24|P>>>8,N[I]=P<<16|P>>>16,B[I]=P<<8|P>>>24,k[I]=P,z?(z=T^S[S[S[A^T]]],U^=S[S[U]]):z=U=1}})();var L=[0,1,2,4,8,16,32,64,128,27,54],w=u.AES=l.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var V=this._keyPriorReset=this._key,z=V.words,U=V.sigBytes/4,I=this._nRounds=U+6,T=(I+1)*4,E=this._keySchedule=[],A=0;A<T;A++)A<U?E[A]=z[A]:(S=E[A-1],A%U?U>6&&A%U==4&&(S=d[S>>>24]<<24|d[S>>>16&255]<<16|d[S>>>8&255]<<8|d[S&255]):(S=S<<8|S>>>24,S=d[S>>>24]<<24|d[S>>>16&255]<<16|d[S>>>8&255]<<8|d[S&255],S^=L[A/U|0]<<24),E[A]=E[A-U]^S);for(var P=this._invKeySchedule=[],F=0;F<T;F++){var A=T-F;if(F%4)var S=E[A];else var S=E[A-4];F<4||A<=4?P[F]=S:P[F]=D[d[S>>>24]]^N[d[S>>>16&255]]^B[d[S>>>8&255]]^k[d[S&255]]}}},encryptBlock:function(S,V){this._doCryptBlock(S,V,this._keySchedule,f,x,_,b,d)},decryptBlock:function(S,V){var z=S[V+1];S[V+1]=S[V+3],S[V+3]=z,this._doCryptBlock(S,V,this._invKeySchedule,D,N,B,k,m);var z=S[V+1];S[V+1]=S[V+3],S[V+3]=z},_doCryptBlock:function(S,V,z,U,I,T,E,A){for(var P=this._nRounds,F=S[V]^z[0],O=S[V+1]^z[1],he=S[V+2]^z[2],de=S[V+3]^z[3],Y=4,le=1;le<P;le++){var fe=U[F>>>24]^I[O>>>16&255]^T[he>>>8&255]^E[de&255]^z[Y++],Ee=U[O>>>24]^I[he>>>16&255]^T[de>>>8&255]^E[F&255]^z[Y++],q=U[he>>>24]^I[de>>>16&255]^T[F>>>8&255]^E[O&255]^z[Y++],G=U[de>>>24]^I[F>>>16&255]^T[O>>>8&255]^E[he&255]^z[Y++];F=fe,O=Ee,he=q,de=G}var fe=(A[F>>>24]<<24|A[O>>>16&255]<<16|A[he>>>8&255]<<8|A[de&255])^z[Y++],Ee=(A[O>>>24]<<24|A[he>>>16&255]<<16|A[de>>>8&255]<<8|A[F&255])^z[Y++],q=(A[he>>>24]<<24|A[de>>>16&255]<<16|A[F>>>8&255]<<8|A[O&255])^z[Y++],G=(A[de>>>24]<<24|A[F>>>16&255]<<16|A[O>>>8&255]<<8|A[he&255])^z[Y++];S[V]=fe,S[V+1]=Ee,S[V+2]=q,S[V+3]=G},keySize:256/32});i.AES=l._createHelper(w)}(),t.AES})}(Ph)),Ph.exports}var Oh={exports:{}},kO=Oh.exports,L_;function PO(){return L_||(L_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),eo(),to(),Ws(),Qt())})(kO,function(t){return function(){var i=t,a=i.lib,l=a.WordArray,u=a.BlockCipher,d=i.algo,m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=d.DES=u.extend({_doReset:function(){for(var L=this._key,w=L.words,S=[],V=0;V<56;V++){var z=m[V]-1;S[V]=w[z>>>5]>>>31-z%32&1}for(var U=this._subKeys=[],I=0;I<16;I++){for(var T=U[I]=[],E=x[I],V=0;V<24;V++)T[V/6|0]|=S[(f[V]-1+E)%28]<<31-V%6,T[4+(V/6|0)]|=S[28+(f[V+24]-1+E)%28]<<31-V%6;T[0]=T[0]<<1|T[0]>>>31;for(var V=1;V<7;V++)T[V]=T[V]>>>(V-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var A=this._invSubKeys=[],V=0;V<16;V++)A[V]=U[15-V]},encryptBlock:function(L,w){this._doCryptBlock(L,w,this._subKeys)},decryptBlock:function(L,w){this._doCryptBlock(L,w,this._invSubKeys)},_doCryptBlock:function(L,w,S){this._lBlock=L[w],this._rBlock=L[w+1],N.call(this,4,252645135),N.call(this,16,65535),B.call(this,2,858993459),B.call(this,8,16711935),N.call(this,1,1431655765);for(var V=0;V<16;V++){for(var z=S[V],U=this._lBlock,I=this._rBlock,T=0,E=0;E<8;E++)T|=_[E][((I^z[E])&b[E])>>>0];this._lBlock=I,this._rBlock=U^T}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,N.call(this,1,1431655765),B.call(this,8,16711935),B.call(this,2,858993459),N.call(this,16,65535),N.call(this,4,252645135),L[w]=this._lBlock,L[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function N(L,w){var S=(this._lBlock>>>L^this._rBlock)&w;this._rBlock^=S,this._lBlock^=S<<L}function B(L,w){var S=(this._rBlock>>>L^this._lBlock)&w;this._lBlock^=S,this._rBlock^=S<<L}i.DES=u._createHelper(D);var k=d.TripleDES=u.extend({_doReset:function(){var L=this._key,w=L.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=w.slice(0,2),V=w.length<4?w.slice(0,2):w.slice(2,4),z=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=D.createEncryptor(l.create(S)),this._des2=D.createEncryptor(l.create(V)),this._des3=D.createEncryptor(l.create(z))},encryptBlock:function(L,w){this._des1.encryptBlock(L,w),this._des2.decryptBlock(L,w),this._des3.encryptBlock(L,w)},decryptBlock:function(L,w){this._des3.decryptBlock(L,w),this._des2.encryptBlock(L,w),this._des1.decryptBlock(L,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=u._createHelper(k)}(),t.TripleDES})}(Oh)),Oh.exports}var Bh={exports:{}},OO=Bh.exports,V_;function BO(){return V_||(V_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),eo(),to(),Ws(),Qt())})(OO,function(t){return function(){var i=t,a=i.lib,l=a.StreamCipher,u=i.algo,d=u.RC4=l.extend({_doReset:function(){for(var x=this._key,_=x.words,b=x.sigBytes,D=this._S=[],N=0;N<256;N++)D[N]=N;for(var N=0,B=0;N<256;N++){var k=N%b,L=_[k>>>2]>>>24-k%4*8&255;B=(B+D[N]+L)%256;var w=D[N];D[N]=D[B],D[B]=w}this._i=this._j=0},_doProcessBlock:function(x,_){x[_]^=m.call(this)},keySize:256/32,ivSize:0});function m(){for(var x=this._S,_=this._i,b=this._j,D=0,N=0;N<4;N++){_=(_+1)%256,b=(b+x[_])%256;var B=x[_];x[_]=x[b],x[b]=B,D|=x[(x[_]+x[b])%256]<<24-N*8}return this._i=_,this._j=b,D}i.RC4=l._createHelper(d);var f=u.RC4Drop=d.extend({cfg:d.cfg.extend({drop:192}),_doReset:function(){d._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)m.call(this)}});i.RC4Drop=l._createHelper(f)}(),t.RC4})}(Bh)),Bh.exports}var Mh={exports:{}},MO=Mh.exports,U_;function FO(){return U_||(U_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),eo(),to(),Ws(),Qt())})(MO,function(t){return function(){var i=t,a=i.lib,l=a.StreamCipher,u=i.algo,d=[],m=[],f=[],x=u.Rabbit=l.extend({_doReset:function(){for(var b=this._key.words,D=this.cfg.iv,N=0;N<4;N++)b[N]=(b[N]<<8|b[N]>>>24)&16711935|(b[N]<<24|b[N]>>>8)&4278255360;var B=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],k=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var N=0;N<4;N++)_.call(this);for(var N=0;N<8;N++)k[N]^=B[N+4&7];if(D){var L=D.words,w=L[0],S=L[1],V=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,z=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,U=V>>>16|z&4294901760,I=z<<16|V&65535;k[0]^=V,k[1]^=U,k[2]^=z,k[3]^=I,k[4]^=V,k[5]^=U,k[6]^=z,k[7]^=I;for(var N=0;N<4;N++)_.call(this)}},_doProcessBlock:function(b,D){var N=this._X;_.call(this),d[0]=N[0]^N[5]>>>16^N[3]<<16,d[1]=N[2]^N[7]>>>16^N[5]<<16,d[2]=N[4]^N[1]>>>16^N[7]<<16,d[3]=N[6]^N[3]>>>16^N[1]<<16;for(var B=0;B<4;B++)d[B]=(d[B]<<8|d[B]>>>24)&16711935|(d[B]<<24|d[B]>>>8)&4278255360,b[D+B]^=d[B]},blockSize:128/32,ivSize:64/32});function _(){for(var b=this._X,D=this._C,N=0;N<8;N++)m[N]=D[N];D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<m[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<m[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<m[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<m[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<m[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<m[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<m[6]>>>0?1:0)|0,this._b=D[7]>>>0<m[7]>>>0?1:0;for(var N=0;N<8;N++){var B=b[N]+D[N],k=B&65535,L=B>>>16,w=((k*k>>>17)+k*L>>>15)+L*L,S=((B&4294901760)*B|0)+((B&65535)*B|0);f[N]=w^S}b[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,b[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,b[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,b[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,b[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,b[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,b[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,b[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}i.Rabbit=l._createHelper(x)}(),t.Rabbit})}(Mh)),Mh.exports}var Fh={exports:{}},jO=Fh.exports,z_;function LO(){return z_||(z_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),eo(),to(),Ws(),Qt())})(jO,function(t){return function(){var i=t,a=i.lib,l=a.StreamCipher,u=i.algo,d=[],m=[],f=[],x=u.RabbitLegacy=l.extend({_doReset:function(){var b=this._key.words,D=this.cfg.iv,N=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],B=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var k=0;k<4;k++)_.call(this);for(var k=0;k<8;k++)B[k]^=N[k+4&7];if(D){var L=D.words,w=L[0],S=L[1],V=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,z=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,U=V>>>16|z&4294901760,I=z<<16|V&65535;B[0]^=V,B[1]^=U,B[2]^=z,B[3]^=I,B[4]^=V,B[5]^=U,B[6]^=z,B[7]^=I;for(var k=0;k<4;k++)_.call(this)}},_doProcessBlock:function(b,D){var N=this._X;_.call(this),d[0]=N[0]^N[5]>>>16^N[3]<<16,d[1]=N[2]^N[7]>>>16^N[5]<<16,d[2]=N[4]^N[1]>>>16^N[7]<<16,d[3]=N[6]^N[3]>>>16^N[1]<<16;for(var B=0;B<4;B++)d[B]=(d[B]<<8|d[B]>>>24)&16711935|(d[B]<<24|d[B]>>>8)&4278255360,b[D+B]^=d[B]},blockSize:128/32,ivSize:64/32});function _(){for(var b=this._X,D=this._C,N=0;N<8;N++)m[N]=D[N];D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<m[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<m[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<m[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<m[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<m[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<m[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<m[6]>>>0?1:0)|0,this._b=D[7]>>>0<m[7]>>>0?1:0;for(var N=0;N<8;N++){var B=b[N]+D[N],k=B&65535,L=B>>>16,w=((k*k>>>17)+k*L>>>15)+L*L,S=((B&4294901760)*B|0)+((B&65535)*B|0);f[N]=w^S}b[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,b[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,b[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,b[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,b[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,b[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,b[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,b[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}i.RabbitLegacy=l._createHelper(x)}(),t.RabbitLegacy})}(Fh)),Fh.exports}var jh={exports:{}},VO=jh.exports,q_;function UO(){return q_||(q_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),eo(),to(),Ws(),Qt())})(VO,function(t){return function(){var i=t,a=i.lib,l=a.BlockCipher,u=i.algo;const d=16,m=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function _(k,L){let w=L>>24&255,S=L>>16&255,V=L>>8&255,z=L&255,U=k.sbox[0][w]+k.sbox[1][S];return U=U^k.sbox[2][V],U=U+k.sbox[3][z],U}function b(k,L,w){let S=L,V=w,z;for(let U=0;U<d;++U)S=S^k.pbox[U],V=_(k,S)^V,z=S,S=V,V=z;return z=S,S=V,V=z,V=V^k.pbox[d],S=S^k.pbox[d+1],{left:S,right:V}}function D(k,L,w){let S=L,V=w,z;for(let U=d+1;U>1;--U)S=S^k.pbox[U],V=_(k,S)^V,z=S,S=V,V=z;return z=S,S=V,V=z,V=V^k.pbox[1],S=S^k.pbox[0],{left:S,right:V}}function N(k,L,w){for(let I=0;I<4;I++){k.sbox[I]=[];for(let T=0;T<256;T++)k.sbox[I][T]=f[I][T]}let S=0;for(let I=0;I<d+2;I++)k.pbox[I]=m[I]^L[S],S++,S>=w&&(S=0);let V=0,z=0,U=0;for(let I=0;I<d+2;I+=2)U=b(k,V,z),V=U.left,z=U.right,k.pbox[I]=V,k.pbox[I+1]=z;for(let I=0;I<4;I++)for(let T=0;T<256;T+=2)U=b(k,V,z),V=U.left,z=U.right,k.sbox[I][T]=V,k.sbox[I][T+1]=z;return!0}var B=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var k=this._keyPriorReset=this._key,L=k.words,w=k.sigBytes/4;N(x,L,w)}},encryptBlock:function(k,L){var w=b(x,k[L],k[L+1]);k[L]=w.left,k[L+1]=w.right},decryptBlock:function(k,L){var w=D(x,k[L],k[L+1]);k[L]=w.left,k[L+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=l._createHelper(B)}(),t.Blowfish})}(jh)),jh.exports}var zO=rh.exports,H_;function qO(){return H_||(H_=1,function(n,e){(function(t,i,a){n.exports=i(qe(),Kd(),LP(),UP(),eo(),HP(),to(),Hw(),S1(),WP(),$w(),ZP(),eO(),nO(),R1(),sO(),Ws(),Qt(),cO(),hO(),fO(),mO(),yO(),vO(),_O(),wO(),TO(),SO(),DO(),NO(),PO(),BO(),FO(),LO(),UO())})(zO,function(t){return t})}(rh)),rh.exports}var HO=qO();const $O=K_(HO),Gw=(n,e,t)=>{const i=n+e;return $O.HmacSHA1(i,t).toString()},GO=()=>{const n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),e=Math.floor(Date.now()/1e3)+2400,i=Gw(n,e,"private_CpvSBEbYcTfXzTxWG+o/BdMo55c=");return{token:n,expire:e.toString(),signature:i,publicKey:"public_1vF7O9S6tznVBCjXvWb1Z0Zsl0k="}},KO=()=>{const n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),e=Math.floor(Date.now()/1e3)+2400,i=Gw(n,e,"private_6PB+nEbVIOsG2COo3lxWKqqgt7o=");return{token:n,expire:e.toString(),signature:i,publicKey:"public_4IVe6C/J5H9PaU0Kku7c4l6LHnk="}},D1={async uploadPDF(n){try{if(n.type!=="application/pdf")throw new Error("Only PDF files are allowed");if(n.size>25*1024*1024)throw new Error("File must be less than 25MB");if(n.size===0)throw new Error("File appears to be empty");const e=(n.size/1024/1024).toFixed(2);return console.log(`Uploading to ImageKit: ${n.name} (${e}MB)`),n.size<10*1024*1024?(console.log("Using ImageKit small account for file < 10MB"),await this.uploadToSmallAccount(n)):(console.log("Using ImageKit main account for file >= 10MB"),await this.uploadToMainAccount(n))}catch(e){throw console.error("Error in dual ImageKit upload:",e),e}},async uploadToMainAccount(n){try{const e=Date.now(),t=GO(),i=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),a=new FormData;a.append("file",n),a.append("fileName",`large_${e}_${i}`),a.append("folder","/pdf-library/large-pdfs"),a.append("publicKey",t.publicKey),a.append("signature",t.signature),a.append("expire",t.expire),a.append("token",t.token),a.append("useUniqueFileName","true");const l=await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"POST",body:a});if(!l.ok){const d=await l.text();throw console.error("ImageKit main account response error:",d),new Error(`ImageKit main upload failed: ${l.status} ${l.statusText}`)}const u=await l.json();if(u.error)throw console.error("ImageKit main account upload error:",u.error),new Error(u.error.message||"ImageKit main upload failed");return console.log("PDF uploaded successfully to ImageKit main account:",u.url),{...u,provider:"imagekit-large"}}catch(e){throw console.error("Error uploading to ImageKit main account:",e),e}},async uploadToSmallAccount(n){try{const e=Date.now(),t=KO(),i=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),a=new FormData;a.append("file",n),a.append("fileName",`small_${e}_${i}`),a.append("folder","/pdf-library/small-pdfs"),a.append("publicKey",t.publicKey),a.append("signature",t.signature),a.append("expire",t.expire),a.append("token",t.token),a.append("useUniqueFileName","true");const l=await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"POST",body:a});if(!l.ok){const d=await l.text();throw console.error("ImageKit small account response error:",d),new Error(`ImageKit small upload failed: ${l.status} ${l.statusText}`)}const u=await l.json();if(u.error)throw console.error("ImageKit small account upload error:",u.error),new Error(u.error.message||"ImageKit small upload failed");return console.log("PDF uploaded successfully to ImageKit small account:",u.url),{...u,provider:"imagekit-small"}}catch(e){throw console.error("Error uploading to ImageKit small account:",e),e}},getOptimizedUrl(n){return n},getDownloadUrl(n){return n},async deletePDF(n,e){try{console.log(`PDF deletion should be handled by backend for security: ${n} (${e})`)}catch(t){throw console.error("Error deleting from ImageKit:",t),t}}};D1.uploadToSmallAccount;D1.uploadToMainAccount;const QO=Object.freeze(Object.defineProperty({__proto__:null,imagekitDualService:D1},Symbol.toStringTag,{value:"Module"}));n1(Wr,"pdfs");const $_=n1(Wr,"categories"),ka={async getAllCategories(){try{console.log("Fetching categories from Firebase...");const n=tg($_,ng("name","asc")),e=await rg(n);console.log("Query snapshot size:",e.size);const t=e.docs.map(i=>({id:i.id,...i.data(),createdAt:i.data().createdAt?.toDate()||new Date}));return console.log("Mapped categories:",t),t}catch(n){throw console.error("Error fetching categories:",n),n}},async createCategory(n){try{return(await ig($_,{...n,createdAt:Ze.now()})).id}catch(e){throw console.error("Error creating category:",e),e}},async updateCategory(n,e){try{const t=ws(Wr,"categories",n);await Z0(t,e)}catch(t){throw console.error("Error updating category:",t),t}},async deleteCategory(n){try{const e=ws(Wr,"categories",n);await I5(e)}catch(e){throw console.error("Error deleting category:",e),e}}},Kw=()=>Ag({queryKey:["pdfs"],queryFn:async()=>{try{return await zs.getAllPDFs()}catch{return console.warn("Firebase not configured, using mock data"),[{id:"1",title:"Getting Started with React",author:"John Smith",description:"A comprehensive guide to building modern web applications with React",categories:["Programming","Web Development"],tags:["React","JavaScript","Frontend"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:1250,downloadCount:890,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),uploadedBy:"admin1"},{id:"2",title:"TypeScript Best Practices",author:"Jane Doe",description:"Learn how to write better TypeScript code with industry best practices",categories:["Programming"],tags:["TypeScript","JavaScript","Best Practices"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:920,downloadCount:650,createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10"),uploadedBy:"admin1"},{id:"3",title:"Database Design Fundamentals",author:"Mike Johnson",description:"Essential concepts for designing efficient and scalable databases",categories:["Database","Backend"],tags:["SQL","Database Design","Backend"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:750,downloadCount:480,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05"),uploadedBy:"admin2"}]}}}),WO=n=>Ag({queryKey:["pdf",n],queryFn:async()=>{try{return await zs.getPDFById(n)}catch{return console.warn("Firebase not configured, using mock data"),[{id:"1",title:"Getting Started with React",author:"John Smith",description:"A comprehensive guide to building modern web applications with React",categories:["Programming","Web Development"],tags:["React","JavaScript","Frontend"],pdfUrl:"#",previewImageUrl:"https://via.placeholder.com/300x400",viewCount:1250,downloadCount:890,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),uploadedBy:"admin1"}].find(t=>t.id===n)||null}},enabled:!!n}),Qw=()=>{const n=$a();return gd({mutationFn:async({file:e,pdfData:t})=>await zs.createPDFWithFile(e,t),onSuccess:()=>{n.invalidateQueries({queryKey:["pdfs"]}),xe.success("PDF uploaded successfully!")},onError:e=>{console.error("Error creating PDF:",e),xe.error(e instanceof Error?e.message:"Failed to upload PDF")}})},Ww=()=>{const n=$a();return gd({mutationFn:async e=>await zs.createPDF(e),onSuccess:()=>{n.invalidateQueries({queryKey:["pdfs"]}),xe.success("PDF uploaded successfully!")},onError:e=>{console.error("Error creating PDF:",e),xe.error("Failed to upload PDF")}})},YO=()=>{const n=$a();return gd({mutationFn:async({id:e,updates:t})=>await zs.updatePDF(e,t),onSuccess:(e,{id:t})=>{n.invalidateQueries({queryKey:["pdfs"]}),n.invalidateQueries({queryKey:["pdf",t]}),xe.success("PDF updated successfully!")},onError:e=>{console.error("Error updating PDF:",e),xe.error("Failed to update PDF")}})},XO=()=>{const n=$a();return gd({mutationFn:async e=>await zs.deletePDF(e),onSuccess:()=>{n.invalidateQueries({queryKey:["pdfs"]}),xe.success("PDF deleted successfully!")},onError:e=>{console.error("Error deleting PDF:",e),xe.error("Failed to delete PDF")}})},Qd=()=>Ag({queryKey:["categories"],queryFn:async()=>await ka.getAllCategories()});function ZO(n,e,t={}){const{typeSpeed:i=45,deleteSpeed:a=25,delayBetween:l=1200,startDelay:u=300,pauseOnFocus:d=!0}=t,m=$.useRef(0),f=$.useRef(0),x=$.useRef(!1),_=$.useRef(null),b=$.useRef(!1);$.useEffect(()=>{const D=n.current;if(!D||e.length===0)return;const N=()=>{d&&(b.current=!0)},B=()=>{d&&(b.current=!1)};D.addEventListener("focus",N),D.addEventListener("blur",B);const k=()=>{if(!n.current)return;if(b.current){_.current=window.setTimeout(k,200);return}const L=e[m.current]||"";if(!x.current&&f.current<L.length){f.current+=1,n.current.placeholder=L.slice(0,f.current),_.current=window.setTimeout(k,i);return}if(!x.current&&f.current===L.length){x.current=!0,_.current=window.setTimeout(k,l);return}if(x.current&&f.current>0){f.current-=1,n.current.placeholder=L.slice(0,f.current),_.current=window.setTimeout(k,a);return}if(x.current&&f.current===0){x.current=!1,m.current=(m.current+1)%e.length,_.current=window.setTimeout(k,i);return}};return _.current=window.setTimeout(()=>{k()},u),()=>{_.current&&window.clearTimeout(_.current),D.removeEventListener("focus",N),D.removeEventListener("blur",B)}},[n,e,i,a,l,u,d])}const JO=n=>`/pdf/${n.startsWith("/")?n.slice(1):n}`,eB=()=>{const[n,e]=$.useState(""),[t,i]=$.useState([]),[a,l]=$.useState(!1),[u,d]=$.useState(!1),[m,f]=$.useState("newest"),x=dl(),{data:_,isLoading:b}=Kw(),{data:D,isLoading:N}=Qd(),B=Kr.useRef(null);ZO(B,["Search PDFs by title, author, or content...","Try keywords like: Short notes, Physics, Trigonometry","Filter by categories and tags too!"],{typeSpeed:35,deleteSpeed:20,delayBetween:1100,startDelay:500,pauseOnFocus:!0}),$.useEffect(()=>{const w=S=>{const V=S.target,z=document.querySelector(".category-dropdown-container"),U=document.querySelector(".sort-dropdown-container");z&&!z.contains(V)&&l(!1),U&&!U.contains(V)&&d(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const k=$.useMemo(()=>{if(!_)return[];let w=_.filter(S=>{const V=n===""||S.title.toLowerCase().includes(n.toLowerCase())||S.author.toLowerCase().includes(n.toLowerCase())||S.description.toLowerCase().includes(n.toLowerCase())||S.tags&&S.tags.some(U=>U.toLowerCase().includes(n.toLowerCase())),z=t.length===0||S.categories.some(U=>t.includes(U));return V&&z});return m==="newest"?w.sort((S,V)=>new Date(V.createdAt).getTime()-new Date(S.createdAt).getTime()):m==="oldest"?w.sort((S,V)=>new Date(S.createdAt).getTime()-new Date(V.createdAt).getTime()):m==="most-viewed"&&w.sort((S,V)=>V.viewCount-S.viewCount),w},[_,n,t,m]),L=$.useMemo(()=>{const w=new Set;return D&&D.forEach(S=>{w.add(S.name)}),Array.from(w).sort()},[D]);return b||N?g.jsx(qs,{renderGlitchBg:!0,message:"Loading..."}):g.jsxs("div",{className:"main-container",style:{position:"relative",minHeight:"100vh"},children:[g.jsx(zw,{glitchSpeed:50,centerVignette:!0,outerVignette:!1,smooth:!0,zIndex:0}),g.jsxs("div",{className:"content-wrapper",children:[g.jsxs("div",{className:"hero-section glass",children:[g.jsx("div",{className:"logo-container",children:g.jsx("img",{src:JO("/logow.svg"),alt:"Tea Time Study Logo",className:"logo"})}),g.jsx("h1",{className:"hero-title",style:{color:"#ffffff",fontWeight:600,fontFamily:'Jua, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:g.jsx(l_,{words:["Tea Time Study"],typeSpeed:60,deleteSpeed:0,delayBetween:0,loop:!1,ariaLabel:"Tea Time Study title",cursorChar:""})}),g.jsx("p",{className:"hero-description",style:{color:"#ffffff",minHeight:"2.5em"},children:g.jsx(l_,{words:["Welcome to Tea Time Study! It's great to have you here!","Discover, sip, and study with our cozy collection of notes and resources!"],typeSpeed:45,deleteSpeed:25,delayBetween:1200,loop:!0,ariaLabel:"Homepage hero typing text",cursorChar:"|"})})]}),g.jsxs("div",{className:"search-section glass",children:[g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem",flexWrap:"wrap"},children:[g.jsx("input",{ref:B,type:"text",value:n,onChange:w=>e(w.target.value),placeholder:"Search PDFs by title, author, or content...",className:"glass",style:{flexGrow:1,minWidth:"250px",padding:"0.75rem 1rem",fontSize:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",outline:"none",color:"#ffffff",fontWeight:"500"}}),g.jsxs("div",{className:"relative category-dropdown-container",style:{position:"relative",zIndex:200},children:[g.jsxs("button",{onClick:w=>{w.stopPropagation(),l(!a),d(!1)},className:"glass",style:{padding:"0.75rem 1rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap",color:"#ffffff",fontWeight:"500"},children:[t.length===0?"All Categories":`${t.length} Selected`," "]}),a&&g.jsxs("div",{className:"glass",style:{position:"absolute",top:"110%",left:0,width:"200px",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",flexDirection:"column",zIndex:9999,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)"},children:[g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:t.length===0?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937",borderRadius:"8px 8px 0 0"},onClick:()=>{i([]),l(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=t.length===0?"rgba(91, 130, 245, 0.1)":"transparent"},children:["All Categories ",t.length===0&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]}),L.map(w=>g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:t.includes(w)?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937"},onClick:()=>{t.includes(w)?i(S=>S.filter(V=>V!==w)):i(S=>[...S,w])},onMouseEnter:S=>{S.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:S=>{S.currentTarget.style.backgroundColor=t.includes(w)?"rgba(91, 130, 245, 0.1)":"transparent"},children:[w," ",t.includes(w)&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]},w))]})]}),g.jsxs("div",{className:"relative sort-dropdown-container",style:{position:"relative",zIndex:200},children:[g.jsxs("button",{onClick:w=>{w.stopPropagation(),d(!u),l(!1)},className:"glass",style:{padding:"0.75rem 1rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap",color:"#ffffff",fontWeight:"500"},children:[" ",m==="newest"?"Latest":m==="oldest"?"Oldest":"Most Viewed"," "]}),u&&g.jsxs("div",{className:"glass",style:{position:"absolute",top:"110%",left:0,width:"150px",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",flexDirection:"column",zIndex:9999,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)"},children:[g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:m==="newest"?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937",borderRadius:"8px 8px 0 0"},onClick:()=>{f("newest"),d(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=m==="newest"?"rgba(91, 130, 245, 0.1)":"transparent"},children:["Latest ",m==="newest"&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]}),g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:m==="oldest"?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937"},onClick:()=>{f("oldest"),d(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=m==="oldest"?"rgba(91, 130, 245, 0.1)":"transparent"},children:["Oldest ",m==="oldest"&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]}),g.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",transition:"background 0.2s",backgroundColor:m==="most-viewed"?"rgba(91, 130, 245, 0.1)":"transparent",color:"#1f2937",borderRadius:"0 0 8px 8px"},onClick:()=>{f("most-viewed"),d(!1)},onMouseEnter:w=>{w.currentTarget.style.backgroundColor="rgba(91, 130, 245, 0.1)"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=m==="most-viewed"?"rgba(91, 130, 245, 0.1)":"transparent"},children:["Most Viewed ",m==="most-viewed"&&g.jsx("span",{style:{float:"right",color:"#5b82f5"},children:""})]})]})]})]}),g.jsxs("p",{style:{fontSize:"1rem",color:"#ffffff",marginLeft:"0.25rem"},children:[k.length," document",k.length!==1?"s":""," found"]})]}),g.jsx("div",{className:"results-section glass",children:k.length===0?g.jsxs("div",{style:{textAlign:"center",paddingTop:"5rem",paddingBottom:"5rem"},children:[g.jsx(kE,{size:72,style:{margin:"0 auto 2rem",color:"#d1d5db"}}),g.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ffffff",marginBottom:"1rem"},children:"No PDFs found"}),g.jsx("p",{style:{color:"#ffffff",fontSize:"1.125rem",maxWidth:"24rem",margin:"0 auto"},children:"Try adjusting your search terms or filters to find what you're looking for."})]}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"40px",justifyContent:"center",padding:"20px 0",maxWidth:"1200px",margin:"0 auto"},children:k.map(w=>g.jsx("div",{style:{margin:"0",display:"flex",justifyContent:"center"},children:g.jsx(NP,{pdf:w})},w.id))})}),g.jsx("div",{style:{textAlign:"center",padding:"2rem 0 1rem",marginTop:"0.5rem"},children:g.jsxs("button",{onClick:()=>x("/guest-dashboard"),className:"glass",style:{padding:"1rem 2rem",fontSize:"1.125rem",fontWeight:"600",color:"#ffffff",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseEnter:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.15)",w.currentTarget.style.transform="translateY(-2px)",w.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.15)"},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},children:[g.jsx(xd,{size:20}),"upload your own PDFs"]})}),g.jsx("div",{style:{textAlign:"center",padding:"0.5rem 0 3rem",marginTop:"0"},children:g.jsxs("ul",{style:{display:"flex",flexWrap:"wrap",listStyle:"none",padding:0,margin:0,justifyContent:"center",gap:"1rem",width:"100%",maxWidth:"100%"},children:[g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#1877f2",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(24, 119, 242, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://facebook.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#1877f2",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Facebook"}),g.jsx("svg",{viewBox:"0 0 320 512",height:"1.2em",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{color:"#ffffff"},children:g.jsx("path",{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#0A66C2",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(10, 102, 194, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://www.linkedin.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#0A66C2",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"LinkedIn"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708C16 15.487 15.474 16 14.825 16H1.175C.526 16 0 15.487 0 14.854V1.146zM4.943 13.394V6.169H2.542v7.225h2.401zM3.743 4.956c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.358.54-1.358 1.248 0 .694.521 1.248 1.327 1.248h.015zM13.458 13.394V9.349c0-2.218-1.184-3.251-2.764-3.251-1.28 0-1.856.704-2.169 1.201h.016V6.169H6.141c.032.704 0 7.225 0 7.225h2.401V9.804c0-.192.014-.384.072-.521.158-.384.518-.782 1.121-.782.79 0 1.107.59 1.107 1.456v3.436h2.616z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#1da1f2",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(29, 161, 242, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://twitter.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#1da1f2",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Twitter"}),g.jsx("svg",{height:"1.8em",fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",style:{color:"#ffffff"},children:g.jsx("path",{d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#e4405f",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(228, 64, 95, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://instagram.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#e4405f",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Instagram"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#333",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(51, 51, 51, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://github.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#333",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"GitHub"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#FF0000",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(255, 0, 0, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://youtube.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#FF0000",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"YouTube"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#7AB55C",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(122, 181, 92, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://shopify.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#7AB55C",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Shopify"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 50 50",style:{color:"#ffffff"},children:g.jsx("path",{d:"M 22.839844 2.0351562 C 19.659152 1.9484924 16.325547 6.1910156 14.529297 12.720703 L 8.8847656 14.560547 C 8.5177656 14.680547 8.2511719 14.999812 8.2011719 15.382812 L 4.7558594 42.193359 C 4.6888594 42.718359 5.0415 43.204734 5.5625 43.302734 L 29.630859 47.882812 L 31.488281 7.1972656 L 30.376953 7.5585938 C 29.713953 5.1145938 28.473844 3.5775156 26.839844 3.2285156 C 26.344844 3.1205156 25.866344 3.1427656 25.402344 3.2597656 C 24.845344 2.6717656 24.203656 2.266375 23.472656 2.109375 C 23.262469 2.0645 23.05189 2.0409338 22.839844 2.0351562 z M 22.720703 4.0371094 C 22.835859 4.0344238 22.948953 4.0437813 23.056641 4.0664062 C 23.227641 4.1034062 23.392734 4.17925 23.552734 4.28125 C 21.567734 5.97825 20.050047 9.1985469 19.248047 11.185547 L 16.847656 11.966797 C 18.482656 6.9417969 20.993363 4.0773926 22.720703 4.0371094 z M 26.65625 5.2675781 C 27.42425 5.5845781 28.071563 6.6167344 28.476562 8.1777344 L 27.453125 8.5117188 C 27.293125 7.2737188 27.02925 6.1775781 26.65625 5.2675781 z M 24.755859 5.9179688 C 25.120859 6.7669688 25.386484 7.865625 25.521484 9.140625 L 21.791016 10.355469 C 22.804016 8.2054687 23.847859 6.7299688 24.755859 5.9179688 z M 33.482422 7.3964844 L 31.636719 47.806641 L 44.216797 45.023438 C 44.728797 44.910438 45.065234 44.421297 44.990234 43.904297 C 43.389234 32.807297 40.349922 11.701203 40.294922 11.283203 C 40.283922 11.183203 40.25875 11.085188 40.21875 10.992188 C 40.02275 10.542188 39.668313 10.219641 39.195312 10.056641 C 39.103313 10.025641 38.993484 10.007906 38.896484 10.003906 C 38.674484 9.9949062 36.702281 9.8413906 35.863281 9.7753906 C 35.177281 9.0743906 33.860578 7.7328281 33.517578 7.4238281 C 33.506578 7.4128281 33.493422 7.4064844 33.482422 7.3964844 z M 22.71875 18.023438 C 24.78275 18.023438 25.880734 18.672172 25.927734 18.701172 C 26.124734 18.820172 26.213578 19.06125 26.142578 19.28125 L 24.630859 23.941406 C 24.584859 24.083406 24.479797 24.196953 24.341797 24.251953 C 24.201797 24.309953 24.046016 24.298516 23.916016 24.228516 C 23.903016 24.221516 22.63025 23.539063 21.15625 23.539062 C 19.37325 23.539062 19.107422 24.451141 19.107422 24.994141 C 19.107422 25.583141 19.880344 26.166844 20.777344 26.839844 C 22.364344 28.031844 24.537109 29.663453 24.537109 32.939453 C 24.537109 37.043453 21.982219 39.912109 18.324219 39.912109 C 14.164219 39.912109 12.069422 37.320937 11.982422 37.210938 C 11.881422 37.083937 11.848531 36.913813 11.894531 36.757812 L 12.957031 33.185547 C 13.006031 33.022547 13.136781 32.894656 13.300781 32.847656 C 13.463781 32.803656 13.641531 32.840172 13.769531 32.951172 C 13.789531 32.969172 15.726719 34.662109 17.261719 34.662109 C 18.154719 34.662109 18.390625 33.946359 18.390625 33.568359 C 18.390625 32.588359 17.673625 31.991328 16.765625 31.236328 C 15.511625 30.194328 13.953125 28.897031 13.953125 26.082031 C 13.953125 22.201031 16.658609 18.025391 22.599609 18.025391 C 22.639609 18.025391 22.67875 18.023438 22.71875 18.023438 z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#FFDD00",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(255, 221, 0, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://buymeacoffee.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#FFDD00",color:"#000",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Buy Me a Coffee"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 24 24",style:{color:"#ffffff"},children:g.jsx("path",{d:"m20.216 6.415-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 0 0-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 0 0-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 0 1-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 0 1 3.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 0 1-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 0 1-4.743.295 37.059 37.059 0 0 1-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0 0 11.343.376.483.483 0 0 1 .535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.683-6.663 1.024-9.995l.215-2.087a.484.484 0 0 1 .39-.426c.402-.078.787-.212 1.074-.518.455-.488.546-1.124.385-1.766zm-1.478.772c-.145.137-.363.201-.578.233-2.416.359-4.866.54-7.308.46-1.748-.06-3.477-.254-5.207-.498-.17-.024-.353-.055-.47-.18-.22-.236-.111-.71-.054-.995.052-.26.152-.609.463-.646.484-.057 1.046.148 1.526.22.577.088 1.156.159 1.737.212 2.48.226 5.002.19 7.472-.14.45-.06.899-.13 1.345-.21.399-.072.84-.206 1.08.206.166.281.188.657.162.974a.544.544 0 0 1-.169.364zm-6.159 3.9c-.862.37-1.84.788-3.109.788a5.884 5.884 0 0 1-1.569-.217l.877 9.004c.065.78.717 1.38 1.5 1.38 0 0 1.243.065 1.658.065.447 0 1.786-.065 1.786-.065.783 0 1.434-.6 1.499-1.38l.94-9.95a3.996 3.996 0 0 0-1.322-.238c-.826 0-1.491.284-2.26.613z"})})]}),g.jsxs("li",{style:{position:"relative",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:"50px",height:"50px",fontSize:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},onMouseEnter:w=>{w.currentTarget.style.background="#BD081C",w.currentTarget.style.transform="translateY(-5px) scale(1.1)",w.currentTarget.style.boxShadow="0 8px 20px rgba(189, 8, 28, 0.3)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="1",S.style.top="-45px",S.style.visibility="visible")},onMouseLeave:w=>{w.currentTarget.style.background="rgba(255, 255, 255, 0.1)",w.currentTarget.style.transform="translateY(0) scale(1)",w.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)";const S=w.currentTarget.querySelector(".tooltip");S&&(S.style.opacity="0",S.style.top="0",S.style.visibility="hidden")},onClick:()=>window.open("https://pinterest.com","_blank"),children:[g.jsx("span",{className:"tooltip",style:{position:"absolute",top:"0",fontSize:"14px",background:"#BD081C",color:"#fff",padding:"5px 8px",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",opacity:"0",pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",visibility:"hidden",whiteSpace:"nowrap"},children:"Pinterest"}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2em",fill:"currentColor",viewBox:"0 0 16 16",style:{color:"#ffffff"},children:g.jsx("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})})]})]})})]}),g.jsx("footer",{style:{marginTop:"4rem",padding:"2rem 1rem",textAlign:"center",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255, 255, 255, 0.2)",color:"white"},children:g.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:g.jsxs("p",{style:{fontSize:"1.1rem",margin:0,lineHeight:"1.6"},children:["Having trouble with the site, need help or have suggestions?"," ",g.jsx("a",{href:"https://mail.google.com/mail/?view=cm&to=ashinjiyostudy@gmail.com&su=PDF%20Library%20Hub%20-%20Support%20Request",target:"_blank",rel:"noopener noreferrer",style:{color:"#4db6e6",textDecoration:"underline",fontWeight:600,transition:"color 0.3s ease"},onMouseOver:w=>{w.currentTarget.style.color="#66c2ff"},onMouseOut:w=>{w.currentTarget.style.color="#4db6e6"},children:"Contact Me"})]})})})]})},tB=()=>{const[n,e]=$.useState(""),[t,i]=$.useState(""),[a,l]=$.useState(!1),[u,d]=$.useState(!1),m=dl(),x=Tr().state?.from?.pathname||"/dashboard",_=async b=>{b.preventDefault(),d(!0);try{await ew(C1,n,t),xe.success("Welcome back!"),m(x,{replace:!0})}catch(D){const N=D instanceof Error?D.message:"Failed to sign in";xe.error(N)}finally{d(!1)}};return g.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:g.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg border",children:[g.jsxs("div",{className:"text-center",children:[g.jsx(iS,{className:"mx-auto h-12 w-12 text-blue-500"}),g.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Admin Login"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the dashboard"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>e(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"admin@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsxs("div",{className:"mt-1 relative",children:[g.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:t,onChange:b=>i(b.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 pr-10",placeholder:"Enter your password"}),g.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?g.jsx(GC,{className:"h-5 w-5 text-gray-400"}):g.jsx(qh,{className:"h-5 w-5 text-gray-400"})})]})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign in"})})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("p",{className:"text-sm text-gray-600",children:"Demo credentials: admin@demo.com / admin123"})})]})})},nB=({children:n})=>{const e=Tr(),[t,i]=$.useState(!1),a=[{name:"PDFs",href:"/dashboard/pdfs",icon:Ma},{name:"Categories",href:"/dashboard/categories",icon:DE},{name:"Upload",href:"/dashboard/upload",icon:xd}],l=async()=>{try{await nw(C1),xe.success("Signed out successfully")}catch{xe.error("Failed to sign out")}};return g.jsxs("div",{className:"flex h-screen bg-gray-100",children:[g.jsx("div",{className:"lg:hidden fixed top-0 left-0 z-50 p-4",children:g.jsx("button",{onClick:()=>i(!t),className:"p-2 bg-blue-600 text-white rounded-md shadow-lg hover:bg-blue-700 transition-colors",children:t?g.jsx(tl,{size:24}):g.jsx(lS,{size:24})})}),t&&g.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>i(!1)}),g.jsxs("div",{className:`
        flex flex-col w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${t?"translate-x-0":"-translate-x-full"}
        fixed inset-y-0 left-0 z-50
      `,children:[g.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-blue-600",children:g.jsx("h1",{className:"text-lg lg:text-xl font-bold text-white",children:"PDF Hub Admin"})}),g.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[g.jsxs(qn,{to:"/",className:"flex items-center px-3 py-2 text-gray-700 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>i(!1),children:[g.jsx(XC,{size:20,className:"mr-3"}),"Back to Site"]}),g.jsx("div",{className:"border-t border-gray-200 my-4"}),a.map(u=>{const d=e.pathname===u.href;return g.jsxs(qn,{to:u.href,onClick:()=>i(!1),className:`flex items-center px-3 py-2 rounded-md transition-colors ${d?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[g.jsx(u.icon,{size:20,className:"mr-3"}),u.name]},u.name)})]}),g.jsx("div",{className:"p-4 border-t border-gray-200",children:g.jsxs("button",{onClick:l,className:"flex items-center w-full px-3 py-2 text-red-600 rounded-md hover:bg-red-50 transition-colors",children:[g.jsx(NE,{size:20,className:"mr-3"}),"Sign Out"]})})]}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[g.jsx("div",{className:"lg:hidden h-16"}),g.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 lg:p-6",children:n})]})]})},rB=()=>{const{data:n,isLoading:e,error:t}=Kw(),{data:i=[],isLoading:a}=Qd(),l=XO(),u=YO(),[d,m]=$.useState(null),[f,x]=$.useState(null),[_,b]=$.useState(""),[D,N]=$.useState({title:"",author:"",description:"",category:"",tags:[]}),B=async E=>{try{await l.mutateAsync(E),m(null),xe.success("PDF deleted successfully")}catch(A){console.error("Delete failed:",A),xe.error("Failed to delete PDF")}},k=E=>{x(E),N({title:E.title,author:E.author,description:E.description,category:E.categories[0]||"",tags:E.tags})},L=async()=>{if(f)try{await u.mutateAsync({id:f.id,updates:{title:D.title,author:D.author,description:D.description,categories:D.category?[D.category]:[],tags:D.tags}}),x(null),xe.success("PDF updated successfully")}catch(E){console.error("Update failed:",E),xe.error("Failed to update PDF")}},w=E=>{E.trim()&&!D.tags.includes(E.trim())&&N(A=>({...A,tags:[...A.tags,E.trim()]}))},S=E=>{N(A=>({...A,tags:A.tags.filter(P=>P!==E)}))},V=$.useMemo(()=>{if(!n)return[];if(!_.trim())return n;const E=_.toLowerCase();return n.filter(A=>A.title.toLowerCase().includes(E)||A.author.toLowerCase().includes(E)||A.description.toLowerCase().includes(E)||A.categories.some(P=>P.toLowerCase().includes(E))||A.tags.some(P=>P.toLowerCase().includes(E)))},[n,_]),z=(E,A)=>{if(!A.trim())return E;const P=new RegExp(`(${A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return E.split(P).map((O,he)=>P.test(O)?g.jsx("mark",{className:"bg-yellow-200 px-1 rounded",children:O},he):O)};if($.useEffect(()=>{const E=A=>{if((A.ctrlKey||A.metaKey)&&A.key==="k"){A.preventDefault();const P=document.getElementById("pdf-search-input");P&&P.focus()}};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[]),e)return g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx(qs,{})});if(t)return g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsxs("div",{className:"text-center",children:[g.jsx(VC,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error loading PDFs"}),g.jsx("p",{className:"text-gray-500",children:"Please check your Firebase connection"})]})});const U=V?.reduce((E,A)=>E+A.viewCount,0)||0,I=V?.reduce((E,A)=>E+A.downloadCount,0)||0,T=V?.filter(E=>{const A=new Date(E.createdAt),P=new Date;return A.getMonth()===P.getMonth()&&A.getFullYear()===P.getFullYear()}).length||0;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PDF Management"}),g.jsx(qn,{to:"/dashboard/upload",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Upload New PDF"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[g.jsxs("div",{className:"relative max-w-md",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(kE,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{id:"pdf-search-input",type:"text",placeholder:"Search PDFs by title, author, category, or tags... (Ctrl+K)",value:_,onChange:E=>b(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),_&&g.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:g.jsx("button",{onClick:()=>b(""),className:"text-gray-400 hover:text-gray-600",title:"Clear search",children:g.jsx(tl,{className:"h-5 w-5"})})})]}),_&&g.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",V.length," of ",n?.length||0," PDFs"]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(Ma,{className:"h-6 w-6 lg:h-8 lg:w-8 text-blue-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:_?"Filtered PDFs":"Total PDFs"}),g.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:[_?V?.length||0:n?.length||0,_&&g.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["of ",n?.length||0]})]})]})]})}),g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(qh,{className:"h-6 w-6 lg:h-8 lg:w-8 text-green-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),g.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:U.toLocaleString()})]})]})}),g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(HC,{className:"h-6 w-6 lg:h-8 lg:w-8 text-purple-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),g.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:I.toLocaleString()})]})]})}),g.jsx("div",{className:"bg-white p-4 lg:p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(RE,{className:"h-6 w-6 lg:h-8 lg:w-8 text-orange-600"}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),g.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:T})]})]})})]}),"      ",g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-4 lg:px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[_?"Search Results":"All PDFs"," (",V?.length||0,")"]})}),V&&V.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PDF"}),g.jsx("th",{className:"hidden sm:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),g.jsx("th",{className:"hidden md:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),g.jsx("th",{className:"hidden md:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Downloads"}),g.jsx("th",{className:"hidden lg:table-cell px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),g.jsx("th",{className:"px-4 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(E=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"flex-shrink-0 h-8 w-8 lg:h-10 lg:w-10",children:g.jsx("div",{className:"h-8 w-8 lg:h-10 lg:w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:g.jsx(Ma,{className:"h-4 w-4 lg:h-6 lg:w-6 text-blue-600"})})}),g.jsxs("div",{className:"ml-3 lg:ml-4",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:_?z(E.title,_):E.title}),g.jsx("div",{className:"text-xs lg:text-sm text-gray-500 max-w-xs truncate",children:_?z(E.categories.join(", "),_):E.categories.join(", ")}),g.jsxs("div",{className:"sm:hidden text-xs text-gray-500 truncate mt-1",children:["by ",_?z(E.author,_):E.author]})]})]})}),g.jsx("td",{className:"hidden sm:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_?z(E.author,_):E.author}),g.jsx("td",{className:"hidden md:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.viewCount.toLocaleString()}),g.jsx("td",{className:"hidden md:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.downloadCount.toLocaleString()}),g.jsx("td",{className:"hidden lg:table-cell px-4 lg:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()}),g.jsx("td",{className:"px-4 lg:px-6 py-4 whitespace-nowrap text-sm font-medium",children:g.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[g.jsx("button",{onClick:()=>k(E),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Edit PDF",children:g.jsx(xS,{className:"h-4 w-4"})}),g.jsx("button",{onClick:()=>m(E.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete PDF",children:g.jsx(OE,{className:"h-4 w-4"})})]})})]},E.id))})]})}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Ma,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_?g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No PDFs found"}),g.jsxs("p",{className:"text-gray-500 mb-4",children:['No PDFs match your search for "',_,'". Try adjusting your search terms.']}),g.jsx("button",{onClick:()=>b(""),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Clear Search"})]}):g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No PDFs uploaded yet"}),g.jsx("p",{className:"text-gray-500 mb-4",children:"Start by uploading your first PDF document"}),g.jsx(qn,{to:"/dashboard/upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Upload First PDF"})]})]})]}),d&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete PDF"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this PDF? This action cannot be undone."}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",disabled:l.isPending,children:"Cancel"}),g.jsx("button",{onClick:()=>B(d),disabled:l.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:l.isPending?"Deleting...":"Delete"})]})]})}),f&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Edit PDF Details"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title * (max 18 characters)"}),g.jsx("input",{type:"text",value:D.title,onChange:E=>N(A=>({...A,title:E.target.value})),maxLength:18,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[D.title.length,"/18 characters"]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),g.jsx("input",{type:"text",value:D.author,onChange:E=>N(A=>({...A,author:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{rows:4,value:D.description,onChange:E=>N(A=>({...A,description:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),g.jsxs("select",{value:D.category,onChange:E=>N(A=>({...A,category:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:a,children:[g.jsx("option",{value:"",children:a?"Loading categories...":"Select a category"}),!a&&i.map(E=>g.jsx("option",{value:E.name,children:E.name},E.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:D.tags.map((E,A)=>g.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[E,g.jsx("button",{type:"button",onClick:()=>S(E),className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]},A))}),g.jsx("input",{type:"text",placeholder:"Type a tag and press Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:E=>{if(E.key==="Enter"){E.preventDefault();const A=E.target;w(A.value),A.value=""}}})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[g.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",disabled:u.isPending,children:"Cancel"}),g.jsx("button",{onClick:L,disabled:u.isPending||!D.title.trim()||!D.author.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:u.isPending?"Updating...":"Update PDF"})]})]})})]})},iB=()=>{const[n,e]=$.useState([]),[t,i]=$.useState(!0),[a,l]=$.useState(null),[u,d]=$.useState(!1),[m,f]=$.useState({name:"",description:"",color:"#3B82F6"}),x=$a(),_=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"];$.useEffect(()=>{b()},[]);const b=async()=>{try{console.log("Loading categories...");const U=await ka.getAllCategories();console.log("Categories loaded:",U),await D(U);const I=await ka.getAllCategories();e(I)}catch(U){xe.error("Failed to load categories"),console.error("Error loading categories:",U)}finally{i(!1)}},D=async U=>{try{const I={};U.forEach(A=>{const P=A.name.toLowerCase();I[P]||(I[P]=[]),I[P].push(A)});const T=Object.values(I).filter(A=>A.length>1);if(T.length===0)return;let E=0;for(const A of T){A.sort((P,F)=>P.createdAt.getTime()-F.createdAt.getTime());for(let P=1;P<A.length;P++)await ka.deleteCategory(A[P].id),E++}E>0&&console.log(`Automatically removed ${E} duplicate categories`)}catch(I){console.error("Error auto-removing duplicates:",I)}},N=async()=>{x.invalidateQueries({queryKey:["categories"]}),xe.success("Dashboard categories applied to homepage!")},B=async()=>{if(!m.name.trim()){xe.error("Category name is required");return}try{await ka.createCategory(m),xe.success("Category created successfully"),f({name:"",description:"",color:"#3B82F6"}),d(!1),b()}catch(U){xe.error("Failed to create category"),console.error("Error creating category:",U)}},k=async U=>{if(!m.name.trim()){xe.error("Category name is required");return}try{await ka.updateCategory(U.id,m),xe.success("Category updated successfully"),l(null),f({name:"",description:"",color:"#3B82F6"}),b()}catch(I){xe.error("Failed to update category"),console.error("Error updating category:",I)}},L=async(U,I)=>{if(confirm(`Are you sure you want to delete the category "${I}"? This action cannot be undone.`))try{await ka.deleteCategory(U),xe.success("Category deleted successfully"),b()}catch(T){xe.error("Failed to delete category"),console.error("Error deleting category:",T)}},w=U=>{l(U.id),f({name:U.name,description:U.description||"",color:U.color||"#3B82F6"})},S=()=>{l(null),f({name:"",description:"",color:"#3B82F6"})},V=()=>{d(!0),f({name:"",description:"",color:"#3B82F6"})},z=()=>{d(!1),f({name:"",description:"",color:"#3B82F6"})};return t?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx(qs,{})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Organize your PDF collection with categories"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Update homepage with current dashboard categories",children:[g.jsx(MC,{size:20,className:"mr-2"}),"Apply to Homepage"]}),g.jsxs("button",{onClick:V,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[g.jsx(Hh,{size:20,className:"mr-2"}),"Add Category"]})]})]}),u&&g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Category"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),g.jsx("input",{type:"text",value:m.name,onChange:U=>f({...m,name:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter category name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),g.jsx("div",{className:"flex space-x-2",children:_.map(U=>g.jsx("button",{onClick:()=>f({...m,color:U}),className:`w-8 h-8 rounded-full border-2 ${m.color===U?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:U}},U))})]})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),g.jsx("textarea",{value:m.description,onChange:U=>f({...m,description:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter category description (optional)"})]}),g.jsxs("div",{className:"flex space-x-3 mt-6",children:[g.jsxs("button",{onClick:B,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[g.jsx(p2,{size:16,className:"mr-2"}),"Save Category"]}),g.jsxs("button",{onClick:z,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[g.jsx(tl,{size:16,className:"mr-2"}),"Cancel"]})]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold",children:["Categories (",n.length,")"]})}),n.length===0?g.jsxs("div",{className:"p-8 text-center text-gray-500",children:[g.jsx(DE,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No categories found. Create your first category to get started."})]}):g.jsx("div",{className:"divide-y divide-gray-200",children:n.map(U=>g.jsx("div",{className:"p-6",children:a===U.id?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),g.jsx("input",{type:"text",value:m.name,onChange:I=>f({...m,name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),g.jsx("div",{className:"flex space-x-2",children:_.map(I=>g.jsx("button",{onClick:()=>f({...m,color:I}),className:`w-8 h-8 rounded-full border-2 ${m.color===I?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:I}},I))})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),g.jsx("textarea",{value:m.description,onChange:I=>f({...m,description:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsxs("button",{onClick:()=>k(U),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[g.jsx(p2,{size:16,className:"mr-2"}),"Save Changes"]}),g.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[g.jsx(tl,{size:16,className:"mr-2"}),"Cancel"]})]})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:U.color||"#3B82F6"}}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:U.name}),U.description&&g.jsx("p",{className:"text-gray-600 mt-1",children:U.description}),g.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Created ",U.createdAt.toLocaleDateString()]})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>w(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit category",children:g.jsx(hS,{size:16})}),g.jsx("button",{onClick:()=>L(U.id,U.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete category",children:g.jsx(OE,{size:16})})]})]})},U.id))})]})]})},cg=()=>{const n={imagekit:{publicKey:"public_1vF7O9S6tznVBCjXvWb1Z0Zsl0k=",privateKey:"private_CpvSBEbYcTfXzTxWG+o/BdMo55c=",urlEndpoint:"https://ik.imagekit.io/pdfbps/"},imagekitSmall:{publicKey:"public_4IVe6C/J5H9PaU0Kku7c4l6LHnk=",privateKey:"private_6PB+nEbVIOsG2COo3lxWKqqgt7o=",urlEndpoint:"https://ik.imagekit.io/xigdwujoy/"},appwrite:{endpoint:"https://fra.cloud.appwrite.io/v1",projectId:"pdf-library-hub",bucketId:"pdfs"}},e=[];n.imagekit.publicKey.startsWith("your_")?e.push(" ImageKit Main Account Public Key not configured"):console.log(" ImageKit Main Account Public Key configured"),n.imagekit.privateKey.startsWith("your_")?e.push(" ImageKit Main Account Private Key not configured"):console.log(" ImageKit Main Account Private Key configured"),n.imagekit.urlEndpoint.includes("your_")?e.push(" ImageKit Main Account URL Endpoint not configured"):console.log(" ImageKit Main Account URL Endpoint configured"),n.imagekitSmall.publicKey.startsWith("your_")?e.push(" ImageKit Small Account Public Key not configured"):console.log(" ImageKit Small Account Public Key configured"),n.imagekitSmall.privateKey.startsWith("your_")?e.push(" ImageKit Small Account Private Key not configured"):console.log(" ImageKit Small Account Private Key configured"),n.imagekitSmall.urlEndpoint.includes("your_")?e.push(" ImageKit Small Account URL Endpoint not configured"):console.log(" ImageKit Small Account URL Endpoint configured");const t=!n.appwrite.projectId.startsWith("your_");return t?(n.appwrite.endpoint.includes("your_")?e.push(" Appwrite Endpoint not configured"):console.log(" Appwrite Endpoint configured"),n.appwrite.projectId.startsWith("your_")?e.push(" Appwrite Project ID not configured"):console.log(" Appwrite Project ID configured"),n.appwrite.bucketId.startsWith("your_")?e.push(" Appwrite Bucket ID not configured"):console.log(" Appwrite Bucket ID configured")):(console.log("  Appwrite not configured (optional - for files 25-50MB)"),console.log("   Current limit: 25MB via ImageKit"),console.log("   To enable 50MB uploads, configure Appwrite storage")),console.log(" Firebase API Key configured"),console.log(" Firebase Project ID configured"),e.length>0?(console.error(" Configuration Issues Found:"),e.forEach(a=>console.error(a)),console.error(`
 Please follow the setup guides:`),console.error("- ImageKit Setup: ./IMAGEKIT_SETUP.md"),console.error("- Firebase: ./FIREBASE_SETUP.md"),console.error("- Optional - Appwrite Setup: ./APPWRITE_SETUP.md"),!1):(console.log(" Core services configured correctly!"),console.log(` Smart Upload System Ready (max ${t?"50MB":"25MB"}):`),console.log("   Small files (< 10MB)  ImageKit Small Account"),console.log("   Medium files (10-25MB)  ImageKit Main Account"),console.log(t?"   Large files (25-50MB)  Appwrite Storage":"   For files 25-50MB: Configure Appwrite (see APPWRITE_SETUP.md)"),!0)},G_=async()=>{console.log(" Testing Triple Upload Configuration...");try{await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Main Account endpoint reachable")}catch(n){console.error(" ImageKit Main Account endpoint test failed:",n)}try{await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Small Account endpoint reachable")}catch(n){console.error(" ImageKit Small Account endpoint test failed:",n)}try{await fetch("https://fra.cloud.appwrite.io/v1/health",{method:"GET"}),console.log(" Appwrite endpoint reachable")}catch(n){console.error(" Appwrite endpoint test failed:",n)}try{await fetch("https://firestore.googleapis.com/v1/projects/pdf-library-bps/databases/(default)/documents",{method:"OPTIONS"}),console.log(" Firebase Firestore endpoint reachable")}catch(n){console.error(" Firebase Firestore endpoint test failed:",n)}console.log(" Triple Upload Service Test Complete")},sB=async()=>{try{console.log(" Testing ImageKit Main Account service...");const n="public_1vF7O9S6tznVBCjXvWb1Z0Zsl0k=",e="private_CpvSBEbYcTfXzTxWG+o/BdMo55c=",t="https://ik.imagekit.io/pdfbps/";if(!n||n.startsWith("your_"))return console.error(" ImageKit Main Account Public Key not configured"),!1;if(!e||e.startsWith("your_"))return console.error(" ImageKit Main Account Private Key not configured"),!1;if(!t||t.includes("your_"))return console.error(" ImageKit Main Account URL Endpoint not configured"),!1;console.log(" ImageKit Main Account environment variables configured");try{return await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Main Account API endpoint reachable"),!0}catch{return console.error(" ImageKit Main Account API endpoint not reachable"),!1}}catch(n){return console.error(" ImageKit Main Account test failed:",n),!1}},aB=async()=>{try{console.log(" Testing ImageKit Small Account service...");const n="public_4IVe6C/J5H9PaU0Kku7c4l6LHnk=",e="private_6PB+nEbVIOsG2COo3lxWKqqgt7o=",t="https://ik.imagekit.io/xigdwujoy/";if(!n||n.startsWith("your_"))return console.error(" ImageKit Small Account Public Key not configured"),!1;if(!e||e.startsWith("your_"))return console.error(" ImageKit Small Account Private Key not configured"),!1;if(!t||t.includes("your_"))return console.error(" ImageKit Small Account URL Endpoint not configured"),!1;console.log(" ImageKit Small Account environment variables configured");try{return await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"OPTIONS"}),console.log(" ImageKit Small Account API endpoint reachable"),!0}catch{return console.error(" ImageKit Small Account API endpoint not reachable"),!1}}catch(n){return console.error(" ImageKit Small Account test failed:",n),!1}},oB=async()=>{try{console.log(" Testing Appwrite service...");const n="https://fra.cloud.appwrite.io/v1",e="pdf-library-hub",t="pdfs";if(!n||n.includes("your_"))return console.error(" Appwrite Endpoint not configured"),!1;if(!e||e.startsWith("your_"))return console.error(" Appwrite Project ID not configured"),!1;if(!t||t.startsWith("your_"))return console.error(" Appwrite Bucket ID not configured"),!1;console.log(" Appwrite environment variables configured");try{return await fetch(`${n}/health`,{method:"GET"}),console.log(" Appwrite API endpoint reachable"),!0}catch{return console.error(" Appwrite API endpoint not reachable"),!1}}catch(n){return console.error(" Appwrite test failed:",n),!1}},lB=async()=>{try{console.log(" Testing Firebase service...");const n="AIzaSyChbvxl2bz1YTny0NkR1WeVWDIPmWNZ7Oc",e="pdf-library-bps";console.log(" Firebase environment variables configured");try{return await fetch(`https://firestore.googleapis.com/v1/projects/${e}/databases/(default)/documents`,{method:"OPTIONS"}),console.log(" Firebase Firestore endpoint reachable"),!0}catch{return console.error(" Firebase Firestore endpoint not reachable"),!1}}catch(n){return console.error(" Firebase test failed:",n),!1}},cB=async()=>{console.log(` Testing Triple Upload System...
`);const n=await aB();console.log("");const e=await sB();console.log("");const t=await oB();console.log("");const i=await lB();console.log("");const a=n&&e&&t&&i;return a?(console.log(" All services are configured and working!"),console.log(" Triple Upload System Ready:"),console.log("   Small files (< 10MB)  ImageKit Small Account"),console.log("   Medium files (10-25MB)  ImageKit Main Account"),console.log("   Large files (25-50MB)  Appwrite Storage")):(console.error(" Some services need configuration:"),n||console.error("- ImageKit Small Account needs setup (handles PDFs < 10MB)"),e||console.error("- ImageKit Main Account needs setup (handles PDFs 10-25MB)"),t||console.error("- Appwrite needs setup (handles PDFs 25-50MB)"),i||console.error("- Firebase needs setup (metadata storage)"),console.error(`
 See TRIPLE_UPLOAD_SETUP.md for detailed instructions`)),{imagekitSmall:n,imagekitMain:e,appwrite:t,firebase:i,overall:a}},uB=()=>{const{user:n}=qw(),{data:e=[],isLoading:t,error:i}=Qd(),[a,l]=$.useState("file"),[u,d]=$.useState({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),[m,f]=$.useState(null),[x,_]=$.useState(""),[b,D]=$.useState(!1),N=Qw(),B=Ww();$.useEffect(()=>{const I=cg();D(I),G_();const T="pdf-library-hub",E="https://fra.cloud.appwrite.io/v1",A="pdfs",P=!T.includes("your_");console.log(" Appwrite Configuration Check:",{projectId:T,endpoint:E,bucketId:A,isConfigured:P,maxFileSize:P?"50MB":"25MB"}),I||Fe.error("Upload services not configured. Check console for details.")},[]);const k=I=>{const T=I.target.files?.[0];if(T){if(T.type!=="application/pdf"){Fe.error("Please select a PDF file");return}if(T.size>25*1024*1024){Fe.error("File size must be less than 25MB");return}f(T),u.title||d(A=>({...A,title:T.name.replace(".pdf","").replace(/[_-]/g," ")}))}},L=I=>{I.trim()&&!u.tags.includes(I.trim())&&d(T=>({...T,tags:[...T.tags,I.trim()]}))},w=I=>{d(T=>({...T,tags:T.tags.filter(E=>E!==I)}))},S=I=>{I.key==="Enter"&&x.trim()&&(I.preventDefault(),L(x),_(""))},V=I=>{try{const T=new URL(I);return T.protocol==="http:"||T.protocol==="https:"}catch{return!1}},z=async I=>{if(I.preventDefault(),!u.pdfLink.trim()){Fe.error("Please provide a PDF link");return}if(!V(u.pdfLink)){Fe.error("Please provide a valid URL");return}if(!u.title.trim()||!u.author.trim()){Fe.error("Please fill in title and author");return}try{console.log("Creating PDF from link...");const T=await B.mutateAsync({title:u.title,author:u.author,description:u.description,categories:u.category?[u.category]:[],tags:u.tags,viewCount:0,downloadCount:0,uploadedBy:n?.uid||"anonymous",pdfUrl:u.pdfLink,uploadProvider:"external"});console.log("PDF created from link successfully, result:",T),d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),_(""),l("file")}catch(T){console.error("Link upload failed:",T)}},U=async I=>{if(I.preventDefault(),a==="link")return z(I);if(!m){Fe.error("Please select a PDF file");return}if(!u.title.trim()||!u.author.trim()){Fe.error("Please fill in title and author");return}try{if(console.log("=== UPLOAD DEBUG ==="),console.log("User:",n),console.log("File:",m),console.log("Form data:",u),!cg()){Fe.error("Upload configuration is incomplete. Check console for details.");return}await G_(),console.log("Firebase config check:",{projectId:"pdf-library-bps",storageBucket:"pdf-library-bps.firebasestorage.app"}),console.log(" Starting upload process...");const E=Fe.loading("Uploading PDF...",{duration:6e4}),A=await N.mutateAsync({file:m,pdfData:{title:u.title,author:u.author,description:u.description,categories:u.category?[u.category]:[],tags:u.tags,viewCount:0,downloadCount:0,uploadedBy:n?.uid||"anonymous"}});Fe.dismiss(E),console.log(" Upload successful, result:",A),d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),f(null),_(""),l("file");const P=document.getElementById("pdf-upload");P&&(P.value="")}catch(T){console.error(" Upload failed:",T),T instanceof Error?Fe.error(`Upload failed: ${T.message}`):Fe.error("Upload failed: Unknown error occurred")}};return g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload New PDF"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Add a new PDF document to your library by uploading a file or providing a link"})]}),!b&&g.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Smart Upload System Configuration Required"}),g.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[g.jsx("p",{children:"Please configure ImageKit accounts before uploading files. Check the browser console for specific issues."}),g.jsxs("p",{className:"mt-1",children:[g.jsx("a",{href:"/IMAGEKIT_SETUP.md",className:"underline",children:"ImageKit Setup Guide"})," |",g.jsx("a",{href:"/APPWRITE_SETUP.md",className:"underline ml-1",children:"Appwrite Setup (Optional)"})]}),g.jsx("button",{onClick:async()=>{console.log(" Testing Firebase upload configuration..."),(await cB()).overall?(Fe.success("Firebase configuration verified! Upload should work."),D(!0)):Fe.error("Firebase configuration issues found. Check console.")},className:"mt-2 px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700",children:"Test Firebase Setup"})]})]})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:g.jsxs("form",{className:"space-y-6",onSubmit:U,children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Upload Method *"}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"radio",name:"uploadMethod",value:"file",checked:a==="file",onChange:I=>l(I.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Upload File"})]}),g.jsxs("label",{className:"flex items-center",children:[g.jsx("input",{type:"radio",name:"uploadMethod",value:"link",checked:a==="link",onChange:I=>l(I.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),g.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Paste Link"})]})]})]}),a==="file"?g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PDF File *"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer",onDrop:I=>{I.preventDefault();const T=I.dataTransfer.files;if(T.length>0){const E=T[0];if(E.type!=="application/pdf"){Fe.error("Please select a PDF file");return}if(E.size>25*1024*1024){Fe.error("File size must be less than 25MB");return}f(E),u.title||d(A=>({...A,title:E.name.replace(".pdf","").replace(/[_-]/g," ")}))}},onDragOver:I=>I.preventDefault(),onClick:()=>document.getElementById("pdf-upload")?.click(),children:[g.jsx(xd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:"Maximum file size: 25MB"}),m&&g.jsxs("div",{className:"mt-2",children:[g.jsx("p",{className:"text-gray-700 font-semibold",children:m.name}),g.jsxs("p",{className:"text-gray-500 text-xs",children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]}),g.jsx("input",{id:"pdf-upload",name:"pdf-upload",type:"file",accept:".pdf",className:"sr-only",onChange:k,onInput:I=>{const T=I.target;T.files&&T.files[0]&&T.files[0].size>25*1024*1024&&(Fe.error("File size must be less than 25MB"),T.value="")}})]})]}):g.jsxs("div",{children:[g.jsx("label",{htmlFor:"pdfLink",className:"block text-sm font-medium text-gray-700 mb-2",children:"PDF Link *"}),g.jsxs("div",{className:"relative",children:[g.jsx(IE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"url",id:"pdfLink",name:"pdfLink",value:u.pdfLink,onChange:I=>d(T=>({...T,pdfLink:I.target.value})),placeholder:"https://example.com/document.pdf",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:a==="link"})]}),g.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Paste a direct link to a PDF file hosted elsewhere"}),u.pdfLink&&g.jsx("p",{className:"mt-2 text-sm text-green-600",children:" External PDF link provided"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title * (max 18 characters)"}),g.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:I=>d(T=>({...T,title:I.target.value})),placeholder:"Enter PDF title",maxLength:18,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),g.jsx("input",{type:"file",id:"pdf-upload",accept:".pdf",onChange:k,className:"hidden",onInput:I=>{const T=I.target;T.files&&T.files[0]&&T.files[0].size>25*1024*1024&&(Fe.error("File size must be less than 25MB"),T.value="")}}),g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[u.title.length,"/18 characters"]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),g.jsx("input",{type:"text",id:"author",name:"author",value:u.author,onChange:I=>d(T=>({...T,author:I.target.value})),placeholder:"Enter author name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{id:"description",name:"description",rows:4,value:u.description,onChange:I=>d(T=>({...T,description:I.target.value})),placeholder:"Enter a description for this PDF",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),g.jsxs("select",{id:"category",name:"category",value:u.category,onChange:I=>d(T=>({...T,category:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t,children:[g.jsx("option",{value:"",children:t?"Loading categories...":i?"Error loading categories":"Select a category"}),!t&&!i&&e.map(I=>g.jsx("option",{value:I.name,children:I.name},I.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),g.jsx("input",{type:"text",id:"tags",name:"tags",value:x,onChange:I=>_(I.target.value),onKeyDown:S,placeholder:"Type a tag and press Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.tags.length>0&&g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.tags.map((I,T)=>g.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[I,g.jsxs("button",{type:"button",onClick:()=>w(I),className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none",children:[g.jsx("span",{className:"sr-only",children:"Remove tag"}),""]})]},T))})]})]}),g.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[g.jsx("button",{type:"button",onClick:()=>{d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),f(null),_(""),l("file")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),g.jsxs("button",{type:"submit",disabled:N.isPending||B.isPending||!u.title.trim()||!u.author.trim()||a==="file"&&!m||a==="link"&&!u.pdfLink.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(Ma,{className:"mr-2 h-4 w-4"}),N.isPending||B.isPending?a==="file"?"Uploading...":"Adding Link...":a==="file"?"Upload PDF":"Add PDF Link"]})]})]})})]})},hB=()=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your PDF library performance"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:g.jsx(Ma,{className:"h-6 w-6 text-blue-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total PDFs"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"24"}),g.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+3 this month"})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:g.jsx(f2,{className:"h-6 w-6 text-green-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"15,847"}),g.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+12% vs last month"})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:g.jsx(m2,{className:"h-6 w-6 text-purple-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Downloads"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8,923"}),g.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+8% vs last month"})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:g.jsx(SS,{className:"h-6 w-6 text-orange-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Views/PDF"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"660"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per document"})]})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Views Over Time"}),g.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx(f2,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),g.jsx("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Categories"}),g.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx(m2,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),g.jsx("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing PDFs"})}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Views"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Downloads"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Conversion Rate"})]})}),g.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Getting Started with React"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"2,847"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"1,923"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:"67.5%"})]}),g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"TypeScript Best Practices"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"1,956"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"1,234"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:"63.1%"})]})]})]})})]})]}),dB=()=>g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your application settings"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[g.jsx(vd,{className:"mr-2 h-5 w-5"}),"Profile Settings"]})}),g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),g.jsx("input",{type:"text",placeholder:"Enter your display name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),g.jsx("input",{type:"email",placeholder:"admin@example.com",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[g.jsx(zC,{className:"mr-2 h-5 w-5"}),"System Settings"]})}),g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max File Size (MB)"}),g.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comments Moderation"}),g.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"auto",children:"Auto-approve"}),g.jsx("option",{value:"manual",children:"Manual approval"}),g.jsx("option",{value:"disabled",children:"Disabled"})]})]})]})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[g.jsx(JC,{className:"mr-2 h-5 w-5"}),"API Configuration"]})}),g.jsx("div",{className:"p-6",children:g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Algolia API Key"}),g.jsx("input",{type:"password",placeholder:"Enter Algolia API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Settings"})})]}),fB=()=>g.jsx(nB,{children:g.jsxs(sE,{children:[g.jsx(bn,{path:"/",element:g.jsx(yg,{to:"pdfs",replace:!0})}),g.jsx(bn,{path:"pdfs",element:g.jsx(rB,{})}),g.jsx(bn,{path:"categories",element:g.jsx(iB,{})}),g.jsx(bn,{path:"upload",element:g.jsx(uB,{})}),g.jsx(bn,{path:"analytics",element:g.jsx(hB,{})}),g.jsx(bn,{path:"settings",element:g.jsx(dB,{})})]})}),Yw={apiKey:"AIzaSyBDcRabMU_tmv8dx2BihfGTcAlkRKGS-6k",authDomain:"guestpdf-13013.firebaseapp.com",projectId:"guestpdf-13013",storageBucket:"guestpdf-13013.firebasestorage.app",messagingSenderId:"489548538163",appId:"1:489548538163:web:52976b71ab1e1125c65e46",measurementId:"G-MCMEWG56VX"},Wd=Dg(Yw,"guest-app"),ug=fw(Wd);b5(Wd);yw(Wd);typeof window<"u"&&Yw.measurementId&&Vw(Wd);const Yd=()=>{const[n,e]=$.useState(null),[t,i]=$.useState(!0);return $.useEffect(()=>tw(ug,d=>{e(d?{uid:d.uid,email:d.email||"",displayName:d.displayName||d.email?.split("@")[0]||"Guest User",name:d.displayName||d.email?.split("@")[0]||"Guest User",isGuest:!0}:null),i(!1)}),[]),{guestUser:n,loading:t,signInAsGuest:()=>{},signOutGuest:async()=>{try{await nw(ug),e(null)}catch(u){console.error("Error signing out:",u)}}}},pB=({children:n})=>{const{guestUser:e,signOutGuest:t}=Yd(),i=async()=>{try{await t(),xe.success("Signed out successfully")}catch{xe.error("Failed to sign out")}};return g.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:["      ","      ",g.jsxs("header",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",padding:"1rem 2rem"},children:["        ",g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},children:["          ",g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:["            ",g.jsxs(qn,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},onMouseOver:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseOut:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:["              ",g.jsx(tu,{size:20}),"              Back to Site            "]}),"                        ",g.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:700,margin:0},children:"              Guest Dashboard            "}),"          "]}),"          ",g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:["            ",g.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem"},children:["              Welcome, ",e?.name||"Guest","!            "]}),"                        ",g.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"white",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:a=>{a.currentTarget.style.background="rgba(255, 99, 99, 0.3)"},onMouseOut:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:["              ",g.jsx(NE,{size:16}),"              Sign Out            "]}),"          "]}),"        "]}),"      "]}),"      ","      ",g.jsxs("main",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:["        ",n,"      "]}),"    "]})},mB=()=>{const n=dl(),{guestUser:e}=Yd(),{data:t=[],isLoading:i}=Qd(),[a,l]=$.useState("file"),[u,d]=$.useState({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),[m,f]=$.useState(null),[x,_]=$.useState(""),[b,D]=$.useState(!1),[N,B]=$.useState(!1),k=Qw(),L=Ww();$.useEffect(()=>{const E=cg();D(E),E||Fe.error("Upload services not configured. Check console for details.")},[]);const w=E=>{const A=E.target.files?.[0];if(A){if(A.type!=="application/pdf"){Fe.error("Please select a PDF file");return}if(A.size>25*1024*1024){Fe.error("File size must be less than 25MB");return}if(f(A),!u.title){const F=A.name.replace(/\.pdf$/i,"");d(O=>({...O,title:F}))}}},S=()=>{const E=x.trim();E&&!u.tags.includes(E)&&(d(A=>({...A,tags:[...A.tags,E]})),_(""))},V=E=>{d(A=>({...A,tags:A.tags.filter(P=>P!==E)}))},z=E=>{const A=t.find(P=>P.id===E);d(P=>({...P,category:A?A.name:""})),B(!1)},U=()=>{d({title:"",author:"",description:"",category:"",tags:[],pdfLink:""}),f(null),_("");const E=document.getElementById("pdf-file");E&&E instanceof HTMLInputElement&&(E.value="")},I=async E=>{if(E.preventDefault(),!b){Fe.error("Upload services not configured");return}if(!u.title.trim()){Fe.error("Please enter a title");return}if(u.title.trim().length>18){Fe.error("Title must be 18 characters or less");return}if(!u.author.trim()){Fe.error("Please enter an author name");return}if(!u.category){Fe.error("Please select a category");return}if(a==="file"&&!m){Fe.error("Please select a PDF file");return}if(a==="link"&&!u.pdfLink.trim()){Fe.error("Please enter a PDF link");return}try{let A=u.category;const P=t.find(O=>O.id===u.category);P&&(A=P.name);const F={title:u.title.trim(),author:u.author.trim(),description:u.description.trim(),categories:A?[A]:[],tags:u.tags,viewCount:0,downloadCount:0,uploadedBy:e?.email||"guest"};a==="file"&&m?await k.mutateAsync({pdfData:F,file:m}):a==="link"&&await L.mutateAsync({...F,pdfUrl:u.pdfLink.trim()}),Fe.success("PDF uploaded successfully!"),U()}catch(A){console.error("Upload error:",A),Fe.error("Failed to upload PDF. Please try again.")}},T=k.isPending||L.isPending;return g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" Upload PDF"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0},children:"Share your PDF documents with the community"})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",justifyContent:"center"},children:[g.jsxs("button",{type:"button",onClick:()=>l("file"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:`2px solid ${a==="file"?"#3498db":"#e0e6ed"}`,borderRadius:"12px",background:a==="file"?"rgba(52, 152, 219, 0.1)":"white",color:a==="file"?"#3498db":"#7f8c8d",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease"},children:[g.jsx(xd,{size:20}),"Upload File"]}),g.jsxs("button",{type:"button",onClick:()=>l("link"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:`2px solid ${a==="link"?"#3498db":"#e0e6ed"}`,borderRadius:"12px",background:a==="link"?"rgba(52, 152, 219, 0.1)":"white",color:a==="link"?"#3498db":"#7f8c8d",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease"},children:[g.jsx(IE,{size:20}),"Add Link"]})]}),g.jsxs("form",{onSubmit:I,children:[a==="file"?g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"PDF File"}),g.jsxs("div",{style:{border:"2px dashed #e0e6ed",borderRadius:"12px",padding:"2rem",textAlign:"center",background:"rgba(255, 255, 255, 0.5)",cursor:"pointer",transition:"all 0.3s ease"},onDragOver:E=>{E.preventDefault(),E.currentTarget.style.borderColor="#3498db",E.currentTarget.style.background="rgba(52, 152, 219, 0.1)"},onDragLeave:E=>{E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.background="rgba(255, 255, 255, 0.5)"},onDrop:E=>{E.preventDefault(),E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.background="rgba(255, 255, 255, 0.5)";const A=E.dataTransfer.files;if(A.length>0){const P=A[0];if(P.type!=="application/pdf"){Fe.error("Please select a PDF file");return}if(P.size>25*1024*1024){Fe.error("File size must be less than 25MB");return}if(f(P),!u.title){const F=P.name.replace(/\.pdf$/i,"");d(O=>({...O,title:F}))}}},onClick:()=>document.getElementById("pdf-file")?.click(),children:[g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:g.jsx(Ma,{size:48,color:"#3498db"})}),m?g.jsxs("div",{children:[g.jsx("p",{style:{color:"#2c3e50",fontWeight:600,margin:"0 0 0.5rem 0"},children:m.name}),g.jsxs("p",{style:{color:"#7f8c8d",fontSize:"0.9rem",margin:0},children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]}):g.jsxs("div",{children:[g.jsx("p",{style:{color:"#2c3e50",fontWeight:600,margin:"0 0 0.5rem 0"},children:"Click to select or drag & drop your PDF"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"0.9rem",margin:0},children:"Maximum file size: 25MB"})]})]}),g.jsx("input",{type:"file",id:"pdf-file",accept:".pdf",onChange:w,disabled:T,style:{display:"none"},onInput:E=>{const A=E.target;A instanceof HTMLInputElement&&A.files&&A.files[0]&&A.files[0].size>25*1024*1024&&(Fe.error("File size must be less than 25MB"),A.value="")}})]}):g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"PDF Link"}),g.jsx("input",{type:"url",placeholder:"https://example.com/document.pdf",value:u.pdfLink,onChange:E=>d(A=>({...A,pdfLink:E.target.value})),disabled:T,style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:["Title * ",g.jsxs("span",{style:{color:"#7f8c8d",fontWeight:400},children:["(",u.title.length,"/18)"]})]}),g.jsx("input",{type:"text",placeholder:"Enter PDF title",value:u.title,onChange:E=>{E.target.value.length<=18&&d(A=>({...A,title:E.target.value}))},disabled:T,required:!0,maxLength:18,style:{width:"100%",padding:"1rem",border:`2px solid ${u.title.length>18?"#e74c3c":"#e0e6ed"}`,borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{u.title.length<=18&&(E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)")},onBlur:E=>{E.target.style.borderColor=u.title.length>18?"#e74c3c":"#e0e6ed",E.target.style.boxShadow="none"}}),u.title.length>15&&g.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:u.title.length>18?"#e74c3c":"#f39c12"},children:u.title.length>18?"Title is too long!":"Title is getting long"})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Author *"}),g.jsx("input",{type:"text",placeholder:"Enter author name",value:u.author,onChange:E=>d(A=>({...A,author:E.target.value})),disabled:T,required:!0,style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Description"}),g.jsx("textarea",{placeholder:"Enter a brief description of the PDF",value:u.description,onChange:E=>d(A=>({...A,description:E.target.value})),disabled:T,rows:4,style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",resize:"vertical",fontFamily:"inherit"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Categories"}),i?g.jsx("p",{style:{color:"#7f8c8d",fontStyle:"italic"},children:"Loading categories..."}):g.jsxs("div",{style:{position:"relative"},children:[g.jsxs("div",{onClick:()=>B(!N),style:{width:"100%",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"3rem"},onFocus:E=>{E.currentTarget.style.borderColor="#3498db",E.currentTarget.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.boxShadow="none"},children:[g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flex:1},children:u.category?(()=>{const E=t.find(A=>A.name===u.category);return E?g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"15px",background:"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",color:"white",fontSize:"0.8rem",fontWeight:500},children:[E.name,g.jsx("button",{type:"button",onClick:()=>d(A=>({...A,category:""})),style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"0",display:"flex",alignItems:"center"},children:g.jsx(tl,{size:14})})]},u.category):null})():g.jsx("span",{style:{color:"#7f8c8d",fontStyle:"italic"},children:"Select category..."})}),g.jsx(jC,{size:20,style:{color:"#7f8c8d",transform:N?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})]}),N&&g.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"2px solid #e0e6ed",borderTop:"none",borderRadius:"0 0 12px 12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxHeight:"200px",overflowY:"auto"},children:t.length>0?t.map(E=>{const A=u.category===E.name;return g.jsxs("div",{onClick:()=>z(E.id),style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",borderBottom:"1px solid rgba(224, 230, 237, 0.5)",transition:"all 0.3s ease",background:A?"rgba(52, 152, 219, 0.1)":"transparent"},onMouseOver:P=>{P.currentTarget.style.background=A?"rgba(52, 152, 219, 0.2)":"rgba(52, 152, 219, 0.05)"},onMouseOut:P=>{P.currentTarget.style.background=A?"rgba(52, 152, 219, 0.1)":"transparent"},children:[g.jsx("input",{type:"radio",name:"category",checked:A,onChange:()=>z(E.id),style:{width:"18px",height:"18px",accentColor:"#3498db",cursor:"pointer"}}),g.jsx("span",{style:{color:"#2c3e50",fontSize:"0.9rem",fontWeight:A?600:400},children:E.name})]},E.id)}):g.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#7f8c8d",fontStyle:"italic"},children:"No categories available"})})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Tags"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[g.jsx("input",{type:"text",placeholder:"Add a tag",value:x,onChange:E=>_(E.target.value),onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),S()),disabled:T,style:{flex:1,padding:"0.75rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"0.9rem",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.9)"},onFocus:E=>{E.target.style.borderColor="#3498db",E.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:E=>{E.target.style.borderColor="#e0e6ed",E.target.style.boxShadow="none"}}),g.jsx("button",{type:"button",onClick:S,disabled:!x.trim()||T,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.75rem",border:"none",borderRadius:"12px",background:x.trim()?"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)":"#bdc3c7",color:"white",cursor:x.trim()?"pointer":"not-allowed",transition:"all 0.3s ease"},children:g.jsx(Hh,{size:20})})]}),u.tags.length>0&&g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",padding:"1rem",border:"2px solid #e0e6ed",borderRadius:"12px",background:"rgba(255, 255, 255, 0.9)"},children:u.tags.map((E,A)=>g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"0.9rem",fontWeight:500},children:[E,g.jsx("button",{type:"button",onClick:()=>V(E),style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"0",display:"flex",alignItems:"center"},children:g.jsx(tl,{size:16})})]},A))})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[g.jsx("button",{type:"button",onClick:U,disabled:T,style:{padding:"1rem 2rem",border:"2px solid #e0e6ed",borderRadius:"12px",background:"white",color:"#7f8c8d",cursor:T?"not-allowed":"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease",opacity:T?.6:1},onMouseOver:E=>{T||(E.currentTarget.style.borderColor="#e74c3c",E.currentTarget.style.color="#e74c3c")},onMouseOut:E=>{T||(E.currentTarget.style.borderColor="#e0e6ed",E.currentTarget.style.color="#7f8c8d")},children:"Clear"}),g.jsx("button",{type:"submit",disabled:T||!b,style:{padding:"1rem 2rem",border:"none",borderRadius:"12px",background:T?"#bdc3c7":"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",color:"white",cursor:T?"not-allowed":"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease",boxShadow:T?"none":"0 4px 15px rgba(52, 152, 219, 0.4)",opacity:T?.7:1},onMouseOver:E=>{T||(E.currentTarget.style.transform="translateY(-2px)",E.currentTarget.style.boxShadow="0 6px 20px rgba(52, 152, 219, 0.6)")},onMouseOut:E=>{T||(E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="0 4px 15px rgba(52, 152, 219, 0.4)")},children:T?" Uploading...":" Upload PDF"})]})]}),g.jsx("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"12px",border:"2px solid #dee2e6"},children:g.jsxs("div",{children:[g.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.1rem",fontWeight:600,color:"#495057"},children:"Need a new category?"}),g.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"#6c757d",lineHeight:"1.4"},children:["Don't see the category you need?"," ",g.jsx("a",{href:"#",onClick:E=>{E.preventDefault(),n("/request-category")},style:{color:"#28a745",textDecoration:"none",fontWeight:600,transition:"all 0.3s ease",cursor:"pointer"},onMouseOver:E=>{E.currentTarget.style.color="#20c997",E.currentTarget.style.textDecoration="underline"},onMouseOut:E=>{E.currentTarget.style.color="#28a745",E.currentTarget.style.textDecoration="none"},children:" Request a new one"})," ","and we'll add it for you!"]})]})})]})},gB=()=>{const{guestUser:n,loading:e}=Yd();return e?g.jsx(qs,{}):n?g.jsx(pB,{children:g.jsx(mB,{})}):g.jsx(yg,{to:"/guest-login",replace:!0})},yB=({onAuthSuccess:n})=>{const[e,t]=$.useState({email:"",password:""}),[i,a]=$.useState(!1),l=async u=>{if(u.preventDefault(),!e.email.trim()){xe.error("Please enter your email");return}if(!e.password.trim()){xe.error("Please enter your password");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){xe.error("Please enter a valid email address");return}a(!0);try{await ew(ug,e.email,e.password),xe.success("Welcome back!"),n()}catch(m){switch(console.error("Guest auth error:",m),m.code){case"auth/user-not-found":xe.error("No account found with this email");break;case"auth/wrong-password":xe.error("Incorrect password");break;case"auth/invalid-email":xe.error("Invalid email address");break;case"auth/too-many-requests":xe.error("Too many failed attempts. Please try again later");break;default:xe.error("Failed to sign in. Please try again.")}}finally{a(!1)}};return g.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"3rem",maxWidth:"450px",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsxs(qn,{to:"/",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#7f8c8d",textDecoration:"none",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.color="#3498db"},onMouseOut:u=>{u.currentTarget.style.color="#7f8c8d"},"aria-label":"Back to site",children:[g.jsx(tu,{size:16}),"Back to Site"]})}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[g.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",borderRadius:"50%",marginBottom:"1.5rem"},children:g.jsx(AS,{size:40,color:"white"})}),g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Guest Sign In"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0,lineHeight:1.5},children:"Sign in to access the PDF upload dashboard"})]}),g.jsxs("form",{onSubmit:l,children:[g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Email"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Tg,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"email",placeholder:"Enter your email address",value:e.email,onChange:u=>t(d=>({...d,email:u.target.value})),disabled:i,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:i?.6:1},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e0e6ed",u.target.style.boxShadow="none"}})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Password"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(nS,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"password",placeholder:"Enter your password",value:e.password,onChange:u=>t(d=>({...d,password:u.target.value})),disabled:i,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:i?.6:1},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#e0e6ed",u.target.style.boxShadow="none"}})]})]}),g.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",border:"none",background:i?"#bdc3c7":"linear-gradient(135deg, #3498db 0%, #9b59b6 100%)",color:"#fff",fontWeight:600,borderRadius:"12px",cursor:i?"not-allowed":"pointer",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:i?"none":"0 4px 15px rgba(52, 152, 219, 0.4)",opacity:i?.7:1},onMouseOver:u=>{i||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 6px 20px rgba(52, 152, 219, 0.6)")},onMouseOut:u=>{i||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 4px 15px rgba(52, 152, 219, 0.4)")},children:i?" Authenticating...":" Enter Dashboard"})]}),g.jsxs("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1.5rem",background:"rgba(52, 152, 219, 0.1)",borderRadius:"12px",border:"1px solid rgba(52, 152, 219, 0.2)"},children:[g.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50",fontSize:"1rem",fontWeight:600},children:" Guest Access Features"}),g.jsxs("ul",{style:{margin:0,padding:0,listStyle:"none",color:"#7f8c8d",fontSize:"0.9rem",lineHeight:1.6},children:[g.jsx("li",{children:" Upload PDF files up to 25MB"}),g.jsx("li",{children:" Add titles, descriptions, and tags"}),g.jsx("li",{children:" Categorize your uploads"}),g.jsx("li",{children:" Share with the community"})]})]}),g.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:g.jsxs("p",{style:{color:"#7f8c8d",fontSize:"0.9rem",margin:0},children:["Don't have an account?"," ",g.jsx(qn,{to:"/request",style:{color:"#3498db",textDecoration:"none",fontWeight:600,borderBottom:"1px solid transparent",transition:"border-color 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.borderBottomColor="#3498db"},onMouseOut:u=>{u.currentTarget.style.borderBottomColor="transparent"},children:"Request access"})]})})]})})},xB=()=>{const n=dl(),{guestUser:e,loading:t}=Yd();if(Kr.useEffect(()=>{e&&!t&&n("/guest-dashboard")},[e,t,n]),t)return g.jsx(qs,{});if(e)return g.jsx(qs,{});const i=()=>{n("/guest-dashboard")};return g.jsx(yB,{onAuthSuccess:i})};class Xw{static ADMIN_EMAIL="ashinjiyostudy@gmail.com";static API_ENDPOINT="/api/send-email";static async sendWithEmailJS(e){try{const t={to_email:this.ADMIN_EMAIL,from_name:e.name,from_email:e.email,subject:`New Access Request from ${e.name}`,message:`
New access request received:

Name: ${e.name}
Email: ${e.email}
Reason: ${e.reason}

Submitted at: ${new Date().toLocaleString()}
        `},i="service_fn5s7ze",a="template_equfrhk";console.log("Sending email with EmailJS:",t);const l=await _m.send(i,a,t);return console.log("EmailJS result:",l),l.status===200}catch(t){return console.error("EmailJS error:",t),!1}}static async sendWithBackend(e){try{const t={to:this.ADMIN_EMAIL,subject:`New Access Request from ${e.name}`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
            <h2 style="color: #2c3e50;">New Access Request</h2>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <p><strong>Name:</strong> ${e.name}</p>
              <p><strong>Email:</strong> ${e.email}</p>
              <p><strong>Reason:</strong></p>
              <div style="background: white; padding: 15px; border-radius: 4px; margin-top: 10px;">
                ${e.reason.replace(/\n/g,"<br>")}
              </div>
            </div>
            <p style="color: #7f8c8d; font-size: 14px;">
              Submitted at: ${new Date().toLocaleString()}
            </p>
          </div>
        `};return(await fetch(this.API_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch(t){return console.error("Backend email error:",t),!1}}static async sendWithFormspree(e){try{return(await fetch("https://formspree.io/f/your-form-id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,subject:`New Access Request from ${e.name}`,message:`
New access request received:

Name: ${e.name}
Email: ${e.email}
Reason: ${e.reason}

Submitted at: ${new Date().toLocaleString()}
          `})})).ok}catch(t){return console.error("Formspree error:",t),!1}}static async sendWithWeb3Forms(e){try{const t="9e10e2af-a7da-4ae1-8871-fb36e310fc05";console.log("Sending email with Web3Forms:",{data:e,accessKey:t});const i={access_key:t,name:e.name,email:e.email,to:"ashinjiyostudy@gmail.com",subject:`New Access Request from ${e.name}`,message:`
New access request received:

Name: ${e.name}
Email: ${e.email}
Reason: ${e.reason}

Submitted at: ${new Date().toLocaleString()}
        `};console.log("Sending payload:",i);const a=await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});console.log("Response status:",a.status),console.log("Response ok:",a.ok);const l=await a.json();return console.log("Response result:",l),l.success}catch(t){return console.error("Web3Forms error:",t),!1}}static async sendAccessRequest(e){return await this.sendWithEmailJS(e)}static async sendCategoryRequest(e){try{const t={to_email:this.ADMIN_EMAIL,from_name:e.name,from_email:e.email,category_name:e.categoryName,category_description:e.description,category_examples:e.examples||"No examples provided",subject:`New Category Request: ${e.categoryName}`,message:`
New category request received:

Name: ${e.name}
Email: ${e.email}
Category Name: ${e.categoryName}
Description: ${e.description}
Examples: ${e.examples||"No examples provided"}

Submitted at: ${new Date().toLocaleString()}
        `},i="service_fn5s7ze",a="template_equfrhk";console.log("Sending category request with EmailJS:",t);const l=await _m.send(i,a,t);return console.log("EmailJS result:",l),l.status===200}catch(t){return console.error("EmailJS error for category request:",t),!1}}}const vB=()=>{const[n,e]=$.useState({name:"",email:"",reason:""}),[t,i]=$.useState(!1),a=async l=>{if(l.preventDefault(),!n.name.trim()){xe.error("Please enter your name");return}if(!n.email.trim()){xe.error("Please enter your email");return}if(!n.reason.trim()){xe.error("Please explain why you need access");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){xe.error("Please enter a valid email address");return}i(!0);try{await Xw.sendAccessRequest({name:n.name,email:n.email,reason:n.reason})?(xe.success("Access request submitted! We'll review and get back to you soon."),e({name:"",email:"",reason:""})):xe.error("Failed to send request. Please try again or contact support.")}catch(d){console.error("Request submission error:",d),xe.error("Failed to submit request. Please try again.")}finally{i(!1)}};return g.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"3rem",maxWidth:"500px",width:"100%"},children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsxs(qn,{to:"/guest-login",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#7f8c8d",textDecoration:"none",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:l=>{l.currentTarget.style.color="#3498db"},onMouseOut:l=>{l.currentTarget.style.color="#7f8c8d"},children:[g.jsx(tu,{size:16}),"Back to Sign In"]})}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[g.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"linear-gradient(135deg, #e74c3c 0%, #f39c12 100%)",borderRadius:"50%",marginBottom:"1.5rem"},children:g.jsx(gS,{size:40,color:"white"})}),g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #e74c3c 0%, #f39c12 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Request Access"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0,lineHeight:1.5},children:"Tell us why you need guest upload access and we'll review your request"})]}),g.jsxs("form",{onSubmit:a,children:[g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Your Name"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(vd,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"text",placeholder:"Enter your full name",value:n.name,onChange:l=>e(u=>({...u,name:l.target.value})),disabled:t,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:t?.6:1},onFocus:l=>{l.target.style.borderColor="#3498db",l.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:l=>{l.target.style.borderColor="#e0e6ed",l.target.style.boxShadow="none"}})]})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Email Address"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Tg,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#7f8c8d"}}),g.jsx("input",{type:"email",placeholder:"Enter your email address",value:n.email,onChange:l=>e(u=>({...u,email:l.target.value})),disabled:t,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:t?.6:1},onFocus:l=>{l.target.style.borderColor="#3498db",l.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:l=>{l.target.style.borderColor="#e0e6ed",l.target.style.boxShadow="none"}})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontWeight:600,fontSize:"0.9rem"},children:"Why do you need access?"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Nm,{size:20,style:{position:"absolute",left:"1rem",top:"1rem",color:"#7f8c8d"}}),g.jsx("textarea",{placeholder:"Please explain why you need upload access. For example: educational purposes, sharing study materials, etc.",value:n.reason,onChange:l=>e(u=>({...u,reason:l.target.value})),disabled:t,rows:4,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #e0e6ed",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",boxSizing:"border-box",background:"rgba(255, 255, 255, 0.9)",opacity:t?.6:1,resize:"vertical",minHeight:"120px"},onFocus:l=>{l.target.style.borderColor="#3498db",l.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:l=>{l.target.style.borderColor="#e0e6ed",l.target.style.boxShadow="none"}})]})]}),g.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",border:"none",background:t?"#bdc3c7":"linear-gradient(135deg, #e74c3c 0%, #f39c12 100%)",color:"#fff",fontWeight:600,borderRadius:"12px",cursor:t?"not-allowed":"pointer",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:t?"none":"0 4px 15px rgba(231, 76, 60, 0.4)",opacity:t?.7:1},onMouseOver:l=>{t||(l.currentTarget.style.transform="translateY(-2px)",l.currentTarget.style.boxShadow="0 6px 20px rgba(231, 76, 60, 0.6)")},onMouseOut:l=>{t||(l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow="0 4px 15px rgba(231, 76, 60, 0.4)")},children:t?" Sending Request...":" Submit Request"})]}),g.jsxs("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1.5rem",background:"rgba(231, 76, 60, 0.1)",borderRadius:"12px",border:"1px solid rgba(231, 76, 60, 0.2)"},children:[g.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50",fontSize:"1rem",fontWeight:600},children:" What happens next?"}),g.jsxs("ul",{style:{margin:0,padding:0,listStyle:"none",color:"#7f8c8d",fontSize:"0.9rem",lineHeight:1.6,textAlign:"left"},children:[g.jsx("li",{children:" We'll review your request within few days"}),g.jsx("li",{children:" You'll receive an email with your account details"}),g.jsx("li",{children:" Once approved, you can start uploading PDFs"}),g.jsx("li",{children:" Your uploads will be shared with the community"})]})]})]})})},bB=()=>{const[n,e]=$.useState({name:"",email:"",categoryName:"",description:"",examples:""}),[t,i]=$.useState(!1),a=async u=>{if(u.preventDefault(),!n.name.trim()){xe.error("Please enter your name");return}if(!n.email.trim()){xe.error("Please enter your email");return}if(!n.categoryName.trim()){xe.error("Please enter the category name");return}if(!n.description.trim()){xe.error("Please provide a description for the category");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){xe.error("Please enter a valid email address");return}i(!0);try{if(await Xw.sendCategoryRequest({name:n.name,email:n.email,categoryName:n.categoryName,description:n.description,examples:n.examples}))xe.success("Category request sent successfully! We'll review it and get back to you."),e({name:"",email:"",categoryName:"",description:"",examples:""});else{const f=encodeURIComponent("New Category Request"),x=encodeURIComponent(`Category Request Details:

Name: ${n.name}
Email: ${n.email}
Category Name: ${n.categoryName}
Description: ${n.description}
Examples: ${n.examples}

Please review this category request.`);window.open(`mailto:admin@example.com?subject=${f}&body=${x}`,"_blank"),xe.success("Opening email client to send your request...")}}catch(m){console.error("Error sending category request:",m);const f=encodeURIComponent("New Category Request"),x=encodeURIComponent(`Category Request Details:

Name: ${n.name}
Email: ${n.email}
Category Name: ${n.categoryName}
Description: ${n.description}
Examples: ${n.examples}

Please review this category request.`);window.open(`mailto:admin@example.com?subject=${f}&body=${x}`,"_blank"),xe.success("Opening email client to send your request...")}finally{i(!1)}},l=(u,d)=>{e(m=>({...m,[u]:d}))};return g.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:"2rem 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{maxWidth:"500px",width:"100%",background:"white",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsxs(qn,{to:"/",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#7f8c8d",textDecoration:"none",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.color="#3498db"},onMouseOut:u=>{u.currentTarget.style.color="#7f8c8d"},children:[g.jsx(tu,{size:16}),"Back to Home"]})}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[g.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"linear-gradient(135deg, #9b59b6 0%, #3498db 100%)",borderRadius:"50%",marginBottom:"1.5rem"},children:g.jsx(Hh,{size:40,color:"white"})}),g.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"#2c3e50",margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #9b59b6 0%, #3498db 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Request New Category"}),g.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem",margin:0,lineHeight:1.5},children:"Suggest a new category for our PDF library"})]}),g.jsxs("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Your Name *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(vd,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#bdc3c7"}}),g.jsx("input",{type:"text",value:n.name,onChange:u=>l("name",u.target.value),placeholder:"Enter your full name",style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Email Address *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Tg,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#bdc3c7"}}),g.jsx("input",{type:"email",value:n.email,onChange:u=>l("email",u.target.value),placeholder:"your.email@example.com",style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Category Name *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(PE,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#bdc3c7"}}),g.jsx("input",{type:"text",value:n.categoryName,onChange:u=>l("categoryName",u.target.value),placeholder:"e.g., Machine Learning, History, Cooking",style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Category Description *"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Nm,{size:18,style:{position:"absolute",left:"1rem",top:"1rem",color:"#bdc3c7"}}),g.jsx("textarea",{value:n.description,onChange:u=>l("description",u.target.value),placeholder:"Describe what types of documents would belong in this category...",rows:4,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"},required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2c3e50",fontSize:"0.9rem",fontWeight:600},children:"Examples (Optional)"}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Nm,{size:18,style:{position:"absolute",left:"1rem",top:"1rem",color:"#bdc3c7"}}),g.jsx("textarea",{value:n.examples,onChange:u=>l("examples",u.target.value),placeholder:"Provide examples of documents that would fit in this category...",rows:3,style:{width:"100%",padding:"1rem 1rem 1rem 3rem",border:"2px solid #ecf0f1",borderRadius:"12px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"},onFocus:u=>{u.target.style.borderColor="#3498db",u.target.style.boxShadow="0 0 0 3px rgba(52, 152, 219, 0.1)"},onBlur:u=>{u.target.style.borderColor="#ecf0f1",u.target.style.boxShadow="none"}})]})]}),g.jsxs("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",border:"none",borderRadius:"12px",background:t?"#bdc3c7":"linear-gradient(135deg, #9b59b6 0%, #3498db 100%)",color:"white",fontSize:"1rem",fontWeight:600,cursor:t?"not-allowed":"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:t?"none":"0 8px 25px rgba(155, 89, 182, 0.3)"},onMouseOver:u=>{t||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 12px 35px rgba(155, 89, 182, 0.4)")},onMouseOut:u=>{t||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 8px 25px rgba(155, 89, 182, 0.3)")},children:[g.jsx(Hh,{size:20}),t?"Sending Request...":"Submit Request"]})]}),g.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:g.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"#6c757d",lineHeight:1.4},children:[g.jsx("strong",{children:"Note:"})," Category requests are reviewed by our admin team. We'll email you once your category has been approved and added to the library."]})})]})})},_B=()=>{const{id:n}=d6(),{data:e,isLoading:t}=WO(n),i=()=>{e?.pdfUrl&&window.open(e.pdfUrl,"_blank")};return t?g.jsx(qs,{}):e?g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 lg:space-y-8 px-4 lg:px-0",children:[g.jsxs(qn,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-500 font-medium",children:[g.jsx(tu,{size:20,className:"mr-2"}),"Back to Library"]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 lg:p-8",children:[g.jsx("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:g.jsxs("div",{className:"flex-1",children:[g.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-4 leading-tight",children:e.title}),g.jsxs("div",{className:"space-y-3 mb-6",children:[g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(vd,{size:18,className:"mr-2 flex-shrink-0"}),g.jsxs("span",{children:["By ",e.author]})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(RE,{size:18,className:"mr-2 flex-shrink-0"}),g.jsxs("span",{children:["Published on ",DS(new Date(e.createdAt))]})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(qh,{size:18,className:"mr-2 flex-shrink-0"}),g.jsxs("span",{children:[e.viewCount," views"]})]})]}),(e.categories.length>0||e.tags.length>0)&&g.jsxs("div",{className:"mb-6",children:[e.categories.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categories"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map(a=>g.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:a},a))})]}),e.tags.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(a=>g.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded",children:[g.jsx(PE,{size:12,className:"mr-1"}),a]},a))})]})]}),g.jsx("div",{className:"flex justify-center lg:justify-start",children:g.jsxs("button",{onClick:i,className:"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[g.jsx(qh,{size:20,className:"mr-2"}),"Open PDF"]})})]})}),e.description&&g.jsxs("div",{className:"mt-6 lg:mt-8 pt-6 lg:pt-8 border-t",children:[g.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900 mb-4",children:"Description"}),g.jsx("div",{className:"prose prose-sm lg:prose max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:e.description}})]})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"PDF not found"}),g.jsx(qn,{to:"/",className:"text-blue-600 hover:text-blue-500",children:" Back to Library"})]})},EB=({children:n})=>{const{user:e,loading:t}=qw(),i=Tr();return t?g.jsx(qs,{}):e?g.jsx(g.Fragment,{children:n}):g.jsx(yg,{to:"/login",state:{from:i},replace:!0})},wB=({count:n=14,spread:e=75,speed:t=3.2,decay:i=.02,size:a=3,colorHue:l="white",zIndex:u=50})=>{const d=$.useRef(null),m=$.useRef(null),f=$.useRef([]),x=$.useRef(null);return $.useEffect(()=>{const _=d.current;if(!_)return;const b=_.getContext("2d");if(!b)return;m.current=b;const D=window.devicePixelRatio||1,N=()=>{_.width=Math.floor(window.innerWidth*D),_.height=Math.floor(window.innerHeight*D),_.style.width=`${window.innerWidth}px`,_.style.height=`${window.innerHeight}px`,b.setTransform(1,0,0,1,0,0),b.scale(D,D)};N(),window.addEventListener("resize",N);const B=(w,S)=>{for(let V=0;V<n;V++){const z=(Math.random()-.5)*e*Math.PI/180+Math.random()*Math.PI*2,U=t*(.6+Math.random()*.8),I=l==="rainbow"?Math.floor(Math.random()*360):typeof l=="number"?l:0;f.current.push({x:w,y:S,vx:Math.cos(z)*U,vy:Math.sin(z)*U,life:1,maxLife:1,size:a*(.7+Math.random()*.9),hue:I})}},k=w=>{window.matchMedia&&window.matchMedia("(hover: none), (pointer: coarse)").matches||B(w.clientX,w.clientY)};window.addEventListener("click",k);const L=()=>{const w=m.current;w.clearRect(0,0,_.width,_.height);const S=f.current;for(let V=S.length-1;V>=0;V--){const z=S[V];if(z.x+=z.vx,z.y+=z.vy,z.vy+=.05,z.life-=i,z.life<=0){S.splice(V,1);continue}w.globalAlpha=Math.max(z.life,0),l==="white"?w.fillStyle="#ffffff":w.fillStyle=`hsl(${z.hue}, 90%, 60%)`,w.beginPath(),w.arc(z.x,z.y,z.size,0,Math.PI*2),w.fill()}x.current=requestAnimationFrame(L)};return x.current=requestAnimationFrame(L),()=>{window.removeEventListener("resize",N),window.removeEventListener("click",k),x.current&&cancelAnimationFrame(x.current)}},[n,e,t,i,a,l]),g.jsx("canvas",{ref:d,"aria-hidden":!0,style:{position:"fixed",inset:0,pointerEvents:"none",zIndex:u}})},AB=new bT({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});function TB(){return g.jsx(TT,{client:AB,children:g.jsx(W6,{basename:"/pdf",children:g.jsxs("div",{className:"min-h-screen",children:[g.jsx(wB,{}),g.jsx("main",{children:g.jsxs(sE,{children:[g.jsx(bn,{path:"/",element:g.jsx(eB,{})}),g.jsx(bn,{path:"/pdf/:id",element:g.jsx(_B,{})}),g.jsx(bn,{path:"/login",element:g.jsx(tB,{})}),g.jsx(bn,{path:"/guest-login",element:g.jsx(xB,{})}),g.jsx(bn,{path:"/request",element:g.jsx(vB,{})}),g.jsx(bn,{path:"/request-category",element:g.jsx(bB,{})}),g.jsx(bn,{path:"/guest-dashboard",element:g.jsx(gB,{})}),g.jsx(bn,{path:"/dashboard/*",element:g.jsx(EB,{children:g.jsx(fB,{})})})]})}),g.jsx(CC,{position:"top-right"})]})})})}_m.init("_9RGrzGJBHDS-3KMA");k3.createRoot(document.getElementById("root")).render(g.jsx($.StrictMode,{children:g.jsx(TB,{})}));
